<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Professional SVG Terminal - Risk Management</title>
    <link rel="icon" href="logo.png" type="image/png">
    <meta name="description" content="Professional SVG Terminal for crypto trading risk management. Calculate entry, take profit, stop loss and liquidation levels visually.">
    <meta name="keywords" content="trading, crypto, calculator, risk management, svg chart, binance, liquidation price">
    <meta name="author" content="c4t">

    <meta property="og:title" content="Calculator4Traders — Калькулятор для трейдеров">

    <meta property="og:description" content="Бесплатный инструмент для расчета рисков и размера позиции.">

    <meta property="og:image" content="https://calculator4traders.github.io/logo.png">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculator4traders.github.io/">


    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Professional SVG Terminal - Risk Management">
    <meta property="twitter:description" content="Visual trading calculator with real-time charts and liquidation price tracking.">
    <meta property="twitter:image" content="logo.png">

    <link rel="icon" type="image/png" href="logo.png">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { background: #0f1a30; color: white; font-family: 'Trebuchet MS', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        .calculator { 
            width: 300px; background: #1e2b47; padding: 20px; z-index: 10; 
            border-right: 1px solid #3a4f7a; flex-shrink: 0; overflow-y: auto; 
        }
        .calculator::-webkit-scrollbar { width: 4px; display: block; }
        .calculator::-webkit-scrollbar-thumb { background: #3a4f7a; border-radius: 10px; }

        .commission-warning { color: #ff9800; font-size: 12px; margin-bottom: 15px; text-align: center; border: 1px solid #ff9800; padding: 5px; border-radius: 4px; }
        .input-group { margin-bottom: 8px; }
        label { display: block; margin-bottom: 8px; color: #b8c7e0; font-size: 18px; }
        .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; color: #b8c7e0; }
        .label-row span:first-child { font-size: 18px; }
        .input-wrapper { position: relative; display: flex; align-items: center; }
        input, select { width: 100%; padding: 8.5px; padding-right: 30px; background: #2a3c5f; border: 1px solid #3a4f7a; border-radius: 5px; color: white; font-size: 14px; box-sizing: border-box; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        .clear-input-btn { position: absolute; right: 10px; background: transparent; border: none; color: white; cursor: pointer; font-size: 16px; font-weight: bold; display: none; line-height: 1; }
        input:not(:placeholder-shown) + .clear-input-btn { display: block; }
        .result-value { font-size: 16px; font-weight: bold; color: #b8c7e0; }
        .side-selector { display: flex; gap: 10px; margin-top: 15px; margin-bottom: 15px; }
        .side-btn { flex: 1; padding: 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; opacity: 0.4; transition: 0.3s; font-size: 14px; }
        .side-btn.long { background: #26a69a; color: white; }
        .side-btn.short { background: #ef5350; color: white; }
        .side-btn.active { opacity: 1; box-shadow: 0 0 10px rgba(255,255,255,0.2); }
        hr { border: 0; border-top: 1px solid #3a4f7a; margin: 8px 0; }
        
        .chart-section { flex-grow: 1; position: relative; background: #131722; display: flex; flex-direction: column; }
        .tf-panel { background: #131722; padding: 10px 15px; display: flex; gap: 6px; border-bottom: 1px solid #2a2e39; flex-wrap: wrap; align-items: center; }
        .tf-btn { background: #1e222d; border: 1px solid #363c4e; color: #d1d4dc; cursor: pointer; padding: 5px 12px; font-size: 12px; border-radius: 4px; }
        .tf-btn.active { color: white; background: #2962ff; border-color: #2962ff; font-weight: bold; }
        .symbol-search { background: #1e222d; border: 1px solid #363c4e; color: #2962ff; padding: 5px 10px; font-size: 12px; border-radius: 4px; width: 110px; font-weight: bold; outline: none; }
        #svg-chart { width: 100%; flex-grow: 1; display: block; cursor: crosshair; touch-action: none; }
        .axis-text text { fill: #b8c7e0 !important; font-size: 16px !important; font-weight: 100 !important; user-select: none; }
        .grid-line { stroke: rgba(42, 46, 57, 0.6); }
        .axis-border { stroke: #363c4e; stroke-width: 1px; }
        .crosshair-line { stroke: #707d8b; stroke-width: 1; stroke-dasharray: 4,4; pointer-events: none; }
        .crosshair-label-bg { fill: #363c4e; } 
        .crosshair-label-text { fill: #b8c7e0; font-size: 13px; font-weight: bold; text-anchor: middle; }
        .price-label-main { fill: #b8c7e0; font-size: 16px; font-weight: 900; }
        .price-label-timer { fill: #ffffff; font-size: 12px; font-family: 'Courier New', monospace; font-weight: bold; }
        .price-line { stroke-width: 3px; cursor: ns-resize; }
        .line-label { font-size: 11px; font-weight: bold; pointer-events: none; }
        .h-sum-display { margin-left: 5px; margin-right: 5px; font-weight: bold; font-size: 14px; min-width: 30px; }
        .clear-h-btn { background: #363c4e; color: #ef5350; border: 1px solid #4a5266; cursor: pointer; padding: 2px 8px; font-size: 14px; border-radius: 4px; font-weight: bold; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: #131722; width: 450px; border: 1px solid #363c4e; border-radius: 12px; position: relative; padding: 30px; box-sizing: border-box; text-align: center; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 24px; color: #ef5350; cursor: pointer; font-weight: bold; }
        
        .donate-container { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 10px; }
        .qr-wrapper { background: white; padding: 10px; border-radius: 8px; display: inline-block; }
        .crypto-selector { display: flex; gap: 8px; justify-content: center; margin-bottom: 5px; }
        .crypto-btn { background: #1e222d; border: 1px solid #363c4e; color: #b8c7e0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .crypto-btn.active { border-color: #2962ff; color: white; background: #2962ff; }
        .address-display { font-family: monospace; font-size: 11px; color: #2962ff; background: #1e222d; padding: 10px; border-radius: 4px; word-break: break-all; cursor: pointer; border: 1px dashed #363c4e; }
        .address-display:active { background: #2962ff; color: white; }

        .instruction-text { color: #b8c7e0; font-size: 14px; line-height: 1.6; text-align: left; margin-bottom: 25px; background: rgba(41, 98, 255, 0.05); padding: 15px; border-radius: 8px; border: 1px solid #2a2e39; }
        .instruction-text b { color: #2962ff; }

        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (max-width: 768px) {
            body { display: flex; flex-direction: row; overflow-x: auto; scroll-snap-type: x mandatory; }
            .calculator, .chart-section { width: 100vw; min-width: 100vw; height: 100dvh; flex-shrink: 0; scroll-snap-align: start; }
            .calculator { padding: 10px 15px; overflow-y: auto; -webkit-overflow-scrolling: touch; box-sizing: border-box; }
            .tf-panel { flex-wrap: nowrap; overflow-x: auto; height: auto; min-height: 50px; }
            .modal-content { width: 90vw; padding: 20px; }
            #lang-selector { margin-left: 10px !important; }
        }
    </style>
</head>
<body>

<div id="info-modal" class="modal-overlay" onclick="if(event.target === this) toggleInfo(false)">
    <div class="modal-content">
        <span class="close-modal" onclick="toggleInfo(false)">✕</span>
        
        <div id="modal-start-view" style="display: flex; flex-direction: column; justify-content: flex-start; align-items: center;">
            <div class="instruction-text" id="modal-instruction">
                Калькулятор создан для удобства и визуализации сделок на графике. 
                Для открытия сделки нажмите кнопку <b>S/L</b>: первое нажатие на график создаст уровень входа, а второе — тейка. 
                Заполните поля: баланс, стоимость открытия и плечо. 
                Нажмите <b>OK</b> в окне баланс и получите расчет профита по тейку и уровень ликвидации на графике. 
                Уровни на графике можно перетаскивать(пока только в пк версии). 
                <br><br>
                <span style="color: #ff9800;">Помните что калькулятор не учитывает комиссии биржи!</span>
            </div>
            <button class="side-btn long active" id="btn-support-dev" style="opacity: 1; width: 100%; max-width: 280px;" onclick="showDonation()">Поддержать разработчика</button>
        </div>

        <div id="modal-donate-view" style="display: none;" class="fade-in">
            <div style="margin-bottom: 20px;">
                <svg width="60" height="60" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100" height="100" rx="22" fill="black"/>
                    <text x="50" y="65" font-family="sans-serif" font-weight="900" font-size="42" fill="white" text-anchor="middle" style="letter-spacing: -2px;">c4t</text>
                </svg>
                <h3 style="margin: 10px 0 5px 0; color: white;">Support Terminal</h3>
            </div>

            <div class="crypto-selector">
                <button class="crypto-btn active" onclick="setCrypto('TRX')">USDT (TRC20)</button>
                <button class="crypto-btn" onclick="setCrypto('ETH')">ETH/ERC20</button>
                <button class="crypto-btn" onclick="setCrypto('XRP')">XRP</button>
            </div>

            <div class="donate-container">
                <div class="qr-wrapper" id="qrcode"></div>
                <div class="address-display" id="addr-text" title="Нажмите, чтобы скопировать">---</div>
                <small style="color: #b8c7e0; font-size: 10px;">Tap address to copy</small>
            </div>
        </div>
    </div>
</div>

<div class="calculator">
    <div class="commission-warning" id="lbl-comm-warn">калькулятор не учитывает комиссии биржи</div>
    <div class="input-group">
        <label id="lbl-entry">Вход (Цена актива)</label>
        <div class="input-wrapper">
            <input type="number" id="entryPrice" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-take">Тейк</label>
        <div class="input-wrapper">
            <input type="number" id="takeProfit" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-stop">Стоп</label>
        <div class="input-wrapper">
            <input type="number" id="stopLoss" step="any" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmStopLoss()">OK</button>
        </div>
    </div>
    <hr>
    <div class="input-group">
        <label id="lbl-balance">Баланс ($)</label>
        <div class="input-wrapper">
            <input type="number" id="balance" placeholder=" " oninput="handleBalanceInput()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmBalance()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-margin">Стоимость открытия ($)</label>
        <div class="input-wrapper">
            <input type="number" id="marginCost" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" onclick="clearAllPurchases()">✕</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-margin">Докупить ($)</label>
        <div class="input-wrapper">
            <input type="number" id="addMargin" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executeDCA()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="addPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('addPrice')">✕</button>
        </div>
    </div>
    <hr>
    <div class="input-group"><label id="lbl-lev">Плечо</label><input type="number" id="leverage" value="3" placeholder=" " oninput="calculateAll()"></div>
    
    <div class="input-group">
        <label id="lbl-partial-percent">Закрыть часть сделки %</label>
        <div class="input-wrapper">
            <input type="number" id="partialPercent" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executePartialClose()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-partial-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="partialPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('partialPrice')">✕</button>
        </div>
    </div>
    <hr>

    <div class="side-selector">
        <button class="side-btn long active" id="btn-long" onclick="setSide('long')">LONG</button>
        <button class="side-btn short" id="btn-short" onclick="setSide('short')">SHORT</button>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-liq-text">Ликвидация</span><span id="liqPrice" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-profit">Профит по тейку ($)</span><span id="takeProfitValue" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-loss">Потери по стопу ($)</span><span id="stopLossValue" class="result-value">0.00</span></div>
    </div>
</div>

<div class="chart-section">
    <div class="tf-panel" id="tf-panel"></div>
    <svg id="svg-chart"></svg>
</div>

<datalist id="symbolsList"></datalist>

<script>
    const _0x273c9d=_0x383f;(function(_0x3e2d2e,_0x1e01c3){const _0x3688c1=_0x383f,_0x129257=_0x3e2d2e();while(!![]){try{const _0x5f461a=parseInt(_0x3688c1(0x105))/0x1+-parseInt(_0x3688c1(0x23c))/0x2*(parseInt(_0x3688c1(0x16b))/0x3)+-parseInt(_0x3688c1(0x137))/0x4*(-parseInt(_0x3688c1(0xc1))/0x5)+-parseInt(_0x3688c1(0x128))/0x6*(-parseInt(_0x3688c1(0x114))/0x7)+-parseInt(_0x3688c1(0xef))/0x8+parseInt(_0x3688c1(0x1c5))/0x9+-parseInt(_0x3688c1(0x1bb))/0xa;if(_0x5f461a===_0x1e01c3)break;else _0x129257['push'](_0x129257['shift']());}catch(_0x63eb25){_0x129257['push'](_0x129257['shift']());}}}(_0x148c,0xbc290),(function(){const _0x1b119b=_0x383f,_0x2fd2e6=_0x1b119b(0x19a),_0x1effcf=window[_0x1b119b(0x1a9)][_0x1b119b(0x110)]==='file:',_0x30ffdb=window[_0x1b119b(0x1a9)]['hostname']===_0x2fd2e6;if(!_0x1effcf&&!_0x30ffdb){document['body'][_0x1b119b(0x1df)]=_0x1b119b(0x18e);throw new Error('Access\x20denied:\x20invalid\x20domain');}}()));const WALLETS={'TRX':_0x273c9d(0x1d7),'ETH':'0x9096cB9D2b34149d39D1b591C3D1544c0A4902F4','XRP':_0x273c9d(0x1f5)};let qrGenerator=null;function toggleInfo(_0x24c62a){const _0x29455e=_0x273c9d;document[_0x29455e(0x200)](_0x29455e(0xfb))[_0x29455e(0xe3)][_0x29455e(0x23b)]=_0x24c62a?_0x29455e(0x204):_0x29455e(0x17c),_0x24c62a&&(document[_0x29455e(0x200)]('modal-start-view')['style'][_0x29455e(0x23b)]=_0x29455e(0x204),document[_0x29455e(0x200)](_0x29455e(0x227))[_0x29455e(0xe3)][_0x29455e(0x23b)]=_0x29455e(0x17c));}function showDonation(){const _0x5934ab=_0x273c9d;document['getElementById'](_0x5934ab(0x101))[_0x5934ab(0xe3)][_0x5934ab(0x23b)]=_0x5934ab(0x17c),document[_0x5934ab(0x200)](_0x5934ab(0x227))[_0x5934ab(0xe3)][_0x5934ab(0x23b)]=_0x5934ab(0x22d),setCrypto('TRX');}function setCrypto(_0x23fd99){const _0x2e4729=_0x273c9d;document[_0x2e4729(0x1c8)]('.crypto-btn')[_0x2e4729(0x1e9)](_0x5b0c9a=>{const _0x25f2a0=_0x2e4729;_0x5b0c9a[_0x25f2a0(0x1bd)][_0x25f2a0(0xd8)](_0x25f2a0(0xd7),_0x5b0c9a[_0x25f2a0(0xc2)][_0x25f2a0(0x244)](_0x23fd99)||_0x23fd99==='TRX'&&_0x5b0c9a['innerText'][_0x25f2a0(0x244)](_0x25f2a0(0x216)));});const _0x4f39e2=WALLETS[_0x23fd99],_0x19b5e1=document[_0x2e4729(0x200)](_0x2e4729(0x11c)),_0xe410c=document[_0x2e4729(0x200)]('addr-text');_0x19b5e1[_0x2e4729(0x1df)]='',_0xe410c[_0x2e4729(0xc2)]=_0x4f39e2,new QRCode(_0x19b5e1,{'text':_0x4f39e2,'width':0x96,'height':0x96,'colorDark':_0x2e4729(0x15e),'colorLight':_0x2e4729(0x1f1),'correctLevel':QRCode['CorrectLevel']['H']}),_0xe410c[_0x2e4729(0x13d)]=()=>{const _0x2632df=_0x2e4729;navigator['clipboard'][_0x2632df(0x186)](_0x4f39e2);const _0x5de249=_0xe410c[_0x2632df(0xc2)];_0xe410c[_0x2632df(0xc2)]=_0x2632df(0x14e),setTimeout(()=>{_0xe410c['innerText']=_0x5de249;},0x3e8);};}const i18n={'ru':{'entry':_0x273c9d(0x230),'take':_0x273c9d(0x103),'stop':'Стоп','balance':'Баланс\x20($)','margin':'Стоимость\x20открытия\x20($)','addMargin':_0x273c9d(0x1aa),'addPrice':_0x273c9d(0x16d),'lev':_0x273c9d(0x10a),'liq':_0x273c9d(0x1b8),'profit':_0x273c9d(0x131),'loss':_0x273c9d(0x1db),'confirmClear':_0x273c9d(0x242),'promptResult':_0x273c9d(0x1c6),'liqCross':'Ликвидация\x20(Cross)','liqMargin':_0x273c9d(0x1ba),'partialPercent':_0x273c9d(0x173),'partialPrice':_0x273c9d(0x16d),'infoText':_0x273c9d(0x132),'donateBtn':_0x273c9d(0x122),'warn':_0x273c9d(0x17b)},'en':{'entry':_0x273c9d(0x152),'take':'Take\x20Profit','stop':_0x273c9d(0x1c2),'balance':_0x273c9d(0x224),'margin':_0x273c9d(0x235),'addMargin':_0x273c9d(0x18a),'addPrice':'At\x20Price','lev':'Leverage','liq':_0x273c9d(0x161),'profit':'TP\x20Profit\x20($)','loss':'SL\x20Loss\x20($)','confirmClear':_0x273c9d(0x113),'promptResult':_0x273c9d(0x162),'liqCross':'Liquidation\x20(Cross)','liqMargin':'Liquidation\x20(Margin)','partialPercent':_0x273c9d(0x188),'partialPrice':_0x273c9d(0x241),'infoText':_0x273c9d(0x192),'donateBtn':_0x273c9d(0x232),'warn':'calculator\x20does\x20not\x20account\x20for\x20fees'},'zh':{'entry':_0x273c9d(0x1b6),'take':'止盈','stop':'止损','balance':_0x273c9d(0x21d),'margin':_0x273c9d(0xf0),'addMargin':_0x273c9d(0x13b),'addPrice':_0x273c9d(0x22f),'lev':'杠杆','liq':_0x273c9d(0x222),'profit':'预计盈利\x20($)','loss':_0x273c9d(0x22c),'confirmClear':_0x273c9d(0xe6),'promptResult':_0x273c9d(0x1f6),'liqCross':'强平\x20(全仓)','liqMargin':'强平\x20(逐仓)','partialPercent':_0x273c9d(0x179),'partialPrice':'平仓价格','infoText':_0x273c9d(0x205),'donateBtn':_0x273c9d(0x1af),'warn':_0x273c9d(0x20f)},'hi':{'entry':_0x273c9d(0xc3),'take':_0x273c9d(0x11d),'stop':_0x273c9d(0x1d8),'balance':_0x273c9d(0x117),'margin':_0x273c9d(0xd9),'addMargin':_0x273c9d(0x218),'addPrice':_0x273c9d(0x120),'lev':_0x273c9d(0x15f),'liq':_0x273c9d(0xbc),'profit':_0x273c9d(0x181),'loss':_0x273c9d(0x10c),'confirmClear':_0x273c9d(0x174),'promptResult':_0x273c9d(0x203),'liqCross':_0x273c9d(0x13c),'liqMargin':_0x273c9d(0x20a),'partialPercent':_0x273c9d(0x1d1),'partialPrice':_0x273c9d(0x120),'infoText':_0x273c9d(0x1de),'donateBtn':'डेवलपर\x20का\x20समर्थन\x20करें','warn':'कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20नहीं\x20जोड़ता\x20है'},'es':{'entry':_0x273c9d(0x1f2),'take':'Take\x20Profit','stop':_0x273c9d(0x1c2),'balance':_0x273c9d(0x1ca),'margin':_0x273c9d(0x189),'addMargin':_0x273c9d(0x1cb),'addPrice':_0x273c9d(0x233),'lev':_0x273c9d(0x155),'liq':_0x273c9d(0x1b9),'profit':_0x273c9d(0xc5),'loss':_0x273c9d(0x151),'confirmClear':_0x273c9d(0x1cd),'promptResult':_0x273c9d(0x1f8),'liqCross':'Liquidación\x20(Cross)','liqMargin':_0x273c9d(0x239),'partialPercent':_0x273c9d(0x150),'partialPrice':_0x273c9d(0x233),'infoText':'Calculadora\x20para\x20visualizar\x20operaciones.\x20Pulsa\x20<b>S/L</b>:\x20primer\x20clic\x20entrada,\x20segundo\x20clic\x20TP.\x20Rellena\x20saldo,\x20margen\x20y\x20apalancamiento.\x20Pulsa\x20<b>OK</b>\x20en\x20saldo\x20para\x20ver\x20beneficios\x20y\x20liquidación.\x20Puedes\x20arrastrar\x20los\x20niveles\x20en\x20el\x20gráfico.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>¡Recuerde\x20que\x20no\x20incluye\x20comisiones!</span>','donateBtn':_0x273c9d(0x1d3),'warn':_0x273c9d(0x211)},'fr':{'entry':_0x273c9d(0xe2),'take':'Take\x20Profit','stop':_0x273c9d(0x1c2),'balance':_0x273c9d(0xfc),'margin':_0x273c9d(0x16a),'addMargin':_0x273c9d(0x1a5),'addPrice':_0x273c9d(0x123),'lev':_0x273c9d(0x1cc),'liq':_0x273c9d(0x161),'profit':_0x273c9d(0x125),'loss':_0x273c9d(0x1c9),'confirmClear':'Supprimer\x20toutes\x20les\x20zones\x20?','promptResult':_0x273c9d(0x167),'liqCross':'Liquidation\x20(Cross)','liqMargin':_0x273c9d(0x239),'partialPercent':_0x273c9d(0xea),'partialPrice':'Au\x20Prix','infoText':_0x273c9d(0x228),'donateBtn':'Soutenir\x20le\x20développeur','warn':_0x273c9d(0x138)},'ar':{'entry':_0x273c9d(0x207),'take':_0x273c9d(0x142),'stop':'وقف\x20الخсارة','balance':_0x273c9d(0x119),'margin':_0x273c9d(0x213),'addMargin':_0x273c9d(0x140),'addPrice':_0x273c9d(0xc6),'lev':_0x273c9d(0x10f),'liq':'التصفية','profit':_0x273c9d(0xfe),'loss':_0x273c9d(0x15d),'confirmClear':'هل\x20أنت\x20متأكد\x20من\x20مسح\x20جميع\x20المناطق؟','promptResult':'أدخل\x20نتيجة\x20الصفقة:','liqCross':_0x273c9d(0xbd),'liqMargin':_0x273c9d(0x1d4),'partialPercent':_0x273c9d(0x1fc),'partialPrice':'عند\x20السعر','infoText':_0x273c9d(0x12e),'donateBtn':_0x273c9d(0xeb),'warn':'الحاسبة\x20لا\x20تحتسب\x20رسوم\x20المنصة'},'bn':{'entry':_0x273c9d(0x17f),'take':_0x273c9d(0x237),'stop':_0x273c9d(0x1dc),'balance':'ব্যালেন্স\x20($)','margin':_0x273c9d(0x16c),'addMargin':_0x273c9d(0xdd),'addPrice':'মূল্য\x20নির্ধারণ','lev':'লিভারেজ','liq':'লিকুইডেশন','profit':_0x273c9d(0x18f),'loss':_0x273c9d(0x102),'confirmClear':_0x273c9d(0xdc),'promptResult':_0x273c9d(0x1d9),'liqCross':_0x273c9d(0xc7),'liqMargin':_0x273c9d(0x17e),'partialPercent':_0x273c9d(0x107),'partialPrice':_0x273c9d(0x164),'infoText':'ট্রেড\x20ভিজ্যুয়ালাইজ\x20করার\x20জন্য\x20ক্যালকুলেটর।\x20<b>S/L</b>\x20চাপুন:\x20১ম\x20ক্লিকে\x20এন্ট্রি,\x20২য়\x20ক্লিকে\x20TP\x20সেট\x20হবে।\x20ব্যালেন্স,\x20মার্জিন\x20এবং\x20লিভারেজ\x20পূরণ\x20করুন।\x20প্রফিট\x20দেখতে\x20ব্যালেন্সে\x20<b>OK</b>\x20চাপুন।\x20লেভেলগুলো\x20ড্র্যাগ\x20করা\x20যায়।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>মনে\x20রাখবেন,\x20এটি\x20এক্সচেঞ্জ\x20ফি\x20গণনা\x20করে\x20না!</span>','donateBtn':_0x273c9d(0x11a),'warn':_0x273c9d(0x1d0)},'pt':{'entry':_0x273c9d(0x193),'take':_0x273c9d(0x1d5),'stop':_0x273c9d(0x1c2),'balance':_0x273c9d(0x1ca),'margin':_0x273c9d(0x14a),'addMargin':_0x273c9d(0x1b3),'addPrice':_0x273c9d(0x1e3),'lev':'Alavancagem','liq':_0x273c9d(0x223),'profit':_0x273c9d(0xbf),'loss':_0x273c9d(0x1ef),'confirmClear':'Limpar\x20todas\x20as\x20zonas?','promptResult':_0x273c9d(0xc9),'liqCross':'Liquidação\x20(Cross)','liqMargin':_0x273c9d(0xc8),'partialPercent':_0x273c9d(0x209),'partialPrice':'Ao\x20Preço','infoText':_0x273c9d(0x15c),'donateBtn':_0x273c9d(0x1ff),'warn':'a\x20calculadora\x20não\x20incluye\x20taxas'},'ja':{'entry':_0x273c9d(0x126),'take':'利確','stop':'損切','balance':'残高\x20($)','margin':_0x273c9d(0x130),'addMargin':_0x273c9d(0x11f),'addPrice':_0x273c9d(0x1ea),'lev':_0x273c9d(0x201),'liq':_0x273c9d(0x16e),'profit':_0x273c9d(0x1fd),'loss':_0x273c9d(0x1c4),'confirmClear':_0x273c9d(0x21e),'promptResult':_0x273c9d(0x190),'liqCross':'清算\x20(クロス)','liqMargin':_0x273c9d(0x178),'partialPercent':_0x273c9d(0x1ad),'partialPrice':_0x273c9d(0x1ea),'infoText':_0x273c9d(0x1da),'donateBtn':'開発者を支援する','warn':_0x273c9d(0xd1)}};let currentLang=localStorage['getItem'](_0x273c9d(0x127))||'ru',candles=[],currentTF=_0x273c9d(0x1e4),currentSide=_0x273c9d(0x14b),currentSymbol=_0x273c9d(0x23a),symbolSettings=JSON['parse'](localStorage[_0x273c9d(0x121)](_0x273c9d(0xf7)))||{},historyZones=JSON[_0x273c9d(0x13a)](localStorage['getItem'](_0x273c9d(0x214)))||[],dcaLines=[],closeLines=[],isHMode=![],hStep=0x0,hTemp=null,activeTradeStartTime=null,confirmedBalanceBase=null,confirmedStopLossValue=null,isDcaOrderActive=![],isPartialOrderActive=![],isSLMode=![],margin={'top':0x14,'right':window[_0x273c9d(0x15b)]<=0x300?0x3c:0x6e,'bottom':0x28,'left':0xa},yScale=d3[_0x273c9d(0x146)](),xScale=d3[_0x273c9d(0x1f4)](),mousePos=null,slStep=0x0;const svg=d3[_0x273c9d(0x13f)](_0x273c9d(0x1d6)),defs=svg[_0x273c9d(0x23d)]('defs');defs['append']('clipPath')[_0x273c9d(0x12f)]('id',_0x273c9d(0x226))['append']('rect')[_0x273c9d(0x12f)]('x',0x0)['attr']('y',0x0);const mainG=svg[_0x273c9d(0x23d)]('g')[_0x273c9d(0x12f)](_0x273c9d(0x217),_0x273c9d(0x177)+margin[_0x273c9d(0xdf)]+','+margin[_0x273c9d(0x154)]+')'),contentG=mainG[_0x273c9d(0x23d)]('g')[_0x273c9d(0x12f)](_0x273c9d(0x10b),_0x273c9d(0xf1)),overlayG=mainG[_0x273c9d(0x23d)]('g'),crosshairG=svg[_0x273c9d(0x23d)]('g')[_0x273c9d(0x12f)](_0x273c9d(0x217),_0x273c9d(0x177)+margin[_0x273c9d(0xdf)]+','+margin['top']+')');let yDomain=[0x0,0x0],visibleCount=0x50,scrollOffset=0x0,isDragging=![],lastMouse={'x':0x0,'y':0x0},isPriceScaling=![],initialPinchDist=null;const tfMap={'1s':0x1,'1m':0x3c,'5m':0x12c,'15m':0x384,'1h':0xe10,'4h':0x3840,'1d':0x15180,'1w':0x93a80,'1M':0x278d00,'1y':0x1e13380},timeframes=['1s','1m','5m',_0x273c9d(0x1e4),'1h','4h','1d','1w','1M','1y'],tfPanel=document['getElementById'](_0x273c9d(0x14c));timeframes[_0x273c9d(0x1e9)](_0x45ea2c=>{const _0x23bb7f=_0x273c9d,_0x4caf23=document['createElement'](_0x23bb7f(0x1c0));_0x4caf23['className']='tf-btn\x20'+(_0x45ea2c===currentTF?_0x23bb7f(0xd7):''),_0x4caf23[_0x23bb7f(0xc2)]=_0x45ea2c,_0x4caf23['onclick']=()=>{const _0x77ee0a=_0x23bb7f;currentTF=_0x45ea2c,document[_0x77ee0a(0x1c8)](_0x77ee0a(0x184))[_0x77ee0a(0x1e9)](_0x5c42aa=>_0x5c42aa[_0x77ee0a(0x1bd)][_0x77ee0a(0x1e2)](_0x77ee0a(0xd7))),_0x4caf23['classList'][_0x77ee0a(0x1e8)]('active'),loadData(!![]);},tfPanel[_0x23bb7f(0xbb)](_0x4caf23);});const slBtn=document['createElement'](_0x273c9d(0x1c0));slBtn[_0x273c9d(0x1bf)]='tf-btn\x20sl-mode-btn',slBtn[_0x273c9d(0xc2)]=_0x273c9d(0xce),slBtn[_0x273c9d(0x13d)]=toggleSLMode,tfPanel[_0x273c9d(0xbb)](slBtn);const symbolInput=document[_0x273c9d(0xe4)](_0x273c9d(0x21a));symbolInput[_0x273c9d(0x1bf)]=_0x273c9d(0x1ac),symbolInput[_0x273c9d(0x195)](_0x273c9d(0x22a),_0x273c9d(0x143)),symbolInput[_0x273c9d(0x1eb)]=currentSymbol,symbolInput[_0x273c9d(0x149)]=function(){const _0x36036c=_0x273c9d;this[_0x36036c(0x1eb)]='';},symbolInput[_0x273c9d(0x1f0)]=function(){if(this['value']==='')this['value']=currentSymbol;},symbolInput['onchange']=_0x28c4c0=>{const _0x321521=_0x273c9d,_0xc97ec4=_0x28c4c0['target'][_0x321521(0x1eb)][_0x321521(0x170)]();if(_0xc97ec4){currentSymbol=_0xc97ec4;const _0x4109ac=symbolSettings[currentSymbol]||{};document[_0x321521(0x200)]('entryPrice')[_0x321521(0x1eb)]=_0x4109ac['entry']||'',document['getElementById']('takeProfit')[_0x321521(0x1eb)]=_0x4109ac['tp']||'',document[_0x321521(0x200)](_0x321521(0x1e7))[_0x321521(0x1eb)]=_0x4109ac['sl']||'',confirmedStopLossValue=_0x4109ac['sl']||null,document[_0x321521(0x200)](_0x321521(0xd0))[_0x321521(0x1eb)]=_0x4109ac[_0x321521(0x1fa)]||'',document[_0x321521(0x200)](_0x321521(0x129))[_0x321521(0x1eb)]=_0x4109ac[_0x321521(0x129)]||'3',closeLines=_0x4109ac[_0x321521(0x185)]||[];if(_0x4109ac[_0x321521(0x1a0)])setSide(_0x4109ac[_0x321521(0x1a0)]);loadData(!![])['then'](()=>calculateAll());}},tfPanel[_0x273c9d(0xbb)](symbolInput);const hBtn=document[_0x273c9d(0xe4)](_0x273c9d(0x1c0));hBtn[_0x273c9d(0x1bf)]=_0x273c9d(0x1fe),hBtn[_0x273c9d(0xc2)]='H',hBtn[_0x273c9d(0x13d)]=()=>{const _0x3dfc68=_0x273c9d;isHMode=!isHMode,hStep=0x0,hBtn[_0x3dfc68(0x1bd)][_0x3dfc68(0xd8)]('active',isHMode);if(isHMode&&isSLMode)toggleSLMode();},tfPanel[_0x273c9d(0xbb)](hBtn);const sumDisplay=document[_0x273c9d(0xe4)]('div');sumDisplay[_0x273c9d(0x1bf)]='h-sum-display',sumDisplay['id']=_0x273c9d(0x1c1),sumDisplay[_0x273c9d(0xc2)]='0',tfPanel[_0x273c9d(0xbb)](sumDisplay);function _0x383f(_0x4e0198,_0x4e31d2){_0x4e0198=_0x4e0198-0xbb;const _0x148c4a=_0x148c();let _0x383fbd=_0x148c4a[_0x4e0198];return _0x383fbd;}const clearHBtn=document[_0x273c9d(0xe4)](_0x273c9d(0x1c0));function _0x148c(){const _0x1db7ef=['partialPrice','max','info-modal','Solde\x20($)','stringify','ربح\x20TP\x20($)','step','takeProfitValue','modal-start-view','এসএল\x20ক্ষতি\x20($)','Тейк','setItem','1539949wuUNVU','14px','আংশিক\x20বন্ধ\x20%','fill','mousedown','Плечо','clip-path','एसएल\x20हानि\x20($)','quoteAsset','matches','الرافعة\x20المالية','protocol','ceil','json','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20ALL\x20zones?','804209AvVFbs','addPrice','lbl-margin','बैलेंस\x20($)','split','الرصيد\x20($)','ডেভেলপারকে\x20সমর্থন\x20করুন','entry','qrcode','मुनाफा','partialPercent','追加入金\x20($)','कीमत\x20पर','getItem','Поддержать\x20разработчика','Au\x20Prix','clientX','Profit\x20TP\x20($)','エントリー価格','lang','60PbnZBN','leverage','price-line','axis-border','push','node','تمออกแบบมาเพื่อการจำลองเทรด\x20กด\x20<b>S/L</b>:\x20คลิกแรกคือทางเข้า\x20คลิกสองคือ\x20TP\x20กรอกยอดเงินและเลเวอเรจเพื่อดูจุดเลิกกิจการ\x20ลากเส้นบนกราфได้<br><br><span\x20style=\x27color:\x20#ff9800;\x27>โปรดทราบว่า\x20неรวมค่าธรรมเนียม!</span>','attr','証拠金\x20($)','Профит\x20по\x20тейку\x20($)','Калькулятор\x20создан\x20для\x20удобства\x20и\x20визуализации\x20сделок\x20на\x20графике.\x20Для\x20открытия\x20сделки\x20нажмите\x20кнопку\x20<b>S/L</b>:\x20первое\x20нажатие\x20на\x20график\x20создаст\x20уровень\x20входа,\x20а\x20второе\x20—\x20тейка.\x20Заполните\x20поля:\x20баланс,\x20стоимость\x20открытия\x20и\x20плечо.\x20Нажмите\x20<b>OK</b>\x20в\x20окне\x20баланс\x20и\x20получите\x20расчет\x20профита\x20по\x20тейку\x20и\x20уровень\x20ликвидации\x20на\x20графике.\x20Уровни\x20на\x20графике\x20можно\x20перетаскивать(пока\x20только\x20в\x20пк\x20версии).\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Помните\x20что\x20калькулятор\x20не\x20учитывает\x20комиссии\x20биржи!</span>','Português','option','btn-long','toLocaleTimeString','2348BSowJv','ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais','lang-selector','parse','加仓\x20($)','लिक्विडेशन\x20(Cross)','onclick','warn','select','إضافة\x20هامش\x20($)','touches','جني\x20الأرباح','symbolsList','middle','\x20[x]','scaleLinear','stroke','&limit=1000','onfocus','Custo\x20de\x20Margен\x20($)','long','tf-panel','toFixed','COPIED!','invert','Cierre\x20Parcial\x20%','Pérdida\x20SL\x20($)','Entry\x20Price','tf-btn\x20info-btn','top','Apalancamiento',':focus','stroke-dasharray','日本語','lbl-comm-warn','&interval=','innerWidth','Calculadora\x20para\x20visualizar\x20negociações.\x20Pressione\x20<b>S/L</b>:\x201º\x20clique\x20entrada,\x202º\x20clique\x20TP.\x20Preencha\x20saldo,\x20margem\x20e\x20alavancagem.\x20Pressione\x20<b>OK</b>\x20para\x20ver\x20lucro\x20e\x20liquidação.\x20Níveis\x20arrastáveis.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>A\x20calculadora\x20não\x20incluye\x20taxas\x20da\x20exchange!</span>','خسارة\x20SL\x20($)','#000000','लीवरेज','val','Liquidation','Enter\x20trade\x20result:','right','মূল্য\x20নির্ধারণ','min','default','Résultat\x20du\x20trade:','abs','tickValues','Marge\x20($)','66UCMxpM','মার্জিন\x20খরচ\x20($)','По\x20цене','ロスカット価格','tickFormat','toUpperCase','TRADING','filter','Закрыть\x20часть\x20сделки\x20%','क्या\x20आप\x20सभी\x20क्षेत्रों\x20को\x20हटाना\x20चाहते\x20हैं?','enter','#chart-clip\x20rect','translate(','清算\x20(分離)','部分平仓\x20%','map','калькулятор\x20не\x20учитывает\x20комиссии\x20биржи','none','stroke-width','লিকুইডেশন\x20(Margin)','এন্ট্রি\x20প্রাইস','বাংলা','टीपी\x20लाभ\x20($)','https://api.binance.com/api/v3/klines?symbol=','4,4','.tf-btn','closeLines','writeText','Info','Close\x20Part\x20%','Costo\x20de\x20Margen\x20($)','Add\x20Margin\x20($)','#2962ff','lbl-add-margin','contains','<div\x20style=\x22display:flex;justify-content:center;align-items:center;height:100vh;background:#0f1a30;color:white;font-family:sans-serif;\x22>Access\x20Denied</div>','টিপি\x20লাভ\x20($)','取引結果を入力:','click','The\x20calculator\x20is\x20designed\x20for\x20convenience\x20and\x20visualizing\x20trades\x20on\x20the\x20chart.\x20To\x20open\x20a\x20trade,\x20press\x20<b>S/L</b>:\x20the\x20first\x20click\x20sets\x20entry,\x20the\x20second\x20sets\x20take\x20profit.\x20Fill\x20in:\x20balance,\x20margin\x20cost,\x20and\x20leverage.\x20Press\x20<b>OK</b>\x20in\x20the\x20balance\x20field\x20to\x20see\x20TP\x20profit\x20and\x20liquidation\x20level.\x20You\x20can\x20drag\x20levels\x20on\x20the\x20chart.\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Remember,\x20the\x20calculator\x20does\x20not\x20account\x20for\x20exchange\x20fees!</span>','Preço\x20de\x20Entrada','line','setAttribute','padStart','touchend','font-weight','text','calculator4traders.github.io','axis-text','toLocaleDateString','classed','range',',\x200)','side','time','130px','mousemove','length','Ajouter\x20Marge\x20($)','bold','high','#ff9800','location','Докупить\x20($)','call','symbol-search','部分利確\x20%','touchstart','支持开发者','lbl-liq-text','font-size','now','Adicionar\x20Margem\x20($)','tickPadding','lbl-balance','入场价格','ETHUSDT','Ликвидация','Liquidación','Ликвидация\x20(Margin)','43324540vfVVkM','lbl-stop','classList','2-digit','className','button','h-total-sum','Stop\x20Loss','line-label','予定損失\x20($)','11539908apfrWt','Введите\x20результат\x20сделки:','preventDefault','querySelectorAll','Perte\x20SL\x20($)','Saldo\x20($)','Añadir\x20Margen\x20($)','Levier','¿Seguro\x20que\x20quieres\x20borrar\x20todas\x20las\x20zonas?','price-label-timer','#26a69a','এটি\x20এক্সচেঞ্জ\x20ফি\x20গণনা\x20করে\x20না','हिसा\x20बंद\x20करें\x20%','symbol','Apoyar\x20al\x20desarrollador','تصفية\x20(Margin)','Take\x20Profit','#svg-chart','TW8wa1QRMdJuwVgwnjA6wCRAMxE5UXHT5M','स्टॉप\x20लॉस','ট্রেড\x20রেজাল্ট\x20লিখুন:','チャート上で取引を可視化します。<b>S/L</b>を押し,\x201回目のクリックでエントリー,\x202回目で利確を設定。残高、証拠金、レバレッジを入力し、<b>OK</b>を押すと利益と清算ラインが表示されます。ラインはドラッグ可能です。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>取引所の手数料は考慮されません。</span>','Потери\x20по\x20стопу\x20($)','স্টপ\x20লস','floor','कैलकुलेटर\x20चार्ट\x20पर\x20ट्रेडों\x20की\x20कल्पना\x20करने\x20के\x20लिए\x20बनाया\x20गया\x20है।\x20<b>S/L</b>\x20दबाएं:\x20पहला\x20क्लिक\x20एंट्री,\x20दूसरा\x20टीपी\x20सेट\x20करता\x20है।\x20बैलेंस,\x20मार्जिन\x20और\x20लीवरेज\x20भरें।\x20टीपी\x20प्रॉफिट\x20और\x20लิก्विडेशन\x20देखने\x20के\x20लिए\x20बैलेंस\x20में\x20<b>OK</b>\x20दबाएं।\x20आप\x20चार्ट\x20पर\x20स्तरों\x20को\x20खींच\x20सकते\x20हैं।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>याद\x20रखें,\x20कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20नहीं\x20जोड़ता\x20है!</span>','innerHTML','stopLossValue','cursor','remove','Ao\x20Preço','15m','selected','confirmClear','stopLoss','add','forEach','価格指定','value','reduce','promptResult','tickSize','Perda\x20SL\x20($)','onblur','#ffffff','Precio\x20de\x20Entrada','deltaY','scaleBand','rP8werJEtkhbXBHhB4HpkfLtgVuE35rg81','输入交易结果:','low','Resultado\x20de\x20la\x20operación:','auto','margin','padding','إغلاق\x20جزئي\x20%','予定利益\x20($)','tf-btn','Apoiar\x20desenvolvedor','getElementById','レバレッジ','0.00','व्यापार\x20परिणाम\x20दर्ज\x20करें:','flex','该计算器旨在方便用户在图表上可视化交易。点击\x20<b>S/L</b>：第一次点击设置入场，第二次点击设置止盈。填写余额、开仓成本和杠杆。点击余额栏의\x20<b>OK</b>\x20查看盈利和强平线。您可以拖动图表上的线条。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>请记住，计算器未计入交易所手续费！</span>','简体中文','سعر\x20الدخول','getBoundingClientRect','Fechar\x20Parte\x20%','लिक्विडेशन\x20(Margin)','lbl-partial-percent','open','price','onchange','计算器不考虑交易所手续费','liqPrice','la\x20calculadora\x20no\x20incluye\x20comisiones','lev','التكلفة\x20($)','tradeHistoryZones','selectAll','USDT','transform','মাজিন\x20जोड़ें\x20($)','lbl-add-price','input','drag','marginLeft','余额\x20($)','すべてのゾーンを削除しますか？','height','.domain','short','强平价格','Liquidação','Balance\x20($)','takeProfit','chart-clip','modal-donate-view','Calculatrice\x20pour\x20visualiser\x20les\x20trades.\x20Appuyez\x20sur\x20<b>S/L</b>\x20:\x201er\x20clic\x20entrée,\x202e\x20clic\x20TP.\x20Remplissez\x20solde,\x20marge\x20et\x20levier.\x20Cliquez\x20sur\x20<b>OK</b>\x20pour\x20voir\x20le\x20profit\x20et\x20la\x20liquidation.\x20Les\x20niveaux\x20sont\x20déплаçables.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>Attention,\x20ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais\x20!</span>','00:00','list','translate(0,\x20','预计亏损\x20($)','block','mouseup','加仓价格','Вход\x20(Цена\x20актива)','3,3','Support\x20Developer','Al\x20Precio','entryPrice','Margin\x20Cost\x20($)','opacity','টেক\x20প্রফিট','price-label-main','Liquidación\x20(Margin)','BTCUSDT','display','10406AJdwDm','append','lbl-entry','profit','bottom','At\x20Price','Вы\x20точно\x20хотите\x20удалить\x20ВСЕ\x20тени?','text-anchor','includes','appendChild','लिक्विडेशन','تصفية\x20(Cross)','width','Lucro\x20TP\x20($)','target','12170ljVFEy','innerText','प्रवेश\x20मूल्य','error','Ganancia\x20TP\x20($)','عند\x20السعر','লিকুইডেশন\x20(Cross)','Liquidação\x20(Margin)','Resultado\x20da\x20operação:','addMargin','#ef5350','pointer','symbols','S/L','take','marginCost','取引所の手数料は考慮されません','addEventListener','transparent','clientY','crosshair-label-text','lbl-take','active','toggle','মাজিন\x20लागत\x20($)','English','balance','আপনি\x20কি\x20সব\x20জোন\x20মুছতে\x20চান?','মার্জিন\x20যোগ\x20করুন\x20($)','slice','left','mouseleave','rect','Prix\x20d\x27Entrée','style','createElement','lbl-profit','确定要删除所有区域吗？','class','liqMargin','touchmove','Fermeture\x20Partielle\x20%','دعم\x20المطور','axisBottom','Русский','bandwidth','1457320ibCYSF','开仓成本\x20($)','url(#chart-clip)','infoText','crosshair-line','close','data','domain','terminalSettings','हिन्दी'];_0x148c=function(){return _0x1db7ef;};return _0x148c();}clearHBtn[_0x273c9d(0x1bf)]='clear-h-btn',clearHBtn[_0x273c9d(0xc2)]='✖',clearHBtn[_0x273c9d(0x13d)]=()=>{const _0x55f16e=_0x273c9d;confirm(i18n[currentLang][_0x55f16e(0x1e6)])&&(historyZones=[],localStorage[_0x55f16e(0x104)](_0x55f16e(0x214),JSON[_0x55f16e(0xfd)](historyZones)),update());},tfPanel[_0x273c9d(0xbb)](clearHBtn);const infoBtn=document[_0x273c9d(0xe4)](_0x273c9d(0x1c0));infoBtn[_0x273c9d(0x1bf)]=_0x273c9d(0x153),infoBtn['innerText']=_0x273c9d(0x187),infoBtn['onclick']=()=>toggleInfo(!![]),tfPanel[_0x273c9d(0xbb)](infoBtn);const langSelector=document[_0x273c9d(0xe4)](_0x273c9d(0x13f));langSelector['id']=_0x273c9d(0x139),langSelector[_0x273c9d(0x1bf)]=_0x273c9d(0x1ac),langSelector[_0x273c9d(0xe3)][_0x273c9d(0xbe)]=_0x273c9d(0x1a2),langSelector['style'][_0x273c9d(0x21c)]=_0x273c9d(0x1f9);const popularLanguages=[{'c':'ru','n':_0x273c9d(0xed)},{'c':'en','n':_0x273c9d(0xda)},{'c':'zh','n':_0x273c9d(0x206)},{'c':'hi','n':_0x273c9d(0xf8)},{'c':'es','n':'Español'},{'c':'fr','n':'Français'},{'c':'ar','n':'العربية'},{'c':'bn','n':_0x273c9d(0x180)},{'c':'pt','n':_0x273c9d(0x133)},{'c':'ja','n':_0x273c9d(0x158)}];popularLanguages[_0x273c9d(0x1e9)](_0x165ff7=>{const _0x440fb8=_0x273c9d,_0x49a74c=document[_0x440fb8(0xe4)](_0x440fb8(0x134));_0x49a74c[_0x440fb8(0x1eb)]=_0x165ff7['c'],_0x49a74c['innerText']=_0x165ff7['n'];if(_0x165ff7['c']===currentLang)_0x49a74c[_0x440fb8(0x1e5)]=!![];langSelector[_0x440fb8(0xbb)](_0x49a74c);}),langSelector[_0x273c9d(0x20e)]=_0x41b2ca=>{const _0x3513a5=_0x273c9d;currentLang=_0x41b2ca[_0x3513a5(0xc0)][_0x3513a5(0x1eb)],localStorage['setItem']('lang',currentLang),applyLanguage();},tfPanel[_0x273c9d(0xbb)](langSelector);function applyLanguage(){const _0x453c07=_0x273c9d,_0x23927b=i18n[currentLang]||i18n['en'];document[_0x453c07(0x200)](_0x453c07(0x23e))[_0x453c07(0xc2)]=_0x23927b['entry'],document[_0x453c07(0x200)](_0x453c07(0xd6))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0xcf)],document[_0x453c07(0x200)](_0x453c07(0x1bc))['innerText']=_0x23927b['stop'],document[_0x453c07(0x200)](_0x453c07(0x1b5))['innerText']=_0x23927b['balance'],document[_0x453c07(0x200)](_0x453c07(0x116))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x1fa)],document['getElementById'](_0x453c07(0x18c))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0xca)],document[_0x453c07(0x200)](_0x453c07(0x219))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x115)],document[_0x453c07(0x200)]('lbl-lev')[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x212)],document[_0x453c07(0x200)](_0x453c07(0xe5))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x23f)],document['getElementById']('lbl-loss')[_0x453c07(0xc2)]=_0x23927b['loss'],document[_0x453c07(0x200)]('lbl-liq-text')['innerText']=_0x23927b['liq'],document[_0x453c07(0x200)](_0x453c07(0x20b))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x11e)],document[_0x453c07(0x200)]('lbl-partial-price')[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0xf9)],document[_0x453c07(0x200)](_0x453c07(0x159))[_0x453c07(0xc2)]=_0x23927b[_0x453c07(0x13e)],document[_0x453c07(0x200)]('modal-instruction')[_0x453c07(0x1df)]=_0x23927b[_0x453c07(0xf2)],document['getElementById']('btn-support-dev')[_0x453c07(0xc2)]=_0x23927b['donateBtn'],calculateAll();}async function initSymbols(){const _0x15a6ec=_0x273c9d;try{const _0x4b8ef8=await fetch('https://api.binance.com/api/v3/exchangeInfo'),_0x4bd6e8=await _0x4b8ef8[_0x15a6ec(0x112)]();let _0x1d8ddb=_0x4bd6e8[_0x15a6ec(0xcd)]['filter'](_0x1de3c1=>_0x1de3c1['status']===_0x15a6ec(0x171)&&_0x1de3c1[_0x15a6ec(0x10d)]===_0x15a6ec(0x216))[_0x15a6ec(0x17a)](_0x56ef6d=>_0x56ef6d[_0x15a6ec(0x1d2)]);const _0x375e69=[_0x15a6ec(0x23a),_0x15a6ec(0x1b7),..._0x1d8ddb[_0x15a6ec(0x172)](_0x402fc4=>![_0x15a6ec(0x23a),_0x15a6ec(0x1b7)][_0x15a6ec(0x244)](_0x402fc4))],_0x34049d=document[_0x15a6ec(0x200)](_0x15a6ec(0x143));_0x34049d[_0x15a6ec(0x1df)]='',_0x375e69[_0x15a6ec(0x1e9)](_0x2f050c=>{const _0x25d2b5=_0x15a6ec,_0x4a1454=document[_0x25d2b5(0xe4)](_0x25d2b5(0x134));_0x4a1454['value']=_0x2f050c,_0x34049d[_0x25d2b5(0xbb)](_0x4a1454);});}catch(_0x1d59fb){console[_0x15a6ec(0xc4)](_0x1d59fb);}}function toggleSLMode(){const _0x511cca=_0x273c9d;isSLMode=!isSLMode,slStep=0x0,isSLMode&&(document[_0x511cca(0x200)](_0x511cca(0x234))[_0x511cca(0x1eb)]='',document[_0x511cca(0x200)](_0x511cca(0x225))['value']='',document['getElementById'](_0x511cca(0x1e7))[_0x511cca(0x1eb)]='',confirmedStopLossValue=null,activeTradeStartTime=null,dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],calculateAll()),slBtn[_0x511cca(0x1bd)][_0x511cca(0xd8)](_0x511cca(0xd7),isSLMode),svg[_0x511cca(0xe3)](_0x511cca(0x1e1),isSLMode?'crosshair':_0x511cca(0x166)),isSLMode&&isHMode&&(isHMode=![],hBtn[_0x511cca(0x1bd)]['remove'](_0x511cca(0xd7)));}function setSide(_0x40e4a5){const _0x201ace=_0x273c9d;currentSide=_0x40e4a5,document[_0x201ace(0x200)](_0x201ace(0x135))[_0x201ace(0x1bd)][_0x201ace(0xd8)](_0x201ace(0xd7),_0x40e4a5===_0x201ace(0x14b)),document['getElementById']('btn-short')[_0x201ace(0x1bd)][_0x201ace(0xd8)](_0x201ace(0xd7),_0x40e4a5===_0x201ace(0x221)),calculateAll();}function handleBalanceInput(){confirmedBalanceBase=null;}function confirmBalance(){const _0x1693f0=_0x273c9d,_0x13d0ee=+document['getElementById'](_0x1693f0(0xdb))[_0x1693f0(0x1eb)];confirmedBalanceBase=_0x13d0ee,calculateAll();}function confirmStopLoss(){const _0x199eee=_0x273c9d,_0x5bfea0=document[_0x199eee(0x200)](_0x199eee(0x1e7))[_0x199eee(0x1eb)];confirmedStopLossValue=_0x5bfea0?+_0x5bfea0:null,calculateAll();}function executeDCA(){const _0x3a20e8=_0x273c9d,_0x50782c=+document['getElementById'](_0x3a20e8(0xca))[_0x3a20e8(0x1eb)],_0x131c8a=+document[_0x3a20e8(0x200)](_0x3a20e8(0x115))[_0x3a20e8(0x1eb)];_0x50782c&&_0x131c8a&&(isDcaOrderActive=!![],update());}function executePartialClose(){const _0x204e77=_0x273c9d,_0xd02198=+document[_0x204e77(0x200)](_0x204e77(0x11e))['value'],_0x3f675d=+document[_0x204e77(0x200)]('partialPrice')['value'];_0xd02198>0x0&&_0x3f675d&&(isPartialOrderActive=!![],update());}function performDCAExecution(){const _0x246c24=_0x273c9d,_0x27dbdc=+document[_0x246c24(0x200)](_0x246c24(0x234))[_0x246c24(0x1eb)],_0x7cfaa0=+document[_0x246c24(0x200)](_0x246c24(0xd0))[_0x246c24(0x1eb)],_0x46b5ca=+document[_0x246c24(0x200)](_0x246c24(0xca))['value'],_0x1ce934=+document[_0x246c24(0x200)](_0x246c24(0x115))[_0x246c24(0x1eb)];if(_0x27dbdc&&_0x7cfaa0&&_0x46b5ca&&_0x1ce934){const _0x3e8cef=(_0x7cfaa0*_0x27dbdc+_0x46b5ca*_0x1ce934)/(_0x7cfaa0+_0x46b5ca),_0x1677d6=_0x7cfaa0+_0x46b5ca;document[_0x246c24(0x200)](_0x246c24(0x234))[_0x246c24(0x1eb)]=_0x3e8cef['toFixed'](_0x3e8cef<0x1?0x4:0x2),document[_0x246c24(0x200)](_0x246c24(0xd0))[_0x246c24(0x1eb)]=_0x1677d6['toFixed'](0x2),dcaLines[_0x246c24(0x12c)](_0x1ce934),document['getElementById']('addMargin')[_0x246c24(0x1eb)]='',document[_0x246c24(0x200)]('addPrice')[_0x246c24(0x1eb)]='',isDcaOrderActive=![],calculateAll();}}function performPartialCloseExecution(){const _0x139655=_0x273c9d,_0x20edd3=+document[_0x139655(0x200)]('entryPrice')[_0x139655(0x1eb)],_0x15bf0f=+document[_0x139655(0x200)](_0x139655(0xd0))[_0x139655(0x1eb)],_0x5796c9=+document[_0x139655(0x200)](_0x139655(0x11e))[_0x139655(0x1eb)],_0x46ed08=+document[_0x139655(0x200)](_0x139655(0xf9))[_0x139655(0x1eb)],_0x26dd3b=+document[_0x139655(0x200)]('leverage')[_0x139655(0x1eb)],_0x112475=document['getElementById'](_0x139655(0xdb));if(_0x20edd3&&_0x15bf0f&&_0x5796c9>0x0&&_0x46ed08&&candles[_0x139655(0x1a4)]>0x0){const _0x1cf12c=_0x15bf0f*_0x26dd3b,_0x3d81a7=(currentSide===_0x139655(0x14b)?(_0x46ed08-_0x20edd3)/_0x20edd3:(_0x20edd3-_0x46ed08)/_0x20edd3)*_0x1cf12c,_0x21bb78=_0x3d81a7*(_0x5796c9/0x64),_0x200f3b=candles[candles[_0x139655(0x1a4)]-0x1]['time'];historyZones[_0x139655(0x12c)]({'id':Date[_0x139655(0x1b2)](),'symbol':currentSymbol,'t1':activeTradeStartTime||_0x200f3b,'p1':_0x20edd3,'t2':_0x200f3b,'p2':_0x46ed08,'val':_0x21bb78[_0x139655(0x14d)](0x2)}),localStorage[_0x139655(0x104)]('tradeHistoryZones',JSON[_0x139655(0xfd)](historyZones));const _0x144a95=_0x15bf0f*(_0x5796c9/0x64),_0x5e94be=_0x15bf0f-_0x144a95;document[_0x139655(0x200)]('marginCost')[_0x139655(0x1eb)]=_0x5e94be[_0x139655(0x14d)](0x2);if(confirmedBalanceBase!==null)confirmedBalanceBase+=_0x21bb78,_0x112475[_0x139655(0x1eb)]=confirmedBalanceBase[_0x139655(0x14d)](0x2);else _0x112475[_0x139655(0x1eb)]&&(_0x112475['value']=(+_0x112475[_0x139655(0x1eb)]+_0x21bb78)[_0x139655(0x14d)](0x2));closeLines[_0x139655(0x12c)]({'price':_0x46ed08,'profit':_0x21bb78}),document['getElementById'](_0x139655(0x11e))[_0x139655(0x1eb)]='',document[_0x139655(0x200)](_0x139655(0xf9))[_0x139655(0x1eb)]='',isPartialOrderActive=![],calculateAll();}}function calculateAll(){const _0x27e3e8=_0x273c9d,_0x28ad63=document[_0x27e3e8(0x200)](_0x27e3e8(0x234))[_0x27e3e8(0x1eb)],_0x43d2ed=document[_0x27e3e8(0x200)]('balance'),_0x49c9ef=document[_0x27e3e8(0x200)](_0x27e3e8(0xd0))[_0x27e3e8(0x1eb)],_0x444b89=document[_0x27e3e8(0x200)]('leverage')[_0x27e3e8(0x1eb)],_0x1a1bc7=document[_0x27e3e8(0x200)](_0x27e3e8(0x225))['value'],_0x321453=confirmedStopLossValue,_0x43c707=candles[_0x27e3e8(0x1a4)]?candles[candles[_0x27e3e8(0x1a4)]-0x1][_0x27e3e8(0xf4)]:0x0;currentSymbol&&(symbolSettings[currentSymbol]={'entry':_0x28ad63,'tp':_0x1a1bc7,'sl':confirmedStopLossValue,'margin':_0x49c9ef,'leverage':_0x444b89,'side':currentSide,'closeLines':closeLines},localStorage[_0x27e3e8(0x104)](_0x27e3e8(0xf7),JSON[_0x27e3e8(0xfd)](symbolSettings)));if(_0x28ad63&&_0x1a1bc7&&!activeTradeStartTime&&candles['length']>0x0){if(mousePos){const _0x3f79bf=xScale[_0x27e3e8(0xf6)](),_0x5e57ea=Math[_0x27e3e8(0x1dd)](mousePos['x']/xScale[_0x27e3e8(0xff)]()),_0x626f0=_0x3f79bf[_0x5e57ea];activeTradeStartTime=_0x626f0||candles[candles['length']-0x1][_0x27e3e8(0x1a1)];}else activeTradeStartTime=candles[candles[_0x27e3e8(0x1a4)]-0x1]['time'];}(!_0x28ad63||!_0x1a1bc7)&&(activeTradeStartTime=null,confirmedBalanceBase=null);if(confirmedBalanceBase!==null&&_0x28ad63&&_0x49c9ef&&_0x43c707){const _0x1fc249=+_0x28ad63,_0x417442=+_0x49c9ef,_0x7eeac9=+_0x444b89,_0x2069af=_0x417442*_0x7eeac9,_0x121297=(currentSide===_0x27e3e8(0x14b)?(_0x43c707-_0x1fc249)/_0x1fc249:(_0x1fc249-_0x43c707)/_0x1fc249)*_0x2069af;_0x43d2ed[_0x27e3e8(0x1eb)]=(confirmedBalanceBase+_0x121297)[_0x27e3e8(0x14d)](0x2);}if(!_0x28ad63||!_0x49c9ef||!_0x444b89){document[_0x27e3e8(0x200)](_0x27e3e8(0x210))[_0x27e3e8(0xc2)]=_0x27e3e8(0x202),document[_0x27e3e8(0x200)](_0x27e3e8(0x100))['innerText']=_0x27e3e8(0x202),document['getElementById'](_0x27e3e8(0x1e0))['innerText']=_0x27e3e8(0x202),update();return;}const _0x5991=+_0x28ad63,_0x454e7f=+_0x43d2ed['value']||0x0,_0x674906=+_0x49c9ef,_0x4c951d=+_0x444b89,_0x9e6b29=+_0x1a1bc7||0x0,_0x57be67=_0x674906*_0x4c951d;let _0x4a6897=currentSide===_0x27e3e8(0x14b)?_0x5991*(0x1-(_0x454e7f>0x0?_0x454e7f/_0x57be67:0x1/_0x4c951d)):_0x5991*(0x1+(_0x454e7f>0x0?_0x454e7f/_0x57be67:0x1/_0x4c951d));const _0x3fcf31=i18n[currentLang]||i18n['en'];document[_0x27e3e8(0x200)](_0x27e3e8(0x1b0))['innerText']=_0x454e7f>0x0?_0x3fcf31['liqCross']:_0x3fcf31[_0x27e3e8(0xe8)],document['getElementById'](_0x27e3e8(0x210))[_0x27e3e8(0xc2)]=Math[_0x27e3e8(0xfa)](0x0,_0x4a6897)[_0x27e3e8(0x14d)](0x2),document['getElementById'](_0x27e3e8(0x100))[_0x27e3e8(0xc2)]=_0x9e6b29>0x0?((currentSide===_0x27e3e8(0x14b)?(_0x9e6b29-_0x5991)/_0x5991:(_0x5991-_0x9e6b29)/_0x5991)*_0x57be67)[_0x27e3e8(0x14d)](0x2):_0x27e3e8(0x202),document['getElementById'](_0x27e3e8(0x1e0))['innerText']=_0x321453>0x0?((currentSide==='long'?(_0x321453-_0x5991)/_0x5991:(_0x5991-_0x321453)/_0x5991)*_0x57be67)[_0x27e3e8(0x14d)](0x2):'0.00',update();}function clearInput(_0x9c3e8a){const _0x5a9a97=_0x273c9d,_0x400374=document[_0x5a9a97(0x200)](_0x9c3e8a);_0x400374[_0x5a9a97(0x1eb)]='';if(_0x9c3e8a===_0x5a9a97(0x115))isDcaOrderActive=![];if(_0x9c3e8a===_0x5a9a97(0xf9))isPartialOrderActive=![];if(_0x9c3e8a===_0x5a9a97(0x1e7))confirmedStopLossValue=null;if(currentSymbol&&symbolSettings[currentSymbol]){const _0x3d2a2d={'entryPrice':_0x5a9a97(0x11b),'takeProfit':'tp','stopLoss':'sl','marginCost':_0x5a9a97(0x1fa)};if(_0x3d2a2d[_0x9c3e8a])symbolSettings[currentSymbol][_0x3d2a2d[_0x9c3e8a]]='';localStorage[_0x5a9a97(0x104)](_0x5a9a97(0xf7),JSON[_0x5a9a97(0xfd)](symbolSettings));}calculateAll();}function clearAllPurchases(){const _0x6135ed=_0x273c9d;dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],document[_0x6135ed(0x200)](_0x6135ed(0xd0))[_0x6135ed(0x1eb)]='',document[_0x6135ed(0x200)]('entryPrice')[_0x6135ed(0x1eb)]='',currentSymbol&&symbolSettings[currentSymbol]&&(symbolSettings[currentSymbol][_0x6135ed(0x1fa)]='',symbolSettings[currentSymbol][_0x6135ed(0x11b)]='',symbolSettings[currentSymbol][_0x6135ed(0x185)]=[],localStorage[_0x6135ed(0x104)](_0x6135ed(0xf7),JSON['stringify'](symbolSettings))),calculateAll();}function getTimeLeft(){const _0x67680a=_0x273c9d;if(!candles['length'])return'';const _0x195b53=tfMap[currentTF]===0x1e13380?0x278d00:tfMap[currentTF],_0x1b629b=candles[candles[_0x67680a(0x1a4)]-0x1][_0x67680a(0x1a1)]+_0x195b53*0x3e8,_0x4ddc6b=_0x1b629b-Date[_0x67680a(0x1b2)]();if(_0x4ddc6b<=0x0)return _0x67680a(0x229);const _0x3f2b73=Math['floor'](_0x4ddc6b/0x36ee80),_0x55b44c=Math[_0x67680a(0x1dd)](_0x4ddc6b%0x36ee80/0xea60),_0x4dd49d=Math[_0x67680a(0x1dd)](_0x4ddc6b%0xea60/0x3e8);return _0x3f2b73>0x0?_0x3f2b73+':'+String(_0x55b44c)[_0x67680a(0x196)](0x2,'0')+':'+String(_0x4dd49d)[_0x67680a(0x196)](0x2,'0'):String(_0x55b44c)[_0x67680a(0x196)](0x2,'0')+':'+String(_0x4dd49d)[_0x67680a(0x196)](0x2,'0');}function checkAutoTriggers(_0x223ba0){const _0x347fb5=_0x273c9d;if(isSLMode)return;const _0xab68ba=+document[_0x347fb5(0x200)](_0x347fb5(0x234))['value'],_0x371a02=+document[_0x347fb5(0x200)]('takeProfit')['value'],_0xb75b35=confirmedStopLossValue,_0x3c868d=+document['getElementById'](_0x347fb5(0x115))['value'],_0x590a9d=+document['getElementById'](_0x347fb5(0xf9))['value'];if(!_0xab68ba||!_0x371a02)return;isDcaOrderActive&&_0x3c868d&&(currentSide===_0x347fb5(0x14b)&&_0x223ba0<=_0x3c868d||currentSide===_0x347fb5(0x221)&&_0x223ba0>=_0x3c868d)&&performDCAExecution();isPartialOrderActive&&_0x590a9d&&(currentSide==='long'&&_0x223ba0>=_0x590a9d||currentSide===_0x347fb5(0x221)&&_0x223ba0<=_0x590a9d)&&performPartialCloseExecution();const _0x170420=currentSide===_0x347fb5(0x14b)&&_0x223ba0>=_0x371a02||currentSide===_0x347fb5(0x221)&&_0x223ba0<=_0x371a02,_0x2573ec=_0xb75b35&&(currentSide===_0x347fb5(0x14b)&&_0x223ba0<=_0xb75b35||currentSide==='short'&&_0x223ba0>=_0xb75b35);if(_0x170420||_0x2573ec){const _0x4e2084=+document[_0x347fb5(0x200)](_0x347fb5(0xd0))[_0x347fb5(0x1eb)],_0x218cb5=+document[_0x347fb5(0x200)](_0x347fb5(0x129))['value'],_0xd7d891=_0x4e2084*_0x218cb5,_0xe58cd2=document[_0x347fb5(0x200)]('balance'),_0x34fe2a=(currentSide===_0x347fb5(0x14b)?(_0x223ba0-_0xab68ba)/_0xab68ba:(_0xab68ba-_0x223ba0)/_0xab68ba)*_0xd7d891;historyZones[_0x347fb5(0x12c)]({'id':Date[_0x347fb5(0x1b2)](),'symbol':currentSymbol,'t1':activeTradeStartTime,'p1':_0xab68ba,'t2':candles[candles[_0x347fb5(0x1a4)]-0x1][_0x347fb5(0x1a1)],'p2':_0x223ba0,'val':_0x34fe2a[_0x347fb5(0x14d)](0x2)}),localStorage[_0x347fb5(0x104)](_0x347fb5(0x214),JSON[_0x347fb5(0xfd)](historyZones));const _0x465ffa=(confirmedBalanceBase!==null?confirmedBalanceBase:+_0xe58cd2['value'])+_0x34fe2a;_0xe58cd2[_0x347fb5(0x1eb)]=_0x465ffa[_0x347fb5(0x14d)](0x2),confirmedBalanceBase=_0x465ffa,clearInput('entryPrice'),clearInput(_0x347fb5(0x225)),clearInput(_0x347fb5(0x1e7)),clearInput('marginCost'),dcaLines=[],closeLines=[],activeTradeStartTime=null,confirmedStopLossValue=null,calculateAll();}}async function loadData(_0x55f24f=![]){const _0x53492f=_0x273c9d;try{let _0x508633=currentTF==='1y'?'1M':currentTF;const _0x49b3a0=await fetch(_0x53492f(0x182)+currentSymbol+_0x53492f(0x15a)+_0x508633+_0x53492f(0x148)),_0x2421e2=await _0x49b3a0[_0x53492f(0x112)]();candles=_0x2421e2['map'](_0x307b26=>({'time':_0x307b26[0x0],'open':+_0x307b26[0x1],'high':+_0x307b26[0x2],'low':+_0x307b26[0x3],'close':+_0x307b26[0x4]}));if(candles[_0x53492f(0x1a4)]>0x0){const _0x1d52ca=candles[candles[_0x53492f(0x1a4)]-0x1][_0x53492f(0xf4)],_0x29272c=document[_0x53492f(0x200)](_0x53492f(0x115)),_0x175db2=document[_0x53492f(0x200)](_0x53492f(0xf9));!isDcaOrderActive&&!_0x29272c['matches'](_0x53492f(0x156))&&(_0x29272c[_0x53492f(0x1eb)]=_0x1d52ca['toFixed'](_0x1d52ca<0x1?0x4:0x2)),!isPartialOrderActive&&!_0x175db2[_0x53492f(0x10e)](_0x53492f(0x156))&&(_0x175db2[_0x53492f(0x1eb)]=_0x1d52ca[_0x53492f(0x14d)](_0x1d52ca<0x1?0x4:0x2)),checkAutoTriggers(_0x1d52ca);}if(_0x55f24f){scrollOffset=0x0;const _0x223e9b=candles[_0x53492f(0xde)](-visibleCount);yDomain=[d3['min'](_0x223e9b,_0x2ce7fa=>_0x2ce7fa[_0x53492f(0x1f7)])*0.99,d3[_0x53492f(0xfa)](_0x223e9b,_0x4fce93=>_0x4fce93[_0x53492f(0x1a7)])*1.01];}update(),calculateAll();}catch(_0x1975c1){console[_0x53492f(0xc4)](_0x1975c1);}}function findXByTime(_0x3c3d33,_0x22f5f7){const _0x37a40b=xScale(_0x3c3d33);if(_0x37a40b!==undefined)return _0x37a40b;for(let _0x2fa9e0=0x0;_0x2fa9e0<_0x22f5f7['length'];_0x2fa9e0++){const _0x37180c=_0x22f5f7[_0x2fa9e0],_0x5d8f2f=_0x22f5f7[_0x2fa9e0+0x1]||_0x37180c+tfMap[currentTF]*0x3e8;if(_0x3c3d33>=_0x37180c&&_0x3c3d33<_0x5d8f2f)return xScale(_0x37180c);}return undefined;}function update(){const _0x2d0f31=_0x273c9d,_0x4e40c9=svg[_0x2d0f31(0x12d)]()['getBoundingClientRect']();if(_0x4e40c9[_0x2d0f31(0xbe)]===0x0)return;const _0x33957c=_0x4e40c9[_0x2d0f31(0xbe)]-margin[_0x2d0f31(0xdf)]-margin[_0x2d0f31(0x163)],_0x33cfa3=_0x4e40c9[_0x2d0f31(0x21f)]-margin['top']-margin['bottom'];d3[_0x2d0f31(0x13f)](_0x2d0f31(0x176))[_0x2d0f31(0x12f)]('width',_0x33957c)[_0x2d0f31(0x12f)](_0x2d0f31(0x21f),_0x33cfa3),yScale['domain'](yDomain)['range']([_0x33cfa3,0x0]);const _0x223b43=candles[_0x2d0f31(0x1a4)]-visibleCount-scrollOffset,_0x421aa3=candles[_0x2d0f31(0xde)](Math[_0x2d0f31(0xfa)](0x0,_0x223b43),Math[_0x2d0f31(0xfa)](0x0,candles['length']-scrollOffset)),_0x5844b6=tfMap[currentTF]*0x3e8,_0x4d359a=[];if(candles[_0x2d0f31(0x1a4)]>0x0){for(let _0x3520e4=0x0;_0x3520e4<visibleCount;_0x3520e4++)_0x4d359a['push'](candles[0x0][_0x2d0f31(0x1a1)]+(_0x223b43+_0x3520e4)*(candles[_0x2d0f31(0x1a4)]>0x1?candles[0x1][_0x2d0f31(0x1a1)]-candles[0x0][_0x2d0f31(0x1a1)]:_0x5844b6));}xScale['domain'](_0x4d359a)[_0x2d0f31(0x19e)]([0x0,_0x33957c])[_0x2d0f31(0x1fb)](0.2),contentG[_0x2d0f31(0x215)]('*')[_0x2d0f31(0x1e2)](),overlayG[_0x2d0f31(0x215)]('*')['remove'](),contentG[_0x2d0f31(0x23d)]('g')[_0x2d0f31(0x12f)](_0x2d0f31(0x217),_0x2d0f31(0x177)+_0x33957c+_0x2d0f31(0x19f))[_0x2d0f31(0x12f)]('class',_0x2d0f31(0x19b))['call'](d3['axisRight'](yScale)[_0x2d0f31(0x1ee)](-_0x33957c)[_0x2d0f31(0x1b4)](0xa))[_0x2d0f31(0x1ab)](_0x30439e=>_0x30439e['select'](_0x2d0f31(0x220))[_0x2d0f31(0x1e2)]())['selectAll'](_0x2d0f31(0x194))['attr'](_0x2d0f31(0xe7),'grid-line'),overlayG[_0x2d0f31(0x23d)]('g')[_0x2d0f31(0x12f)](_0x2d0f31(0x217),'translate('+_0x33957c+_0x2d0f31(0x19f))[_0x2d0f31(0x12f)]('class',_0x2d0f31(0x19b))['call'](d3['axisRight'](yScale)['tickSize'](0x0)[_0x2d0f31(0x1b4)](0xa))[_0x2d0f31(0x1ab)](_0x548f94=>_0x548f94[_0x2d0f31(0x13f)](_0x2d0f31(0x220))[_0x2d0f31(0x1e2)]()),overlayG[_0x2d0f31(0x23d)]('g')[_0x2d0f31(0x12f)](_0x2d0f31(0x217),_0x2d0f31(0x22b)+_0x33cfa3+')')['attr'](_0x2d0f31(0xe7),_0x2d0f31(0x19b))[_0x2d0f31(0x1ab)](d3[_0x2d0f31(0xec)](xScale)[_0x2d0f31(0x169)](xScale['domain']()['filter']((_0x1f8178,_0x1081c0)=>_0x1081c0%Math[_0x2d0f31(0x111)](visibleCount/0x8)===0x0))[_0x2d0f31(0x16f)](_0x10f41b=>{const _0x589a06=_0x2d0f31,_0x2d7fdb=new Date(_0x10f41b);return['1y','1M'][_0x589a06(0x244)](currentTF)?_0x2d7fdb[_0x589a06(0x19c)]([],{'month':_0x589a06(0x221),'year':_0x589a06(0x1be)}):_0x2d7fdb[_0x589a06(0x136)]([],{'hour':_0x589a06(0x1be),'minute':_0x589a06(0x1be)});})[_0x2d0f31(0x1ee)](0x0)[_0x2d0f31(0x1b4)](0xc))[_0x2d0f31(0x1ab)](_0x1a9983=>_0x1a9983[_0x2d0f31(0x13f)](_0x2d0f31(0x220))[_0x2d0f31(0x1e2)]()),overlayG[_0x2d0f31(0x23d)](_0x2d0f31(0x194))[_0x2d0f31(0x12f)]('class',_0x2d0f31(0x12b))[_0x2d0f31(0x12f)]('x1',_0x33957c)['attr']('x2',_0x33957c)[_0x2d0f31(0x12f)]('y1',0x0)[_0x2d0f31(0x12f)]('y2',_0x33cfa3),overlayG[_0x2d0f31(0x23d)](_0x2d0f31(0x194))[_0x2d0f31(0x12f)](_0x2d0f31(0xe7),'axis-border')[_0x2d0f31(0x12f)]('x1',0x0)['attr']('x2',_0x33957c)[_0x2d0f31(0x12f)]('y1',_0x33cfa3)[_0x2d0f31(0x12f)]('y2',_0x33cfa3);const _0x3573f0=contentG[_0x2d0f31(0x215)]('.c')[_0x2d0f31(0xf5)](_0x421aa3)[_0x2d0f31(0x175)]()[_0x2d0f31(0x23d)]('g');_0x3573f0[_0x2d0f31(0x23d)](_0x2d0f31(0x194))[_0x2d0f31(0x12f)]('stroke',_0x22f983=>_0x22f983[_0x2d0f31(0xf4)]>_0x22f983[_0x2d0f31(0x20c)]?_0x2d0f31(0x1cf):'#ef5350')[_0x2d0f31(0x12f)]('x1',_0x1f7ad8=>xScale(_0x1f7ad8[_0x2d0f31(0x1a1)])+xScale[_0x2d0f31(0xee)]()/0x2)[_0x2d0f31(0x12f)]('x2',_0x31d45d=>xScale(_0x31d45d[_0x2d0f31(0x1a1)])+xScale['bandwidth']()/0x2)[_0x2d0f31(0x12f)]('y1',_0x27e31d=>yScale(_0x27e31d[_0x2d0f31(0x1a7)]))[_0x2d0f31(0x12f)]('y2',_0x2ec21c=>yScale(_0x2ec21c['low'])),_0x3573f0[_0x2d0f31(0x23d)]('rect')[_0x2d0f31(0x12f)](_0x2d0f31(0x108),_0x4cdba4=>_0x4cdba4['close']>_0x4cdba4[_0x2d0f31(0x20c)]?'#26a69a':_0x2d0f31(0xcb))[_0x2d0f31(0x12f)]('x',_0x5ebd77=>xScale(_0x5ebd77[_0x2d0f31(0x1a1)]))[_0x2d0f31(0x12f)]('y',_0x4ca911=>yScale(Math[_0x2d0f31(0xfa)](_0x4ca911[_0x2d0f31(0x20c)],_0x4ca911['close'])))[_0x2d0f31(0x12f)](_0x2d0f31(0xbe),xScale[_0x2d0f31(0xee)]())['attr'](_0x2d0f31(0x21f),_0x2f47c2=>Math[_0x2d0f31(0xfa)](0x1,Math[_0x2d0f31(0x168)](yScale(_0x2f47c2['open'])-yScale(_0x2f47c2[_0x2d0f31(0xf4)]))));const _0x1528dd=xScale['domain'](),_0x163aa5=+document['getElementById'](_0x2d0f31(0x234))[_0x2d0f31(0x1eb)],_0xeb20d6=+document[_0x2d0f31(0x200)](_0x2d0f31(0x225))[_0x2d0f31(0x1eb)],_0x4375d8=candles[_0x2d0f31(0x1a4)]?candles[candles[_0x2d0f31(0x1a4)]-0x1][_0x2d0f31(0xf4)]:0x0;if(_0x163aa5&&_0xeb20d6&&activeTradeStartTime){let _0x10fad4=findXByTime(activeTradeStartTime,_0x1528dd),_0x21ae60=_0x33957c-xScale[_0x2d0f31(0xee)]();if(_0x10fad4===undefined&&_0x1528dd['length']>0x0&&activeTradeStartTime<_0x1528dd[0x0])_0x10fad4=0x0;if(_0x10fad4!==undefined){const _0x5cbba5=yScale(_0x163aa5),_0x5482aa=yScale(_0x4375d8);contentG['append'](_0x2d0f31(0xe1))[_0x2d0f31(0x12f)]('x',Math[_0x2d0f31(0x165)](_0x10fad4,_0x21ae60))[_0x2d0f31(0x12f)]('y',Math[_0x2d0f31(0x165)](_0x5cbba5,_0x5482aa))['attr'](_0x2d0f31(0xbe),Math['abs'](_0x21ae60-_0x10fad4)+xScale['bandwidth']())[_0x2d0f31(0x12f)](_0x2d0f31(0x21f),Math[_0x2d0f31(0xfa)](0x2,Math[_0x2d0f31(0x168)](_0x5482aa-_0x5cbba5)))[_0x2d0f31(0x12f)](_0x2d0f31(0x108),(currentSide===_0x2d0f31(0x14b)?_0x4375d8>=_0x163aa5:_0x4375d8<=_0x163aa5)?_0x2d0f31(0x1cf):_0x2d0f31(0xcb))[_0x2d0f31(0x12f)](_0x2d0f31(0x236),0.3);}}if(isDcaOrderActive&&+document[_0x2d0f31(0x200)](_0x2d0f31(0x115))[_0x2d0f31(0x1eb)]){const _0x11535e=yScale(+document['getElementById']('addPrice')[_0x2d0f31(0x1eb)]);contentG['append'](_0x2d0f31(0x194))[_0x2d0f31(0x12f)](_0x2d0f31(0xe7),_0x2d0f31(0x12a))[_0x2d0f31(0x12f)]('x1',0x0)[_0x2d0f31(0x12f)]('x2',_0x33957c)[_0x2d0f31(0x12f)]('y1',_0x11535e)[_0x2d0f31(0x12f)]('y2',_0x11535e)[_0x2d0f31(0x12f)](_0x2d0f31(0x147),_0x2d0f31(0x18b))[_0x2d0f31(0x12f)](_0x2d0f31(0x17d),0x2)[_0x2d0f31(0x12f)](_0x2d0f31(0x157),_0x2d0f31(0x183))[_0x2d0f31(0x1ab)](d3['drag']()['on'](_0x2d0f31(0x21b),_0xa30995=>{const _0x40983d=_0x2d0f31,[_0x4a8f4a,_0x58cebd]=d3[_0x40983d(0xcc)](_0xa30995,mainG[_0x40983d(0x12d)]()),_0x4e8f5a=yScale[_0x40983d(0x14f)](Math[_0x40983d(0xfa)](0x0,Math['min'](_0x33cfa3,_0x58cebd)));document[_0x40983d(0x200)]('addPrice')['value']=_0x4e8f5a[_0x40983d(0x14d)](_0x4e8f5a<0x1?0x4:0x2),update();}));}if(isPartialOrderActive&&+document[_0x2d0f31(0x200)]('partialPrice')[_0x2d0f31(0x1eb)]){const _0x21ecf0=yScale(+document[_0x2d0f31(0x200)](_0x2d0f31(0xf9))[_0x2d0f31(0x1eb)]);contentG[_0x2d0f31(0x23d)](_0x2d0f31(0x194))[_0x2d0f31(0x12f)](_0x2d0f31(0xe7),'price-line')[_0x2d0f31(0x12f)]('x1',0x0)[_0x2d0f31(0x12f)]('x2',_0x33957c)[_0x2d0f31(0x12f)]('y1',_0x21ecf0)[_0x2d0f31(0x12f)]('y2',_0x21ecf0)[_0x2d0f31(0x12f)](_0x2d0f31(0x147),_0x2d0f31(0x1cf))[_0x2d0f31(0x12f)]('stroke-width',0x2)[_0x2d0f31(0x12f)](_0x2d0f31(0x157),_0x2d0f31(0x183))[_0x2d0f31(0x1ab)](d3['drag']()['on'](_0x2d0f31(0x21b),_0x14bb99=>{const _0x200d5e=_0x2d0f31,[_0x39fa21,_0x2ad6a8]=d3[_0x200d5e(0xcc)](_0x14bb99,mainG[_0x200d5e(0x12d)]()),_0x122711=yScale[_0x200d5e(0x14f)](Math[_0x200d5e(0xfa)](0x0,Math[_0x200d5e(0x165)](_0x33cfa3,_0x2ad6a8)));document[_0x200d5e(0x200)]('partialPrice')['value']=_0x122711[_0x200d5e(0x14d)](_0x122711<0x1?0x4:0x2),update();}));}dcaLines['forEach'](_0x10f535=>{const _0x51a1c5=_0x2d0f31,_0x2a0f7c=yScale(_0x10f535);if(_0x2a0f7c>=0x0&&_0x2a0f7c<=_0x33cfa3)contentG['append']('line')[_0x51a1c5(0x12f)]('x1',0x0)['attr']('x2',_0x33957c)[_0x51a1c5(0x12f)]('y1',_0x2a0f7c)['attr']('y2',_0x2a0f7c)['attr'](_0x51a1c5(0x147),'#2962ff')['attr'](_0x51a1c5(0x17d),0x1)[_0x51a1c5(0x12f)]('stroke-dasharray','5,5');}),closeLines['forEach'](_0x3e8214=>{const _0x2c6428=_0x2d0f31,_0x349d1f=yScale(_0x3e8214[_0x2c6428(0x20d)]);_0x349d1f>=0x0&&_0x349d1f<=_0x33cfa3&&(contentG[_0x2c6428(0x23d)](_0x2c6428(0x194))[_0x2c6428(0x12f)]('x1',0x0)['attr']('x2',_0x33957c)[_0x2c6428(0x12f)]('y1',_0x349d1f)[_0x2c6428(0x12f)]('y2',_0x349d1f)[_0x2c6428(0x12f)]('stroke',_0x2c6428(0x1cf))[_0x2c6428(0x12f)](_0x2c6428(0x17d),0x1)['attr']('stroke-dasharray',_0x2c6428(0x231)),contentG[_0x2c6428(0x23d)](_0x2c6428(0x199))['attr']('x',_0x33957c/0x2)['attr']('y',_0x349d1f-0x5)[_0x2c6428(0x12f)](_0x2c6428(0x108),_0x2c6428(0x1cf))[_0x2c6428(0x12f)]('font-size',_0x2c6428(0x106))[_0x2c6428(0x12f)](_0x2c6428(0x198),_0x2c6428(0x1a6))['attr'](_0x2c6428(0x243),_0x2c6428(0x144))[_0x2c6428(0x199)](''+(_0x3e8214[_0x2c6428(0x23f)]>=0x0?'+':'')+_0x3e8214[_0x2c6428(0x23f)][_0x2c6428(0x14d)](0x2)));}),historyZones[_0x2d0f31(0x172)](_0x13f9af=>_0x13f9af[_0x2d0f31(0x1d2)]===currentSymbol)[_0x2d0f31(0x1e9)](_0x45d4d1=>{const _0x51cc15=_0x2d0f31;let _0x2d4e1f=findXByTime(_0x45d4d1['t1'],_0x1528dd),_0x18a1fc=findXByTime(_0x45d4d1['t2'],_0x1528dd);if(_0x2d4e1f===undefined&&_0x1528dd['length']>0x0&&_0x45d4d1['t1']<_0x1528dd[0x0])_0x2d4e1f=0x0;if(_0x18a1fc===undefined&&_0x1528dd[_0x51cc15(0x1a4)]>0x0&&_0x45d4d1['t2']>_0x1528dd[_0x1528dd[_0x51cc15(0x1a4)]-0x1])_0x18a1fc=_0x33957c-xScale['bandwidth']();if(_0x2d4e1f!==undefined&&_0x18a1fc!==undefined){const _0x14410a=yScale(_0x45d4d1['p1']),_0x546ae6=yScale(_0x45d4d1['p2']),_0x3d3897=parseFloat(_0x45d4d1['val'])>=0x0?'#26a69a':'#ef5350';contentG[_0x51cc15(0x23d)]('rect')[_0x51cc15(0x12f)]('x',Math[_0x51cc15(0x165)](_0x2d4e1f,_0x18a1fc))[_0x51cc15(0x12f)]('y',Math[_0x51cc15(0x165)](_0x14410a,_0x546ae6))[_0x51cc15(0x12f)](_0x51cc15(0xbe),Math[_0x51cc15(0x168)](_0x18a1fc-_0x2d4e1f)+xScale[_0x51cc15(0xee)]())['attr'](_0x51cc15(0x21f),Math['max'](0x2,Math[_0x51cc15(0x168)](_0x546ae6-_0x14410a)))[_0x51cc15(0x12f)]('fill',_0x3d3897)[_0x51cc15(0x12f)](_0x51cc15(0x236),0.3);const _0x369560=overlayG['append']('g')[_0x51cc15(0x12f)](_0x51cc15(0x217),_0x51cc15(0x177)+Math[_0x51cc15(0x165)](_0x2d4e1f,_0x18a1fc)+',\x20'+(Math[_0x51cc15(0x165)](_0x14410a,_0x546ae6)-0xa)+')');_0x369560['append'](_0x51cc15(0x199))[_0x51cc15(0x12f)](_0x51cc15(0x108),parseFloat(_0x45d4d1[_0x51cc15(0x160)])>=0x0?'#26a69a':_0x51cc15(0xcb))['attr'](_0x51cc15(0x1b1),_0x51cc15(0x106))['attr']('font-weight','bold')[_0x51cc15(0x199)](''+(parseFloat(_0x45d4d1['val'])>0x0?'+':'')+_0x45d4d1[_0x51cc15(0x160)]),_0x369560[_0x51cc15(0x23d)](_0x51cc15(0x199))[_0x51cc15(0x12f)]('x',0x32)[_0x51cc15(0x12f)](_0x51cc15(0x108),'#ef5350')[_0x51cc15(0x12f)](_0x51cc15(0x1e1),'pointer')[_0x51cc15(0x199)](_0x51cc15(0x145))['on'](_0x51cc15(0x191),()=>{const _0x299021=_0x51cc15;historyZones=historyZones[_0x299021(0x172)](_0x2228bf=>_0x2228bf['id']!==_0x45d4d1['id']),localStorage['setItem'](_0x299021(0x214),JSON[_0x299021(0xfd)](historyZones)),update();});}});if(hStep===0x1&&mousePos&&hTemp){const _0x14acf7=findXByTime(hTemp['t1'],_0x1528dd)||0x0,_0x547a23=mousePos['x'],_0xf0fa5a=yScale(hTemp['p1']),_0x505e56=mousePos['y'];contentG[_0x2d0f31(0x23d)](_0x2d0f31(0xe1))[_0x2d0f31(0x12f)]('x',Math[_0x2d0f31(0x165)](_0x14acf7,_0x547a23))[_0x2d0f31(0x12f)]('y',Math['min'](_0xf0fa5a,_0x505e56))[_0x2d0f31(0x12f)](_0x2d0f31(0xbe),Math[_0x2d0f31(0x168)](_0x547a23-_0x14acf7))['attr']('height',Math[_0x2d0f31(0xfa)](0x2,Math['abs'](_0x505e56-_0xf0fa5a)))['attr'](_0x2d0f31(0x108),yScale['invert'](_0x505e56)>hTemp['p1']?_0x2d0f31(0x1cf):_0x2d0f31(0xcb))[_0x2d0f31(0x12f)](_0x2d0f31(0x236),0.4);}if(candles[_0x2d0f31(0x1a4)]){const _0x52591f=candles[candles['length']-0x1],_0x18fecf=yScale(_0x52591f[_0x2d0f31(0xf4)]),_0x2381db=_0x52591f['close']>=_0x52591f[_0x2d0f31(0x20c)]?'#26a69a':_0x2d0f31(0xcb);contentG['append'](_0x2d0f31(0x194))[_0x2d0f31(0x12f)]('stroke',_0x2381db)['attr'](_0x2d0f31(0x157),_0x2d0f31(0x183))['attr']('x1',0x0)[_0x2d0f31(0x12f)]('x2',_0x33957c)[_0x2d0f31(0x12f)]('y1',_0x18fecf)[_0x2d0f31(0x12f)]('y2',_0x18fecf);const _0x3a5ac0=overlayG[_0x2d0f31(0x23d)]('g')['attr'](_0x2d0f31(0x217),'translate('+_0x33957c+',\x20'+(_0x18fecf-0x13)+')');_0x3a5ac0[_0x2d0f31(0x23d)](_0x2d0f31(0xe1))['attr'](_0x2d0f31(0xbe),margin[_0x2d0f31(0x163)])[_0x2d0f31(0x12f)](_0x2d0f31(0x21f),0x26)[_0x2d0f31(0x12f)](_0x2d0f31(0x108),_0x2381db)[_0x2d0f31(0x12f)]('rx',0x3),_0x3a5ac0[_0x2d0f31(0x23d)]('text')['attr']('class',_0x2d0f31(0x238))[_0x2d0f31(0x12f)]('x',margin[_0x2d0f31(0x163)]/0x2)[_0x2d0f31(0x12f)]('y',0x10)[_0x2d0f31(0x12f)]('text-anchor',_0x2d0f31(0x144))['text'](_0x52591f[_0x2d0f31(0xf4)]['toFixed'](_0x52591f[_0x2d0f31(0xf4)]<0x1?0x4:0x2)),_0x3a5ac0[_0x2d0f31(0x23d)]('text')[_0x2d0f31(0x12f)](_0x2d0f31(0xe7),_0x2d0f31(0x1ce))['attr']('x',margin[_0x2d0f31(0x163)]/0x2)['attr']('y',0x20)[_0x2d0f31(0x12f)](_0x2d0f31(0x243),_0x2d0f31(0x144))[_0x2d0f31(0x199)](getTimeLeft());}drawLevel(_0x2d0f31(0x234),'#2962ff',(i18n[currentLang]||i18n['en'])['entry'][_0x2d0f31(0x118)]('\x20')[0x0][_0x2d0f31(0x170)](),_0x33957c,+document[_0x2d0f31(0x200)]('entryPrice')['value']),drawLevel(_0x2d0f31(0x225),_0x2d0f31(0x1cf),'TP',_0x33957c,+document[_0x2d0f31(0x200)](_0x2d0f31(0x225))['value']);confirmedStopLossValue!==null&&drawLevel(_0x2d0f31(0x1e7),'#ef5350','SL',_0x33957c,confirmedStopLossValue);const _0x5d35c5=+document['getElementById'](_0x2d0f31(0x210))[_0x2d0f31(0xc2)];if(_0x5d35c5>0x0){const _0x320592=yScale(_0x5d35c5);_0x320592>=0x0&&_0x320592<=_0x33cfa3&&contentG[_0x2d0f31(0x23d)]('line')[_0x2d0f31(0x12f)]('x1',0x0)['attr']('x2',_0x33957c)['attr']('y1',_0x320592)['attr']('y2',_0x320592)[_0x2d0f31(0x12f)](_0x2d0f31(0x147),_0x2d0f31(0x1a8))[_0x2d0f31(0x12f)](_0x2d0f31(0x17d),0x2)['attr'](_0x2d0f31(0x157),'5,5');}document['getElementById']('h-total-sum')[_0x2d0f31(0xc2)]=historyZones[_0x2d0f31(0x1ec)]((_0x2d11e2,_0x110308)=>_0x2d11e2+(parseFloat(_0x110308['val'])||0x0),0x0)[_0x2d0f31(0x14d)](0x2),renderCrosshair(_0x33957c,_0x33cfa3);}function renderCrosshair(_0x59e08f,_0x5f542f){const _0xbd4268=_0x273c9d;crosshairG[_0xbd4268(0x215)]('*')['remove']();if(!mousePos)return;const {x:_0x49d80f,y:_0x2dbd43}=mousePos;if(_0x49d80f<0x0||_0x49d80f>_0x59e08f||_0x2dbd43<0x0||_0x2dbd43>_0x5f542f)return;crosshairG[_0xbd4268(0x23d)](_0xbd4268(0x194))[_0xbd4268(0x12f)]('class',_0xbd4268(0xf3))[_0xbd4268(0x12f)]('x1',_0x49d80f)['attr']('x2',_0x49d80f)[_0xbd4268(0x12f)]('y1',0x0)[_0xbd4268(0x12f)]('y2',_0x5f542f),crosshairG[_0xbd4268(0x23d)](_0xbd4268(0x194))[_0xbd4268(0x12f)](_0xbd4268(0xe7),_0xbd4268(0xf3))['attr']('x1',0x0)[_0xbd4268(0x12f)]('x2',_0x59e08f)[_0xbd4268(0x12f)]('y1',_0x2dbd43)['attr']('y2',_0x2dbd43);const _0x4d11dc=crosshairG[_0xbd4268(0x23d)]('g')['attr'](_0xbd4268(0x217),'translate('+_0x59e08f+',\x20'+(_0x2dbd43-0xd)+')'),_0x1be3ae=yScale[_0xbd4268(0x14f)](_0x2dbd43);_0x4d11dc[_0xbd4268(0x23d)]('rect')['attr'](_0xbd4268(0xe7),'crosshair-label-bg')[_0xbd4268(0x12f)]('width',margin['right'])[_0xbd4268(0x12f)](_0xbd4268(0x21f),0x1a)['attr']('rx',0x3),_0x4d11dc[_0xbd4268(0x23d)](_0xbd4268(0x199))[_0xbd4268(0x12f)](_0xbd4268(0xe7),_0xbd4268(0xd5))[_0xbd4268(0x12f)]('x',margin['right']/0x2)[_0xbd4268(0x12f)]('y',0x11)[_0xbd4268(0x199)](_0x1be3ae[_0xbd4268(0x14d)](_0x1be3ae<0x1?0x4:0x2));const _0x48c411=xScale['domain'](),_0x11562c=xScale[_0xbd4268(0xff)](),_0x58beff=Math[_0xbd4268(0x1dd)](_0x49d80f/_0x11562c),_0x4dcd94=_0x48c411[_0x58beff];if(_0x4dcd94){const _0x14dfc3=new Date(_0x4dcd94),_0x105c3c=_0x14dfc3[_0xbd4268(0x19c)]([],{'day':_0xbd4268(0x1be),'month':'2-digit'}),_0xbec85a=_0x14dfc3['toLocaleTimeString']([],{'hour':_0xbd4268(0x1be),'minute':_0xbd4268(0x1be)}),_0x4f777f=_0x105c3c+'\x20'+_0xbec85a,_0x5ea07b=crosshairG[_0xbd4268(0x23d)]('g')[_0xbd4268(0x12f)]('transform','translate('+(_0x49d80f-0x2d)+',\x20'+_0x5f542f+')');_0x5ea07b['append'](_0xbd4268(0xe1))[_0xbd4268(0x12f)](_0xbd4268(0xe7),'crosshair-label-bg')['attr'](_0xbd4268(0xbe),0x5a)[_0xbd4268(0x12f)](_0xbd4268(0x21f),0x1a)[_0xbd4268(0x12f)]('rx',0x3),_0x5ea07b[_0xbd4268(0x23d)]('text')[_0xbd4268(0x12f)](_0xbd4268(0xe7),_0xbd4268(0xd5))[_0xbd4268(0x12f)]('x',0x2d)[_0xbd4268(0x12f)]('y',0x11)[_0xbd4268(0x199)](_0x4f777f);}}function drawLevel(_0x50e366,_0x5cb23c,_0x34bf81,_0x511e5d,_0x2738dd){const _0x3f0b4d=_0x273c9d;if(!_0x2738dd)return;const _0x59aaad=yScale(_0x2738dd),_0x443cf1=overlayG[_0x3f0b4d(0x23d)]('g');_0x443cf1[_0x3f0b4d(0x23d)]('line')[_0x3f0b4d(0x12f)]('x1',0x0)[_0x3f0b4d(0x12f)]('x2',_0x511e5d)[_0x3f0b4d(0x12f)]('y1',_0x59aaad)[_0x3f0b4d(0x12f)]('y2',_0x59aaad)[_0x3f0b4d(0xe3)](_0x3f0b4d(0x147),'transparent')['style'](_0x3f0b4d(0x17d),'20px')[_0x3f0b4d(0xe3)](_0x3f0b4d(0x1e1),'ns-resize')['call'](d3['drag']()['on'](_0x3f0b4d(0x21b),_0x26ba5e=>{const _0x6758e=_0x3f0b4d,[_0x53769b,_0x296e57]=d3[_0x6758e(0xcc)](_0x26ba5e,mainG[_0x6758e(0x12d)]()),_0x32dc0b=svg[_0x6758e(0x12d)]()[_0x6758e(0x208)]()[_0x6758e(0x21f)]-margin['top']-margin[_0x6758e(0x240)],_0x1add4a=yScale[_0x6758e(0x14f)](Math['max'](0x0,Math[_0x6758e(0x165)](_0x32dc0b,_0x296e57))),_0x16f98c=_0x1add4a['toFixed'](_0x1add4a<0x1?0x4:0x2);document['getElementById'](_0x50e366)[_0x6758e(0x1eb)]=_0x16f98c;if(_0x50e366===_0x6758e(0x1e7))confirmedStopLossValue=+_0x16f98c;calculateAll();})),_0x443cf1[_0x3f0b4d(0x23d)](_0x3f0b4d(0x194))[_0x3f0b4d(0x12f)](_0x3f0b4d(0xe7),_0x3f0b4d(0x12a))[_0x3f0b4d(0x12f)]('x1',0x0)['attr']('x2',_0x511e5d)[_0x3f0b4d(0x12f)]('y1',_0x59aaad)[_0x3f0b4d(0x12f)]('y2',_0x59aaad)[_0x3f0b4d(0x12f)](_0x3f0b4d(0x147),_0x5cb23c)['style'](_0x3f0b4d(0x17d),'2px')[_0x3f0b4d(0xe3)]('pointer-events',_0x3f0b4d(0x17c)),_0x443cf1[_0x3f0b4d(0x23d)](_0x3f0b4d(0x199))[_0x3f0b4d(0x12f)](_0x3f0b4d(0xe7),_0x3f0b4d(0x1c3))['attr']('x',_0x511e5d+0x5)[_0x3f0b4d(0x12f)]('y',_0x59aaad+0x4)['attr'](_0x3f0b4d(0x108),_0x5cb23c)[_0x3f0b4d(0x199)](_0x34bf81);}svg['on'](_0x273c9d(0x191),_0x98bd91=>{const _0x46a55e=_0x273c9d,_0x3d5791=svg[_0x46a55e(0x12d)]()[_0x46a55e(0x208)](),_0x2c731d=_0x98bd91[_0x46a55e(0x124)]-_0x3d5791[_0x46a55e(0xdf)]-margin[_0x46a55e(0xdf)],_0x328a29=_0x98bd91[_0x46a55e(0xd4)]-_0x3d5791[_0x46a55e(0x154)]-margin[_0x46a55e(0x154)];if(isSLMode){const _0x4ef5aa=yScale[_0x46a55e(0x14f)](_0x328a29);if(slStep===0x0)document[_0x46a55e(0x200)]('entryPrice')[_0x46a55e(0x1eb)]=_0x4ef5aa[_0x46a55e(0x14d)](_0x4ef5aa<0x1?0x4:0x2),slStep=0x1;else slStep===0x1&&(document[_0x46a55e(0x200)](_0x46a55e(0x225))[_0x46a55e(0x1eb)]=_0x4ef5aa[_0x46a55e(0x14d)](_0x4ef5aa<0x1?0x4:0x2),toggleSLMode());calculateAll();}else{if(isHMode){const _0x1e86ac=yScale[_0x46a55e(0x14f)](_0x328a29),_0x5b8a3d=xScale[_0x46a55e(0xf6)](),_0x4cdce4=Math[_0x46a55e(0x1dd)](_0x2c731d/xScale['step']()),_0x3ac874=_0x5b8a3d[_0x4cdce4]||_0x5b8a3d[_0x5b8a3d[_0x46a55e(0x1a4)]-0x1];if(hStep===0x0)hTemp={'t1':_0x3ac874,'p1':_0x1e86ac},hStep=0x1;else{const _0x24b5ec=prompt((i18n[currentLang]||i18n['en'])[_0x46a55e(0x1ed)],'0');_0x24b5ec!==null&&(historyZones[_0x46a55e(0x12c)]({'id':Date[_0x46a55e(0x1b2)](),'symbol':currentSymbol,'t1':hTemp['t1'],'p1':hTemp['p1'],'t2':_0x3ac874,'p2':_0x1e86ac,'val':_0x24b5ec['replace'](',','.')}),localStorage[_0x46a55e(0x104)](_0x46a55e(0x214),JSON[_0x46a55e(0xfd)](historyZones))),hStep=0x0,hTemp=null,isHMode=![],hBtn['classList'][_0x46a55e(0x1e2)](_0x46a55e(0xd7)),update();}}}}),svg['on'](_0x273c9d(0x1a3),_0x5bed45=>{const _0x46437a=_0x273c9d,_0x37bf16=svg['node']()[_0x46437a(0x208)]();mousePos={'x':_0x5bed45['clientX']-_0x37bf16[_0x46437a(0xdf)]-margin[_0x46437a(0xdf)],'y':_0x5bed45[_0x46437a(0xd4)]-_0x37bf16['top']-margin[_0x46437a(0x154)]};if(isSLMode&&slStep===0x1){const _0x3f634a=+document[_0x46437a(0x200)]('entryPrice')[_0x46437a(0x1eb)],_0x3772d8=yScale[_0x46437a(0x14f)](mousePos['y']);if(_0x3772d8>_0x3f634a&&currentSide!==_0x46437a(0x14b))setSide(_0x46437a(0x14b));else{if(_0x3772d8<_0x3f634a&&currentSide!==_0x46437a(0x221))setSide(_0x46437a(0x221));}document[_0x46437a(0x200)](_0x46437a(0x225))[_0x46437a(0x1eb)]=_0x3772d8[_0x46437a(0x14d)](_0x3772d8<0x1?0x4:0x2),calculateAll();}else update();})['on'](_0x273c9d(0xe0),()=>{const _0x1bf20=_0x273c9d;mousePos=null,crosshairG[_0x1bf20(0x215)]('*')[_0x1bf20(0x1e2)]();}),svg['on'](_0x273c9d(0x109),_0x541490=>{const _0x48048f=_0x273c9d;!_0x541490[_0x48048f(0xc0)][_0x48048f(0x1bd)][_0x48048f(0x18d)](_0x48048f(0x12a))&&_0x541490[_0x48048f(0xc0)]['style'][_0x48048f(0x147)]!==_0x48048f(0xd3)&&(isDragging=!![],lastMouse={'x':_0x541490[_0x48048f(0x124)],'y':_0x541490['clientY']},svg[_0x48048f(0x19d)]('grabbing',!![]));});const handleMove=(_0x809b13,_0x41d8b6,_0x30a5fb)=>{const _0x47cb95=_0x273c9d;if(!isDragging||isSLMode||isHMode)return;if(_0x30a5fb&&_0x30a5fb[_0x47cb95(0x1a4)]===0x2){const _0x38edde=Math[_0x47cb95(0x168)](_0x30a5fb[0x0][_0x47cb95(0x124)]-_0x30a5fb[0x1][_0x47cb95(0x124)]);if(initialPinchDist===null)initialPinchDist=_0x38edde;else{const _0x42f3af=initialPinchDist-_0x38edde;Math['abs'](_0x42f3af)>0x5&&(visibleCount=Math[_0x47cb95(0xfa)](0x5,Math[_0x47cb95(0x165)](0x384,visibleCount+(_0x42f3af>0x0?0x2:-0x2))),initialPinchDist=_0x38edde,update());}return;}if(isPriceScaling&&window[_0x47cb95(0x15b)]<=0x300){const _0x4e8395=_0x41d8b6-lastMouse['y'],_0x2348f3=yDomain[0x1]-yDomain[0x0],_0x263668=_0x4e8395*0.005;yDomain=[yDomain[0x0]-_0x2348f3*_0x263668,yDomain[0x1]+_0x2348f3*_0x263668],lastMouse['y']=_0x41d8b6,update();return;}const _0x56d13a=_0x809b13-lastMouse['x'],_0x2b23f7=_0x41d8b6-lastMouse['y'];Math[_0x47cb95(0x168)](_0x56d13a)>1.5&&(scrollOffset=Math['min'](candles[_0x47cb95(0x1a4)]-0x5,scrollOffset+Math['round'](_0x56d13a/0x8)),lastMouse['x']=_0x809b13);const _0x436b31=yScale[_0x47cb95(0x14f)](0x0)-yScale[_0x47cb95(0x14f)](_0x2b23f7);yDomain=[yDomain[0x0]+_0x436b31,yDomain[0x1]+_0x436b31],lastMouse['y']=_0x41d8b6,update();};window[_0x273c9d(0xd2)]('mousemove',_0x4e2e72=>handleMove(_0x4e2e72[_0x273c9d(0x124)],_0x4e2e72[_0x273c9d(0xd4)])),svg['on'](_0x273c9d(0x1ae),_0x145380=>{const _0x4986ef=_0x273c9d,_0x4a46da=_0x145380[_0x4986ef(0x141)],_0x57aa51=svg[_0x4986ef(0x12d)]()[_0x4986ef(0x208)](),_0xc06a65=_0x4a46da[0x0][_0x4986ef(0x124)]-_0x57aa51[_0x4986ef(0xdf)]-margin[_0x4986ef(0xdf)],_0x21f7d8=_0x57aa51[_0x4986ef(0xbe)]-margin[_0x4986ef(0xdf)]-margin[_0x4986ef(0x163)];if(_0x145380[_0x4986ef(0xc0)]['classList']['contains'](_0x4986ef(0x12a))||_0x145380[_0x4986ef(0xc0)][_0x4986ef(0xe3)]['stroke']===_0x4986ef(0xd3)){isDragging=![];return;}isDragging=!![],lastMouse={'x':_0x4a46da[0x0]['clientX'],'y':_0x4a46da[0x0][_0x4986ef(0xd4)]};if(_0x4a46da['length']===0x2)initialPinchDist=Math[_0x4986ef(0x168)](_0x4a46da[0x0][_0x4986ef(0x124)]-_0x4a46da[0x1]['clientX']);else{if(window[_0x4986ef(0x15b)]<=0x300&&_0xc06a65>_0x21f7d8)isPriceScaling=!![];else isPriceScaling=![];}}),window[_0x273c9d(0xd2)](_0x273c9d(0xe9),_0x84a0ac=>{const _0x417c74=_0x273c9d;if(isDragging||_0x84a0ac[_0x417c74(0x141)][_0x417c74(0x1a4)]===0x2)handleMove(_0x84a0ac['touches'][0x0][_0x417c74(0x124)],_0x84a0ac[_0x417c74(0x141)][0x0]['clientY'],_0x84a0ac[_0x417c74(0x141)]);},{'passive':![]}),window[_0x273c9d(0xd2)](_0x273c9d(0x197),()=>{isDragging=![],isPriceScaling=![],initialPinchDist=null;}),window[_0x273c9d(0xd2)](_0x273c9d(0x22e),()=>{isDragging=![],isPriceScaling=![];}),svg['on']('wheel',_0x866e1a=>{const _0x30b5dc=_0x273c9d;_0x866e1a[_0x30b5dc(0x1c7)]();const _0x2cfc9a=svg[_0x30b5dc(0x12d)]()['getBoundingClientRect']();if(_0x866e1a[_0x30b5dc(0x124)]-_0x2cfc9a[_0x30b5dc(0xdf)]>_0x2cfc9a['width']-margin[_0x30b5dc(0x163)]){const _0x4dea00=yDomain[0x1]-yDomain[0x0],_0x161075=_0x866e1a[_0x30b5dc(0x1f3)]*0.0008;yDomain=[yDomain[0x0]-_0x4dea00*_0x161075,yDomain[0x1]+_0x4dea00*_0x161075];}else visibleCount=Math['max'](0x5,Math[_0x30b5dc(0x165)](0x384,visibleCount+(_0x866e1a['deltaY']>0x0?0x5:-0x5)));update();}),initSymbols(),loadData(!![])['then'](()=>{applyLanguage(),calculateAll();}),setInterval(()=>loadData(![]),0xbb8);        
</script>
</body>
</html>