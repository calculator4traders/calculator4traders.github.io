<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Professional SVG Terminal - Risk Management</title>
    <link rel="icon" href="logo.png" type="image/png">
    <meta name="description" content="Professional SVG Terminal for crypto trading risk management. Calculate entry, take profit, stop loss and liquidation levels visually.">
    <meta name="keywords" content="trading, crypto, calculator, risk management, svg chart, binance, liquidation price">
    <meta name="author" content="c4t">

    <meta property="og:title" content="Calculator4Traders — Калькулятор для трейдеров">

    <meta property="og:description" content="Бесплатный инструмент для расчета рисков и размера позиции.">

    <meta property="og:image" content="https://calculator4traders.github.io/logo.png">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculator4traders.github.io/">


    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Professional SVG Terminal - Risk Management">
    <meta property="twitter:description" content="Visual trading calculator with real-time charts and liquidation price tracking.">
    <meta property="twitter:image" content="logo.png">

    <link rel="icon" type="image/png" href="logo.png">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { background: #0f1a30; color: white; font-family: 'Trebuchet MS', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        .calculator { 
            width: 300px; background: #1e2b47; padding: 20px; z-index: 10; 
            border-right: 1px solid #3a4f7a; flex-shrink: 0; overflow-y: auto; 
        }
        .calculator::-webkit-scrollbar { width: 4px; display: block; }
        .calculator::-webkit-scrollbar-thumb { background: #3a4f7a; border-radius: 10px; }

        .commission-warning { color: #ff9800; font-size: 12px; margin-bottom: 15px; text-align: center; border: 1px solid #ff9800; padding: 5px; border-radius: 4px; }
        .input-group { margin-bottom: 8px; }
        label { display: block; margin-bottom: 8px; color: #b8c7e0; font-size: 18px; }
        .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; color: #b8c7e0; }
        .label-row span:first-child { font-size: 18px; }
        .input-wrapper { position: relative; display: flex; align-items: center; }
        input, select { width: 100%; padding: 8.5px; padding-right: 30px; background: #2a3c5f; border: 1px solid #3a4f7a; border-radius: 5px; color: white; font-size: 14px; box-sizing: border-box; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        .clear-input-btn { position: absolute; right: 10px; background: transparent; border: none; color: white; cursor: pointer; font-size: 16px; font-weight: bold; display: none; line-height: 1; }
        input:not(:placeholder-shown) + .clear-input-btn { display: block; }
        .result-value { font-size: 16px; font-weight: bold; color: #b8c7e0; }
        .side-selector { display: flex; gap: 10px; margin-top: 15px; margin-bottom: 15px; }
        .side-btn { flex: 1; padding: 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; opacity: 0.4; transition: 0.3s; font-size: 14px; }
        .side-btn.long { background: #26a69a; color: white; }
        .side-btn.short { background: #ef5350; color: white; }
        .side-btn.active { opacity: 1; box-shadow: 0 0 10px rgba(255,255,255,0.2); }
        hr { border: 0; border-top: 1px solid #3a4f7a; margin: 8px 0; }
        
        .chart-section { flex-grow: 1; position: relative; background: #131722; display: flex; flex-direction: column; }
        .tf-panel { background: #131722; padding: 10px 15px; display: flex; gap: 6px; border-bottom: 1px solid #2a2e39; flex-wrap: wrap; align-items: center; }
        .tf-btn { background: #1e222d; border: 1px solid #363c4e; color: #d1d4dc; cursor: pointer; padding: 5px 12px; font-size: 12px; border-radius: 4px; }
        .tf-btn.active { color: white; background: #2962ff; border-color: #2962ff; font-weight: bold; }
        .symbol-search { background: #1e222d; border: 1px solid #363c4e; color: #2962ff; padding: 5px 10px; font-size: 12px; border-radius: 4px; width: 110px; font-weight: bold; outline: none; }
        #svg-chart { width: 100%; flex-grow: 1; display: block; cursor: crosshair; touch-action: none; }
        .axis-text text { fill: #b8c7e0 !important; font-size: 16px !important; font-weight: 100 !important; user-select: none; }
        .grid-line { stroke: rgba(42, 46, 57, 0.6); }
        .axis-border { stroke: #363c4e; stroke-width: 1px; }
        .crosshair-line { stroke: #707d8b; stroke-width: 1; stroke-dasharray: 4,4; pointer-events: none; }
        .crosshair-label-bg { fill: #363c4e; } 
        .crosshair-label-text { fill: #b8c7e0; font-size: 13px; font-weight: bold; text-anchor: middle; }
        .price-label-main { fill: #b8c7e0; font-size: 16px; font-weight: 900; }
        .price-label-timer { fill: #ffffff; font-size: 12px; font-family: 'Courier New', monospace; font-weight: bold; }
        .price-line { stroke-width: 3px; cursor: ns-resize; }
        .line-label { font-size: 11px; font-weight: bold; pointer-events: none; }
        .h-sum-display { margin-left: 5px; margin-right: 5px; font-weight: bold; font-size: 14px; min-width: 30px; }
        .clear-h-btn { background: #363c4e; color: #ef5350; border: 1px solid #4a5266; cursor: pointer; padding: 2px 8px; font-size: 14px; border-radius: 4px; font-weight: bold; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: #131722; width: 450px; border: 1px solid #363c4e; border-radius: 12px; position: relative; padding: 30px; box-sizing: border-box; text-align: center; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 24px; color: #ef5350; cursor: pointer; font-weight: bold; }
        
        .donate-container { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 10px; }
        .qr-wrapper { background: white; padding: 10px; border-radius: 8px; display: inline-block; }
        .crypto-selector { display: flex; gap: 8px; justify-content: center; margin-bottom: 5px; }
        .crypto-btn { background: #1e222d; border: 1px solid #363c4e; color: #b8c7e0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .crypto-btn.active { border-color: #2962ff; color: white; background: #2962ff; }
        .address-display { font-family: monospace; font-size: 11px; color: #2962ff; background: #1e222d; padding: 10px; border-radius: 4px; word-break: break-all; cursor: pointer; border: 1px dashed #363c4e; }
        .address-display:active { background: #2962ff; color: white; }

        .instruction-text { color: #b8c7e0; font-size: 14px; line-height: 1.6; text-align: left; margin-bottom: 25px; background: rgba(41, 98, 255, 0.05); padding: 15px; border-radius: 8px; border: 1px solid #2a2e39; }
        .instruction-text b { color: #2962ff; }

        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (max-width: 768px) {
            body { display: flex; flex-direction: row; overflow-x: auto; scroll-snap-type: x mandatory; }
            .calculator, .chart-section { width: 100vw; min-width: 100vw; height: 100dvh; flex-shrink: 0; scroll-snap-align: start; }
            .calculator { padding: 10px 15px; overflow-y: auto; -webkit-overflow-scrolling: touch; box-sizing: border-box; }
            .tf-panel { flex-wrap: nowrap; overflow-x: auto; height: auto; min-height: 50px; }
            .modal-content { width: 90vw; padding: 20px; }
            #lang-selector { margin-left: 10px !important; }
        }
    </style>
</head>
<body>

<div id="info-modal" class="modal-overlay" onclick="if(event.target === this) toggleInfo(false)">
    <div class="modal-content">
        <span class="close-modal" onclick="toggleInfo(false)">✕</span>
        
        <div id="modal-start-view" style="display: flex; flex-direction: column; justify-content: flex-start; align-items: center;">
            <div class="instruction-text" id="modal-instruction">
                Калькулятор создан для удобства и визуализации сделок на графике. 
                Для открытия сделки нажмите кнопку <b>S/L</b>: первое нажатие на график создаст уровень входа, а второе — тейка. 
                Заполните поля: баланс, стоимость открытия и плечо. 
                Нажмите <b>OK</b> в окне баланс и получите расчет профита по тейку и уровень ликвидации на графике. 
                Уровни на графике можно перетаскивать(пока только в пк версии). 
                <br><br>
                <span style="color: #ff9800;">Помните что калькулятор не учитывает комиссии биржи!</span>
            </div>
            <button class="side-btn long active" id="btn-support-dev" style="opacity: 1; width: 100%; max-width: 280px;" onclick="showDonation()">Поддержать разработчика</button>
        </div>

        <div id="modal-donate-view" style="display: none;" class="fade-in">
            <div style="margin-bottom: 20px;">
                <svg width="60" height="60" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100" height="100" rx="22" fill="black"/>
                    <text x="50" y="65" font-family="sans-serif" font-weight="900" font-size="42" fill="white" text-anchor="middle" style="letter-spacing: -2px;">c4t</text>
                </svg>
                <h3 style="margin: 10px 0 5px 0; color: white;">Support Terminal</h3>
            </div>

            <div class="crypto-selector">
                <button class="crypto-btn active" onclick="setCrypto('TRX')">USDT (TRC20)</button>
                <button class="crypto-btn" onclick="setCrypto('ETH')">ETH/ERC20</button>
                <button class="crypto-btn" onclick="setCrypto('XRP')">XRP</button>
            </div>

            <div class="donate-container">
                <div class="qr-wrapper" id="qrcode"></div>
                <div class="address-display" id="addr-text" title="Нажмите, чтобы скопировать">---</div>
                <small style="color: #b8c7e0; font-size: 10px;">Tap address to copy</small>
            </div>
        </div>
    </div>
</div>

<div class="calculator">
    <div class="commission-warning" id="lbl-comm-warn">калькулятор не учитывает комиссии биржи</div>
    <div class="input-group">
        <label id="lbl-entry">Вход (Цена актива)</label>
        <div class="input-wrapper">
            <input type="number" id="entryPrice" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-take">Тейк</label>
        <div class="input-wrapper">
            <input type="number" id="takeProfit" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-stop">Стоп</label>
        <div class="input-wrapper">
            <input type="number" id="stopLoss" step="any" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmStopLoss()">OK</button>
        </div>
    </div>
    <hr>
    <div class="input-group">
        <label id="lbl-balance">Баланс ($)</label>
        <div class="input-wrapper">
            <input type="number" id="balance" placeholder=" " oninput="handleBalanceInput()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmBalance()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-margin">Стоимость открытия ($)</label>
        <div class="input-wrapper">
            <input type="number" id="marginCost" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" onclick="clearAllPurchases()">✕</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-margin">Докупить ($)</label>
        <div class="input-wrapper">
            <input type="number" id="addMargin" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executeDCA()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="addPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('addPrice')">✕</button>
        </div>
    </div>
    <hr>
    <div class="input-group"><label id="lbl-lev">Плечо</label><input type="number" id="leverage" value="3" placeholder=" " oninput="calculateAll()"></div>
    
    <div class="input-group">
        <label id="lbl-partial-percent">Закрыть часть сделки %</label>
        <div class="input-wrapper">
            <input type="number" id="partialPercent" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executePartialClose()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-partial-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="partialPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('partialPrice')">✕</button>
        </div>
    </div>
    <hr>

    <div class="side-selector">
        <button class="side-btn long active" id="btn-long" onclick="setSide('long')">LONG</button>
        <button class="side-btn short" id="btn-short" onclick="setSide('short')">SHORT</button>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-liq-text">Ликвидация</span><span id="liqPrice" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-profit">Профит по тейку ($)</span><span id="takeProfitValue" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-loss">Потери по стопу ($)</span><span id="stopLossValue" class="result-value">0.00</span></div>
    </div>
</div>

<div class="chart-section">
    <div class="tf-panel" id="tf-panel"></div>
    <svg id="svg-chart"></svg>
</div>

<datalist id="symbolsList"></datalist>

<script>const _0x2615ae=_0x426b;(function(_0x577c95,_0x1061e6){const _0x26f459=_0x426b,_0x46a501=_0x577c95();while(!![]){try{const _0x375b7d=parseInt(_0x26f459(0x1fb))/0x1*(-parseInt(_0x26f459(0x281))/0x2)+-parseInt(_0x26f459(0x2dd))/0x3+-parseInt(_0x26f459(0x215))/0x4+parseInt(_0x26f459(0x1cf))/0x5+parseInt(_0x26f459(0x28b))/0x6+parseInt(_0x26f459(0x1ca))/0x7+-parseInt(_0x26f459(0x2ce))/0x8*(-parseInt(_0x26f459(0x2df))/0x9);if(_0x375b7d===_0x1061e6)break;else _0x46a501['push'](_0x46a501['shift']());}catch(_0x43906c){_0x46a501['push'](_0x46a501['shift']());}}}(_0x281f,0xdda98),(function(){const _0x3d2e91=_0x426b,_0x499726=_0x3d2e91(0x1f9),_0x53dbb2=window[_0x3d2e91(0x33d)][_0x3d2e91(0x231)]===_0x3d2e91(0x341),_0x4e31d5=window['location']['hostname']===_0x499726;if(!_0x53dbb2&&!_0x4e31d5){document['body'][_0x3d2e91(0x25f)]='<div\x20style=\x22display:flex;justify-content:center;align-items:center;height:100vh;background:#0f1a30;color:white;font-family:sans-serif;\x22>Access\x20Denied</div>';throw new Error(_0x3d2e91(0x2cd));}}()));const WALLETS={'TRX':_0x2615ae(0x31b),'ETH':_0x2615ae(0x2a0),'XRP':_0x2615ae(0x346)};let qrGenerator=null;function toggleInfo(_0x1b8abe){const _0x353c72=_0x2615ae;document['getElementById']('info-modal')['style'][_0x353c72(0x255)]=_0x1b8abe?_0x353c72(0x300):_0x353c72(0x1fc),_0x1b8abe&&(document[_0x353c72(0x202)](_0x353c72(0x200))[_0x353c72(0x21e)]['display']=_0x353c72(0x300),document[_0x353c72(0x202)](_0x353c72(0x223))[_0x353c72(0x21e)][_0x353c72(0x255)]=_0x353c72(0x1fc));}function showDonation(){const _0x9f5dc6=_0x2615ae;document[_0x9f5dc6(0x202)]('modal-start-view')[_0x9f5dc6(0x21e)][_0x9f5dc6(0x255)]=_0x9f5dc6(0x1fc),document[_0x9f5dc6(0x202)](_0x9f5dc6(0x223))['style']['display']=_0x9f5dc6(0x32c),setCrypto(_0x9f5dc6(0x344));}function setCrypto(_0x3cf056){const _0x3daf79=_0x2615ae;document['querySelectorAll'](_0x3daf79(0x203))['forEach'](_0x5a7719=>{const _0xe39222=_0x3daf79;_0x5a7719[_0xe39222(0x334)][_0xe39222(0x2af)](_0xe39222(0x2fc),_0x5a7719['innerText'][_0xe39222(0x30a)](_0x3cf056)||_0x3cf056===_0xe39222(0x344)&&_0x5a7719[_0xe39222(0x2e5)]['includes'](_0xe39222(0x31c)));});const _0x1f64e2=WALLETS[_0x3cf056],_0x5cd704=document[_0x3daf79(0x202)](_0x3daf79(0x305)),_0x8aada=document['getElementById']('addr-text');_0x5cd704[_0x3daf79(0x25f)]='',_0x8aada[_0x3daf79(0x2e5)]=_0x1f64e2,new QRCode(_0x5cd704,{'text':_0x1f64e2,'width':0x96,'height':0x96,'colorDark':_0x3daf79(0x271),'colorLight':_0x3daf79(0x2f5),'correctLevel':QRCode[_0x3daf79(0x1e5)]['H']}),_0x8aada[_0x3daf79(0x209)]=()=>{const _0x42524a=_0x3daf79;navigator[_0x42524a(0x1d2)][_0x42524a(0x303)](_0x1f64e2);const _0x9432c3=_0x8aada['innerText'];_0x8aada['innerText']=_0x42524a(0x21d),setTimeout(()=>{const _0x4da8e6=_0x42524a;_0x8aada[_0x4da8e6(0x2e5)]=_0x9432c3;},0x3e8);};}const i18n={'ru':{'entry':_0x2615ae(0x20e),'take':'Тейк','stop':'Стоп','balance':_0x2615ae(0x2c3),'margin':_0x2615ae(0x332),'addMargin':_0x2615ae(0x26a),'addPrice':'По\x20цене','lev':'Плечо','liq':_0x2615ae(0x27d),'profit':_0x2615ae(0x2aa),'loss':_0x2615ae(0x227),'confirmClear':_0x2615ae(0x242),'promptResult':_0x2615ae(0x34a),'liqCross':_0x2615ae(0x25d),'liqMargin':_0x2615ae(0x29c),'partialPercent':'Закрыть\x20часть\x20сделки\x20%','partialPrice':'По\x20цене','infoText':_0x2615ae(0x2b1),'donateBtn':_0x2615ae(0x1ed),'warn':_0x2615ae(0x28c)},'en':{'entry':_0x2615ae(0x1d1),'take':_0x2615ae(0x214),'stop':_0x2615ae(0x1d5),'balance':_0x2615ae(0x343),'margin':_0x2615ae(0x2ca),'addMargin':_0x2615ae(0x2f6),'addPrice':'At\x20Price','lev':_0x2615ae(0x234),'liq':_0x2615ae(0x286),'profit':_0x2615ae(0x1e7),'loss':_0x2615ae(0x26e),'confirmClear':_0x2615ae(0x2a9),'promptResult':_0x2615ae(0x2eb),'liqCross':_0x2615ae(0x2a1),'liqMargin':_0x2615ae(0x2f2),'partialPercent':_0x2615ae(0x238),'partialPrice':_0x2615ae(0x257),'infoText':'The\x20calculator\x20is\x20designed\x20for\x20convenience\x20and\x20visualizing\x20trades\x20on\x20the\x20chart.\x20To\x20open\x20a\x20trade,\x20press\x20<b>S/L</b>:\x20the\x20first\x20click\x20sets\x20entry,\x20the\x20second\x20sets\x20take\x20profit.\x20Fill\x20in:\x20balance,\x20margin\x20cost,\x20and\x20leverage.\x20Press\x20<b>OK</b>\x20in\x20the\x20balance\x20field\x20to\x20see\x20TP\x20profit\x20and\x20liquidation\x20level.\x20You\x20can\x20drag\x20levels\x20on\x20the\x20chart.\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Remember,\x20the\x20calculator\x20does\x20not\x20account\x20for\x20exchange\x20fees!</span>','donateBtn':'Support\x20Developer','warn':'calculator\x20does\x20not\x20account\x20for\x20fees'},'zh':{'entry':_0x2615ae(0x31d),'take':'止盈','stop':'止损','balance':_0x2615ae(0x2d6),'margin':_0x2615ae(0x1e3),'addMargin':_0x2615ae(0x245),'addPrice':_0x2615ae(0x293),'lev':'杠杆','liq':_0x2615ae(0x1c8),'profit':'预计盈利\x20($)','loss':_0x2615ae(0x2b2),'confirmClear':_0x2615ae(0x1f7),'promptResult':'输入交易结果:','liqCross':_0x2615ae(0x27f),'liqMargin':_0x2615ae(0x270),'partialPercent':'部分平仓\x20%','partialPrice':_0x2615ae(0x33a),'infoText':_0x2615ae(0x2b7),'donateBtn':'支持开发者','warn':_0x2615ae(0x296)},'hi':{'entry':_0x2615ae(0x244),'take':'मुनाफा','stop':_0x2615ae(0x2ee),'balance':'बैलेंस\x20($)','margin':_0x2615ae(0x266),'addMargin':_0x2615ae(0x204),'addPrice':_0x2615ae(0x278),'lev':_0x2615ae(0x252),'liq':'लिक्विडेशन','profit':_0x2615ae(0x260),'loss':'एसएल\x20हानि\x20($)','confirmClear':_0x2615ae(0x1dd),'promptResult':_0x2615ae(0x297),'liqCross':_0x2615ae(0x302),'liqMargin':_0x2615ae(0x354),'partialPercent':_0x2615ae(0x23b),'partialPrice':_0x2615ae(0x278),'infoText':_0x2615ae(0x32d),'donateBtn':_0x2615ae(0x24d),'warn':_0x2615ae(0x314)},'es':{'entry':'Precio\x20de\x20Entrada','take':_0x2615ae(0x214),'stop':'Stop\x20Loss','balance':_0x2615ae(0x2d8),'margin':_0x2615ae(0x2e2),'addMargin':_0x2615ae(0x241),'addPrice':_0x2615ae(0x250),'lev':_0x2615ae(0x283),'liq':_0x2615ae(0x233),'profit':_0x2615ae(0x23f),'loss':_0x2615ae(0x284),'confirmClear':_0x2615ae(0x246),'promptResult':_0x2615ae(0x307),'liqCross':_0x2615ae(0x22f),'liqMargin':_0x2615ae(0x1e2),'partialPercent':_0x2615ae(0x330),'partialPrice':_0x2615ae(0x250),'infoText':_0x2615ae(0x34c),'donateBtn':_0x2615ae(0x276),'warn':'la\x20calculadora\x20no\x20incluye\x20comisiones'},'fr':{'entry':_0x2615ae(0x21b),'take':_0x2615ae(0x214),'stop':_0x2615ae(0x1d5),'balance':_0x2615ae(0x2ae),'margin':_0x2615ae(0x279),'addMargin':'Ajouter\x20Marge\x20($)','addPrice':_0x2615ae(0x2bf),'lev':'Levier','liq':_0x2615ae(0x286),'profit':_0x2615ae(0x212),'loss':_0x2615ae(0x27e),'confirmClear':'Supprimer\x20toutes\x20les\x20zones\x20?','promptResult':'Résultat\x20du\x20trade:','liqCross':_0x2615ae(0x2a1),'liqMargin':_0x2615ae(0x1e2),'partialPercent':_0x2615ae(0x33c),'partialPrice':'Au\x20Prix','infoText':_0x2615ae(0x1e0),'donateBtn':_0x2615ae(0x1e1),'warn':_0x2615ae(0x254)},'ar':{'entry':_0x2615ae(0x1df),'take':_0x2615ae(0x2d7),'stop':_0x2615ae(0x319),'balance':_0x2615ae(0x2b3),'margin':_0x2615ae(0x23c),'addMargin':_0x2615ae(0x22e),'addPrice':_0x2615ae(0x31a),'lev':'الرافعة\x20المالية','liq':_0x2615ae(0x33e),'profit':_0x2615ae(0x206),'loss':_0x2615ae(0x2ef),'confirmClear':_0x2615ae(0x24f),'promptResult':_0x2615ae(0x221),'liqCross':_0x2615ae(0x280),'liqMargin':_0x2615ae(0x2b6),'partialPercent':'إغلاق\x20جزئي\x20%','partialPrice':'عند\x20السعر','infoText':_0x2615ae(0x338),'donateBtn':_0x2615ae(0x267),'warn':'الحاسبة\x20لا\x20تحتسب\x20رسوم\x20المنصة'},'bn':{'entry':_0x2615ae(0x1eb),'take':_0x2615ae(0x315),'stop':'স্টপ\x20লস','balance':_0x2615ae(0x2c4),'margin':'মার্জিন\x20খরচ\x20($)','addMargin':_0x2615ae(0x30d),'addPrice':_0x2615ae(0x263),'lev':_0x2615ae(0x20c),'liq':_0x2615ae(0x2cf),'profit':_0x2615ae(0x352),'loss':_0x2615ae(0x1ff),'confirmClear':_0x2615ae(0x311),'promptResult':_0x2615ae(0x342),'liqCross':_0x2615ae(0x26f),'liqMargin':_0x2615ae(0x2b8),'partialPercent':'আংশিক\x20বন্ধ\x20%','partialPrice':'মূল্য\x20নির্ধারণ','infoText':_0x2615ae(0x1f5),'donateBtn':_0x2615ae(0x2cc),'warn':_0x2615ae(0x2fd)},'pt':{'entry':'Preço\x20de\x20Entrada','take':_0x2615ae(0x214),'stop':_0x2615ae(0x1d5),'balance':_0x2615ae(0x2d8),'margin':'Custo\x20de\x20Margен\x20($)','addMargin':_0x2615ae(0x2e7),'addPrice':_0x2615ae(0x2d9),'lev':_0x2615ae(0x339),'liq':'Liquidação','profit':'Lucro\x20TP\x20($)','loss':_0x2615ae(0x2ba),'confirmClear':_0x2615ae(0x2c9),'promptResult':_0x2615ae(0x337),'liqCross':_0x2615ae(0x2c1),'liqMargin':_0x2615ae(0x30b),'partialPercent':_0x2615ae(0x325),'partialPrice':'Ao\x20Preço','infoText':_0x2615ae(0x308),'donateBtn':_0x2615ae(0x1d8),'warn':_0x2615ae(0x220)},'ja':{'entry':_0x2615ae(0x2a8),'take':'利確','stop':'損切','balance':_0x2615ae(0x28e),'margin':_0x2615ae(0x2c0),'addMargin':'追加入金\x20($)','addPrice':_0x2615ae(0x26d),'lev':_0x2615ae(0x331),'liq':'ロスカット価格','profit':'予定利益\x20($)','loss':_0x2615ae(0x1d7),'confirmClear':_0x2615ae(0x2ad),'promptResult':_0x2615ae(0x336),'liqCross':_0x2615ae(0x273),'liqMargin':_0x2615ae(0x295),'partialPercent':_0x2615ae(0x2a2),'partialPrice':_0x2615ae(0x26d),'infoText':'チャート上で取引を可視化します。<b>S/L</b>を押し,\x201回目のクリックでエントリー,\x202回目で利確を設定。残高、証拠金、レバレッジを入力し、<b>OK</b>を押すと利益と清算ラインが表示されます。ラインはドラッグ可能です。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>取引所の手数料は考慮されません。</span>','donateBtn':'開発者を支援する','warn':_0x2615ae(0x2e8)}};let currentLang=localStorage[_0x2615ae(0x2f8)](_0x2615ae(0x282))||'ru',candles=[],currentTF='15m',currentSide=_0x2615ae(0x239),currentSymbol=_0x2615ae(0x2e0),symbolSettings=JSON[_0x2615ae(0x1c9)](localStorage['getItem'](_0x2615ae(0x1d0)))||{},historyZones=JSON[_0x2615ae(0x1c9)](localStorage['getItem'](_0x2615ae(0x2d2)))||[],dcaLines=[],closeLines=[],isHMode=![],hStep=0x0,hTemp=null,activeTradeStartTime=null,confirmedBalanceBase=null,confirmedStopLossValue=null,isDcaOrderActive=![],isPartialOrderActive=![],isSLMode=![],margin={'top':0x14,'right':window[_0x2615ae(0x262)]<=0x300?0x3c:0x6e,'bottom':0x28,'left':0xa},yScale=d3[_0x2615ae(0x1f6)](),xScale=d3[_0x2615ae(0x21f)](),mousePos=null,slStep=0x0;const svg=d3[_0x2615ae(0x312)](_0x2615ae(0x249)),defs=svg[_0x2615ae(0x2d4)]('defs');defs[_0x2615ae(0x2d4)](_0x2615ae(0x2f0))[_0x2615ae(0x207)]('id',_0x2615ae(0x27b))[_0x2615ae(0x2d4)](_0x2615ae(0x2a5))['attr']('x',0x0)[_0x2615ae(0x207)]('y',0x0);const mainG=svg[_0x2615ae(0x2d4)]('g')[_0x2615ae(0x207)](_0x2615ae(0x2f3),_0x2615ae(0x225)+margin[_0x2615ae(0x1de)]+','+margin[_0x2615ae(0x318)]+')'),contentG=mainG[_0x2615ae(0x2d4)]('g')[_0x2615ae(0x207)]('clip-path',_0x2615ae(0x1e6)),overlayG=mainG[_0x2615ae(0x2d4)]('g'),crosshairG=svg['append']('g')[_0x2615ae(0x207)]('transform',_0x2615ae(0x225)+margin[_0x2615ae(0x1de)]+','+margin[_0x2615ae(0x318)]+')');let yDomain=[0x0,0x0],visibleCount=0x50,scrollOffset=0x0,isDragging=![],lastMouse={'x':0x0,'y':0x0},isPriceScaling=![],initialPinchDist=null;const tfMap={'1s':0x1,'1m':0x3c,'5m':0x12c,'15m':0x384,'1h':0xe10,'4h':0x3840,'1d':0x15180,'1w':0x93a80,'1M':0x278d00,'1y':0x1e13380},timeframes=['1s','1m','5m','15m','1h','4h','1d','1w','1M','1y'],tfPanel=document['getElementById'](_0x2615ae(0x1e9));timeframes[_0x2615ae(0x2cb)](_0x4de074=>{const _0x5d1326=_0x2615ae,_0x53a070=document[_0x5d1326(0x22a)]('button');_0x53a070[_0x5d1326(0x1f0)]='tf-btn\x20'+(_0x4de074===currentTF?_0x5d1326(0x2fc):''),_0x53a070['innerText']=_0x4de074,_0x53a070['onclick']=()=>{const _0x268d69=_0x5d1326;currentTF=_0x4de074,document[_0x268d69(0x20a)](_0x268d69(0x33f))[_0x268d69(0x2cb)](_0xd45b93=>_0xd45b93[_0x268d69(0x334)][_0x268d69(0x253)](_0x268d69(0x2fc))),_0x53a070[_0x268d69(0x334)][_0x268d69(0x230)]('active'),loadData(!![]);},tfPanel[_0x5d1326(0x28f)](_0x53a070);});const slBtn=document[_0x2615ae(0x22a)](_0x2615ae(0x2fe));slBtn[_0x2615ae(0x1f0)]=_0x2615ae(0x350),slBtn[_0x2615ae(0x2e5)]='S/L',slBtn[_0x2615ae(0x209)]=toggleSLMode,tfPanel[_0x2615ae(0x28f)](slBtn);const symbolInput=document['createElement']('input');symbolInput['className']='symbol-search',symbolInput[_0x2615ae(0x1f4)]('list',_0x2615ae(0x2be)),symbolInput[_0x2615ae(0x2ac)]=currentSymbol,symbolInput[_0x2615ae(0x323)]=function(){const _0x2a05b0=_0x2615ae;this[_0x2a05b0(0x2ac)]='';},symbolInput[_0x2615ae(0x1ce)]=function(){const _0x354608=_0x2615ae;if(this['value']==='')this[_0x354608(0x2ac)]=currentSymbol;},symbolInput[_0x2615ae(0x20b)]=_0x29e494=>{const _0x1bd454=_0x2615ae,_0x44468f=_0x29e494['target']['value'][_0x1bd454(0x1da)]();if(_0x44468f){currentSymbol=_0x44468f;const _0x52fc56=symbolSettings[currentSymbol]||{};document[_0x1bd454(0x202)](_0x1bd454(0x22c))[_0x1bd454(0x2ac)]=_0x52fc56[_0x1bd454(0x304)]||'',document[_0x1bd454(0x202)]('takeProfit')['value']=_0x52fc56['tp']||'',document['getElementById'](_0x1bd454(0x34b))[_0x1bd454(0x2ac)]=_0x52fc56['sl']||'',confirmedStopLossValue=_0x52fc56['sl']||null,document[_0x1bd454(0x202)]('marginCost')[_0x1bd454(0x2ac)]=_0x52fc56[_0x1bd454(0x347)]||'',document[_0x1bd454(0x202)](_0x1bd454(0x240))['value']=_0x52fc56['leverage']||'3',closeLines=_0x52fc56['closeLines']||[];if(_0x52fc56[_0x1bd454(0x2e1)])setSide(_0x52fc56[_0x1bd454(0x2e1)]);loadData(!![])[_0x1bd454(0x2ea)](()=>calculateAll());}},tfPanel[_0x2615ae(0x28f)](symbolInput);const hBtn=document[_0x2615ae(0x22a)](_0x2615ae(0x2fe));hBtn[_0x2615ae(0x1f0)]=_0x2615ae(0x34e),hBtn['innerText']='H',hBtn[_0x2615ae(0x209)]=()=>{const _0x595c87=_0x2615ae;isHMode=!isHMode,hStep=0x0,hBtn['classList'][_0x595c87(0x2af)](_0x595c87(0x2fc),isHMode);if(isHMode&&isSLMode)toggleSLMode();},tfPanel[_0x2615ae(0x28f)](hBtn);const sumDisplay=document[_0x2615ae(0x22a)]('div');sumDisplay[_0x2615ae(0x1f0)]='h-sum-display',sumDisplay['id']=_0x2615ae(0x32a),sumDisplay[_0x2615ae(0x2e5)]='0',tfPanel[_0x2615ae(0x28f)](sumDisplay);const clearHBtn=document[_0x2615ae(0x22a)](_0x2615ae(0x2fe));clearHBtn[_0x2615ae(0x1f0)]='clear-h-btn',clearHBtn['innerText']='✖',clearHBtn[_0x2615ae(0x209)]=()=>{const _0x4fceca=_0x2615ae;confirm(i18n[currentLang][_0x4fceca(0x31f)])&&(historyZones=[],localStorage[_0x4fceca(0x272)](_0x4fceca(0x2d2),JSON[_0x4fceca(0x316)](historyZones)),update());},tfPanel[_0x2615ae(0x28f)](clearHBtn);const infoBtn=document['createElement'](_0x2615ae(0x2fe));infoBtn[_0x2615ae(0x1f0)]='tf-btn\x20info-btn',infoBtn[_0x2615ae(0x2e5)]=_0x2615ae(0x2bd),infoBtn[_0x2615ae(0x209)]=()=>toggleInfo(!![]),tfPanel[_0x2615ae(0x28f)](infoBtn);const langSelector=document['createElement'](_0x2615ae(0x312));langSelector['id']=_0x2615ae(0x2dc),langSelector[_0x2615ae(0x1f0)]=_0x2615ae(0x23d),langSelector[_0x2615ae(0x21e)]['width']=_0x2615ae(0x309),langSelector[_0x2615ae(0x21e)][_0x2615ae(0x1dc)]=_0x2615ae(0x288);const popularLanguages=[{'c':'ru','n':_0x2615ae(0x1d6)},{'c':'en','n':'English'},{'c':'zh','n':_0x2615ae(0x2d5)},{'c':'hi','n':'हिन्दी'},{'c':'es','n':_0x2615ae(0x2d0)},{'c':'fr','n':_0x2615ae(0x2bc)},{'c':'ar','n':_0x2615ae(0x24c)},{'c':'bn','n':_0x2615ae(0x217)},{'c':'pt','n':'Português'},{'c':'ja','n':_0x2615ae(0x1d3)}];popularLanguages[_0x2615ae(0x2cb)](_0x3ea4c1=>{const _0x35699b=_0x2615ae,_0x1ea593=document[_0x35699b(0x22a)](_0x35699b(0x2da));_0x1ea593[_0x35699b(0x2ac)]=_0x3ea4c1['c'],_0x1ea593[_0x35699b(0x2e5)]=_0x3ea4c1['n'];if(_0x3ea4c1['c']===currentLang)_0x1ea593[_0x35699b(0x208)]=!![];langSelector['appendChild'](_0x1ea593);}),langSelector['onchange']=_0x2cff4a=>{const _0x10d5fa=_0x2615ae;currentLang=_0x2cff4a[_0x10d5fa(0x219)][_0x10d5fa(0x2ac)],localStorage['setItem'](_0x10d5fa(0x282),currentLang),applyLanguage();},tfPanel[_0x2615ae(0x28f)](langSelector);function applyLanguage(){const _0x234314=_0x2615ae,_0x206893=i18n[currentLang]||i18n['en'];document[_0x234314(0x202)](_0x234314(0x289))[_0x234314(0x2e5)]=_0x206893['entry'],document[_0x234314(0x202)](_0x234314(0x27c))['innerText']=_0x206893[_0x234314(0x258)],document[_0x234314(0x202)](_0x234314(0x251))[_0x234314(0x2e5)]=_0x206893[_0x234314(0x264)],document[_0x234314(0x202)](_0x234314(0x237))[_0x234314(0x2e5)]=_0x206893[_0x234314(0x2e3)],document[_0x234314(0x202)](_0x234314(0x24a))[_0x234314(0x2e5)]=_0x206893[_0x234314(0x347)],document[_0x234314(0x202)](_0x234314(0x287))['innerText']=_0x206893['addMargin'],document[_0x234314(0x202)](_0x234314(0x2b9))[_0x234314(0x2e5)]=_0x206893[_0x234314(0x30e)],document['getElementById']('lbl-lev')[_0x234314(0x2e5)]=_0x206893['lev'],document[_0x234314(0x202)](_0x234314(0x2e4))['innerText']=_0x206893[_0x234314(0x2fa)],document[_0x234314(0x202)]('lbl-loss')[_0x234314(0x2e5)]=_0x206893['loss'],document[_0x234314(0x202)]('lbl-liq-text')['innerText']=_0x206893[_0x234314(0x328)],document['getElementById'](_0x234314(0x2c5))[_0x234314(0x2e5)]=_0x206893[_0x234314(0x24b)],document[_0x234314(0x202)](_0x234314(0x265))['innerText']=_0x206893[_0x234314(0x326)],document[_0x234314(0x202)]('lbl-comm-warn')[_0x234314(0x2e5)]=_0x206893[_0x234314(0x2a4)],document[_0x234314(0x202)]('modal-instruction')['innerHTML']=_0x206893['infoText'],document['getElementById'](_0x234314(0x1cb))[_0x234314(0x2e5)]=_0x206893['donateBtn'],calculateAll();}async function initSymbols(){const _0x464fa4=_0x2615ae;try{const _0x37cf34=await fetch(_0x464fa4(0x259)),_0x5870da=await _0x37cf34[_0x464fa4(0x29a)]();let _0x42496e=_0x5870da[_0x464fa4(0x2ec)][_0x464fa4(0x30c)](_0x3e769f=>_0x3e769f[_0x464fa4(0x21a)]===_0x464fa4(0x29b)&&_0x3e769f[_0x464fa4(0x1d4)]===_0x464fa4(0x31c))[_0x464fa4(0x256)](_0x2b9941=>_0x2b9941['symbol']);const _0x6a73e0=['BTCUSDT',_0x464fa4(0x25e),..._0x42496e['filter'](_0x315150=>!['BTCUSDT',_0x464fa4(0x25e)][_0x464fa4(0x30a)](_0x315150))],_0x5734cc=document[_0x464fa4(0x202)](_0x464fa4(0x2be));_0x5734cc[_0x464fa4(0x25f)]='',_0x6a73e0[_0x464fa4(0x2cb)](_0x3ab852=>{const _0x5a8c11=_0x464fa4,_0x2d27f1=document['createElement'](_0x5a8c11(0x2da));_0x2d27f1['value']=_0x3ab852,_0x5734cc[_0x5a8c11(0x28f)](_0x2d27f1);});}catch(_0x329f26){console[_0x464fa4(0x216)](_0x329f26);}}function toggleSLMode(){const _0x3daf68=_0x2615ae;isSLMode=!isSLMode,slStep=0x0,isSLMode&&(document[_0x3daf68(0x202)](_0x3daf68(0x22c))['value']='',document[_0x3daf68(0x202)](_0x3daf68(0x27a))[_0x3daf68(0x2ac)]='',document[_0x3daf68(0x202)](_0x3daf68(0x34b))['value']='',confirmedStopLossValue=null,activeTradeStartTime=null,dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],calculateAll()),slBtn[_0x3daf68(0x334)][_0x3daf68(0x2af)]('active',isSLMode),svg['style'](_0x3daf68(0x291),isSLMode?_0x3daf68(0x29f):_0x3daf68(0x21c)),isSLMode&&isHMode&&(isHMode=![],hBtn[_0x3daf68(0x334)][_0x3daf68(0x253)](_0x3daf68(0x2fc)));}function setSide(_0xa36a15){const _0x37c777=_0x2615ae;currentSide=_0xa36a15,document[_0x37c777(0x202)](_0x37c777(0x31e))[_0x37c777(0x334)][_0x37c777(0x2af)](_0x37c777(0x2fc),_0xa36a15===_0x37c777(0x239)),document[_0x37c777(0x202)](_0x37c777(0x348))[_0x37c777(0x334)][_0x37c777(0x2af)]('active',_0xa36a15===_0x37c777(0x29d)),confirmBalance();}function handleBalanceInput(){confirmedBalanceBase=null;}function confirmBalance(){const _0x5018c4=_0x2615ae,_0x307e84=+document['getElementById'](_0x5018c4(0x2e3))[_0x5018c4(0x2ac)];confirmedBalanceBase=_0x307e84,calculateAll();}function confirmStopLoss(){const _0x1cf0ba=_0x2615ae,_0x21b92b=document[_0x1cf0ba(0x202)](_0x1cf0ba(0x34b))[_0x1cf0ba(0x2ac)];confirmedStopLossValue=_0x21b92b?+_0x21b92b:null,calculateAll();}function _0x426b(_0x5d9ea1,_0x3143bd){_0x5d9ea1=_0x5d9ea1-0x1c8;const _0x281f00=_0x281f();let _0x426bd8=_0x281f00[_0x5d9ea1];return _0x426bd8;}function executeDCA(){const _0x414fab=_0x2615ae,_0xe672ad=+document[_0x414fab(0x202)](_0x414fab(0x333))['value'],_0x4f76bc=+document['getElementById'](_0x414fab(0x30e))['value'];_0xe672ad&&_0x4f76bc&&performDCAExecution();}function executePartialClose(){const _0x39d7a3=_0x2615ae,_0xf99c8=+document[_0x39d7a3(0x202)]('partialPercent')['value'],_0x376919=+document[_0x39d7a3(0x202)](_0x39d7a3(0x326))[_0x39d7a3(0x2ac)];_0xf99c8>0x0&&_0x376919&&performPartialCloseExecution();}function performDCAExecution(){const _0x51b491=_0x2615ae,_0x492fec=+document[_0x51b491(0x202)](_0x51b491(0x22c))['value'],_0x3ba0b4=+document[_0x51b491(0x202)](_0x51b491(0x25b))['value'],_0x49b406=+document[_0x51b491(0x202)](_0x51b491(0x333))['value'],_0x57f9de=+document[_0x51b491(0x202)]('addPrice')[_0x51b491(0x2ac)];if(_0x492fec&&_0x3ba0b4&&_0x49b406&&_0x57f9de){const _0x2e820f=(_0x3ba0b4*_0x492fec+_0x49b406*_0x57f9de)/(_0x3ba0b4+_0x49b406),_0x83527b=_0x3ba0b4+_0x49b406;document[_0x51b491(0x202)](_0x51b491(0x22c))['value']=_0x2e820f[_0x51b491(0x224)](_0x2e820f<0x1?0x4:0x2),document[_0x51b491(0x202)](_0x51b491(0x25b))['value']=_0x83527b[_0x51b491(0x224)](0x2),dcaLines['push'](_0x57f9de),document[_0x51b491(0x202)]('addMargin')[_0x51b491(0x2ac)]='',document[_0x51b491(0x202)](_0x51b491(0x30e))[_0x51b491(0x2ac)]='',isDcaOrderActive=![],calculateAll();}}function performPartialCloseExecution(){const _0x340bea=_0x2615ae,_0x1d15bc=+document['getElementById'](_0x340bea(0x22c))['value'],_0x4d5f2e=+document['getElementById'](_0x340bea(0x25b))['value'],_0xdcd47b=+document['getElementById'](_0x340bea(0x24b))[_0x340bea(0x2ac)],_0x5290e9=+document[_0x340bea(0x202)](_0x340bea(0x326))[_0x340bea(0x2ac)],_0x44f31f=+document['getElementById'](_0x340bea(0x240))[_0x340bea(0x2ac)],_0x2a1647=document[_0x340bea(0x202)]('balance');if(_0x1d15bc&&_0x4d5f2e&&_0xdcd47b>0x0&&_0x5290e9&&candles['length']>0x0){const _0x34a6e0=_0x4d5f2e*_0x44f31f,_0x3b54fa=(currentSide===_0x340bea(0x239)?(_0x5290e9-_0x1d15bc)/_0x1d15bc:(_0x1d15bc-_0x5290e9)/_0x1d15bc)*_0x34a6e0,_0x19be4f=_0x3b54fa*(_0xdcd47b/0x64),_0xc43ca1=candles[candles[_0x340bea(0x28d)]-0x1][_0x340bea(0x1cc)];historyZones['push']({'id':Date[_0x340bea(0x2d3)](),'symbol':currentSymbol,'t1':activeTradeStartTime||_0xc43ca1,'p1':_0x1d15bc,'t2':_0xc43ca1,'p2':_0x5290e9,'val':_0x19be4f[_0x340bea(0x224)](0x2)}),localStorage[_0x340bea(0x272)](_0x340bea(0x2d2),JSON[_0x340bea(0x316)](historyZones));const _0x17d01f=_0x4d5f2e*(_0xdcd47b/0x64),_0x5cfd5b=_0x4d5f2e-_0x17d01f;document[_0x340bea(0x202)](_0x340bea(0x25b))[_0x340bea(0x2ac)]=_0x5cfd5b[_0x340bea(0x224)](0x2);if(confirmedBalanceBase!==null)confirmedBalanceBase+=_0x19be4f,_0x2a1647[_0x340bea(0x2ac)]=confirmedBalanceBase[_0x340bea(0x224)](0x2);else _0x2a1647[_0x340bea(0x2ac)]&&(_0x2a1647[_0x340bea(0x2ac)]=(+_0x2a1647[_0x340bea(0x2ac)]+_0x19be4f)[_0x340bea(0x224)](0x2));closeLines[_0x340bea(0x1ea)]({'price':_0x5290e9,'profit':_0x19be4f}),document[_0x340bea(0x202)]('partialPercent')[_0x340bea(0x2ac)]='',document[_0x340bea(0x202)]('partialPrice')[_0x340bea(0x2ac)]='',isPartialOrderActive=![],calculateAll();}}function calculateAll(){const _0x5b8fc9=_0x2615ae,_0x37e54e=document[_0x5b8fc9(0x202)](_0x5b8fc9(0x22c))[_0x5b8fc9(0x2ac)],_0x2e84c5=document[_0x5b8fc9(0x202)](_0x5b8fc9(0x2e3)),_0x43a593=document['getElementById'](_0x5b8fc9(0x25b))[_0x5b8fc9(0x2ac)],_0x513ae3=document[_0x5b8fc9(0x202)]('leverage')[_0x5b8fc9(0x2ac)],_0xb53888=document[_0x5b8fc9(0x202)](_0x5b8fc9(0x27a))[_0x5b8fc9(0x2ac)],_0x3e52a4=confirmedStopLossValue,_0x386067=+_0x37e54e,_0x212358=+_0x43a593,_0x1fa5d8=+_0x513ae3,_0x4b8295=+_0xb53888||0x0,_0x2a8425=_0x212358*_0x1fa5d8,_0x27060b=document[_0x5b8fc9(0x202)](_0x5b8fc9(0x322)),_0x214582=document['getElementById'](_0x5b8fc9(0x33b)),_0x5889c0=i18n[currentLang]||i18n['en'];if(_0x386067>0x0&&_0x1fa5d8>0x0&&_0x2a8425>0x0){let _0x17ee98;confirmedBalanceBase!==null?(_0x17ee98=currentSide===_0x5b8fc9(0x239)?_0x386067*(0x1-confirmedBalanceBase/_0x2a8425):_0x386067*(0x1+confirmedBalanceBase/_0x2a8425),_0x214582[_0x5b8fc9(0x2e5)]=_0x5889c0[_0x5b8fc9(0x1e8)]):(_0x17ee98=currentSide===_0x5b8fc9(0x239)?_0x386067*(0x1-0x1/_0x1fa5d8):_0x386067*(0x1+0x1/_0x1fa5d8),_0x214582[_0x5b8fc9(0x2e5)]=_0x5889c0[_0x5b8fc9(0x210)]),_0x27060b[_0x5b8fc9(0x2e5)]=Math[_0x5b8fc9(0x2e9)](0x0,_0x17ee98)[_0x5b8fc9(0x224)](_0x386067<0x1?0x4:0x2);}else _0x27060b[_0x5b8fc9(0x2e5)]='0.00',_0x214582[_0x5b8fc9(0x2e5)]=_0x5889c0[_0x5b8fc9(0x328)];currentSymbol&&(symbolSettings[currentSymbol]={'entry':_0x37e54e,'tp':_0xb53888,'sl':confirmedStopLossValue,'margin':_0x43a593,'leverage':_0x513ae3,'side':currentSide,'closeLines':closeLines},localStorage['setItem'](_0x5b8fc9(0x1d0),JSON['stringify'](symbolSettings)));if(_0x37e54e&&_0xb53888&&!activeTradeStartTime&&candles[_0x5b8fc9(0x28d)]>0x0){if(mousePos){const _0x565498=xScale[_0x5b8fc9(0x2b4)](),_0x4a6a4e=Math[_0x5b8fc9(0x2b5)](mousePos['x']/xScale[_0x5b8fc9(0x1f3)]()),_0x38a825=_0x565498[_0x4a6a4e];activeTradeStartTime=_0x38a825||candles[candles[_0x5b8fc9(0x28d)]-0x1][_0x5b8fc9(0x1cc)];}else activeTradeStartTime=candles[candles[_0x5b8fc9(0x28d)]-0x1][_0x5b8fc9(0x1cc)];}(!_0x37e54e||!_0xb53888)&&(activeTradeStartTime=null,confirmedBalanceBase=null);if(!_0x37e54e||!_0x43a593||!_0x513ae3){document['getElementById']('takeProfitValue')[_0x5b8fc9(0x2e5)]=_0x5b8fc9(0x32b),document[_0x5b8fc9(0x202)]('stopLossValue')[_0x5b8fc9(0x2e5)]=_0x5b8fc9(0x32b),update();return;}document[_0x5b8fc9(0x202)]('takeProfitValue')[_0x5b8fc9(0x2e5)]=_0x4b8295>0x0?((currentSide===_0x5b8fc9(0x239)?(_0x4b8295-_0x386067)/_0x386067:(_0x386067-_0x4b8295)/_0x386067)*_0x2a8425)[_0x5b8fc9(0x224)](0x2):_0x5b8fc9(0x32b),document[_0x5b8fc9(0x202)]('stopLossValue')[_0x5b8fc9(0x2e5)]=_0x3e52a4>0x0?((currentSide===_0x5b8fc9(0x239)?(_0x3e52a4-_0x386067)/_0x386067:(_0x386067-_0x3e52a4)/_0x386067)*_0x2a8425)[_0x5b8fc9(0x224)](0x2):'0.00',update();}function clearInput(_0x554b98){const _0x58aad6=_0x2615ae,_0x4dde05=document['getElementById'](_0x554b98);_0x4dde05[_0x58aad6(0x2ac)]='';if(_0x554b98===_0x58aad6(0x30e))isDcaOrderActive=![];if(_0x554b98==='partialPrice')isPartialOrderActive=![];if(_0x554b98===_0x58aad6(0x34b))confirmedStopLossValue=null;if(currentSymbol&&symbolSettings[currentSymbol]){const _0x524e02={'entryPrice':_0x58aad6(0x304),'takeProfit':'tp','stopLoss':'sl','marginCost':_0x58aad6(0x347)};if(_0x524e02[_0x554b98])symbolSettings[currentSymbol][_0x524e02[_0x554b98]]='';localStorage[_0x58aad6(0x272)]('terminalSettings',JSON[_0x58aad6(0x316)](symbolSettings));}calculateAll();}function clearAllPurchases(){const _0x29baf2=_0x2615ae;dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],document[_0x29baf2(0x202)](_0x29baf2(0x25b))[_0x29baf2(0x2ac)]='',document['getElementById'](_0x29baf2(0x22c))[_0x29baf2(0x2ac)]='',currentSymbol&&symbolSettings[currentSymbol]&&(symbolSettings[currentSymbol]['margin']='',symbolSettings[currentSymbol][_0x29baf2(0x304)]='',symbolSettings[currentSymbol][_0x29baf2(0x226)]=[],localStorage[_0x29baf2(0x272)](_0x29baf2(0x1d0),JSON[_0x29baf2(0x316)](symbolSettings))),calculateAll();}function _0x281f(){const _0x1d88e3=['addPrice','padding','getBoundingClientRect','আপনি\x20কি\x20সব\x20জোন\x20মুছতে\x20চান?','select','https://api.binance.com/api/v3/klines?symbol=','कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20не\x20जोड़ता\x20है','টেক\x20প্রফিট','stringify','reduce','top','وقف\x20الخсارة','عند\x20السعر','TW8wa1QRMdJuwVgwnjA6wCRAMxE5UXHT5M','USDT','入场价格','btn-long','confirmClear','line-label','class','liqPrice','onfocus','touchend','Fechar\x20Parte\x20%','partialPrice','14px','liq','pointer-events','h-total-sum','0.00','block','कैलकुलेटर\x20चार्ट\x20पर\x20ट्रेडों\x20की\x20कल्पना\x20करने\x20के\x20लिए\x20बनाया\x20गया\x20है।\x20<b>S/L</b>\x20दबाएं:\x20पहला\x20क्लिक\x20एंट्री,\x20दूसरा\x20टीपी\x20सेट\x20करता\x20है।\x20बैलेंस,\x20मार्जिन\x20और\x20लीवरेज\x20भरें।\x20टीपी\x20प्रॉफिट\x20и\x20लิก्विडेशन\x20देखने\x20के\x20लिए\x20बैलेंस\x20में\x20<b>OK</b>\x20दबाएं।\x20आप\x20चार्ट\x20पर\x20स्तरों\x20को\x20खींच\x20सकते\x20हैं।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>याद\x20रखें,\x20कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20नहीं\x20जोड़ता\x20है!</span>','stroke-dasharray','axisRight','Cierre\x20Parcial\x20%','レバレッジ','Стоимость\x20открытия\x20($)','addMargin','classList','&interval=','取引結果を入力:','Resultado\x20da\x20operação:','تمออกแบบมาเพื่อการจำลองเทรด\x20กด\x20<b>S/L</b>:\x20คลิกแรกคือทางเข้า\x20คลิกสองคือ\x20TP\x20กรอกยอดเงินและเลเวอเรจเพื่อดูจุดเลิกกิจการ\x20ลากเส้นบนกราфได้<br><br><span\x20style=\x27color:\x20#ff9800;\x27>โปรดทราบว่า\x20неรวมค่าธรรมเนียม!</span>','Alavancagem','平仓价格','lbl-liq-text','Fermeture\x20Partielle\x20%','location','التصفية','.tf-btn','matches','file:','ট্রেড\x20রেজাল্ট\x20লিখুন:','Balance\x20($)','TRX','crosshair-label-bg','rP8werJEtkhbXBHhB4HpkfLtgVuE35rg81','margin','btn-short','drag','Введите\x20результат\x20сделки:','stopLoss','Calculadora\x20para\x20visualizar\x20operaciones.\x20Pulsa\x20<b>S/L</b>:\x20primer\x20clic\x20entrada,\x20segundo\x20clic\x20TP.\x20Rellena\x20saldo,\x20margen\x20y\x20apalancamiento.\x20Pulsa\x20<b>OK</b>\x20en\x20saldo\x20para\x20ver\x20beneficios\x20y\x20liquidación.\x20Puedes\x20arrastrar\x20los\x20niveles\x20en\x20el\x20gráfico.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>¡Recuerde\x20que\x20no\x20incluye\x20comisiones!</span>','wheel','tf-btn','axis-text','tf-btn\x20sl-mode-btn','deltaY','টিপি\x20লাভ\x20($)','fill','लिक्विडेशन\x20(Margin)','bold','addEventListener','强平价格','parse','836206YQTPwj','btn-support-dev','time','crosshair-line','onblur','7825540NUdyis','terminalSettings','Entry\x20Price','clipboard','日本語','quoteAsset','Stop\x20Loss','Русский','予定損失\x20($)','Apoiar\x20desenvolvedor','2px','toUpperCase','bandwidth','marginLeft','क्या\x20आप\x20सभी\x20क्षेत्रों\x20को\x20हटाना\x20चाहते\x20हैं?','left','سعر\x20الدخول','Calculatrice\x20pour\x20visualiser\x20les\x20trades.\x20Appuyez\x20sur\x20<b>S/L</b>\x20:\x201er\x20clic\x20entrée,\x202e\x20clic\x20TP.\x20Remplissez\x20solde,\x20marge\x20et\x20levier.\x20Cliquez\x20sur\x20<b>OK</b>\x20pour\x20voir\x20le\x20profit\x20et\x20la\x20liquidation.\x20Les\x20niveaux\x20sont\x20деплаçables.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>Attention,\x20ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais\x20!</span>','Soutenir\x20le\x20développeur','Liquidación\x20(Margin)','开仓成本\x20($)','split','CorrectLevel','url(#chart-clip)','TP\x20Profit\x20($)','liqCross','tf-panel','push','এন্ট্রি\x20প্রাইস','#26a69a','Поддержать\x20разработчика','price-line','mouseup','className','5,5','stroke-width','step','setAttribute','ট্রেড\x20ভিজ্যুয়ালাইজ\x20করার\x20জন্য\x20ক্যালকুলেটর।\x20<b>S/L</b>\x20চাপুন:\x20১ম\x20ক্লিকে\x20এন্ট্রি,\x20২য়\x20ক্লিকে\x20TP\x20সেট\x20হবে।\x20ব্যালেন্স,\x20মার্জিন\x20এবং\x20লিভারেজ\x20পূরণ\x20করুন।\x20প্রফিট\x20দেখতে\x20ব্যালেন্সে\x20<b>OK</b>\x20চাপুন।\x20লেভেলগুলো\x20ড্র্যাগ\x20করা\x20যায়।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>মনে\x20রাখবেন,\x20এটি\x20এক্সচেঞ্জ\x20фи\x20গণনা\x20করে\x20না!</span>','scaleLinear','确定要删除所有区域吗？','padStart','calculator4traders.github.io','text-anchor','1342329Yhjmxy','none','range','touches','এসএল\x20ক্ষতি\x20($)','modal-start-view','low','getElementById','.crypto-btn','মাজিন\x20जोड़ें\x20($)','#2962ff','ربح\x20TP\x20($)','attr','selected','onclick','querySelectorAll','onchange','লিভারেজ','touchmove','Вход\x20(Цена\x20актива)','clientY','liqMargin','grabbing','Profit\x20TP\x20($)','middle','Take\x20Profit','7025140mAZTTb','error','বাংলা','preventDefault','target','status','Prix\x20d\x27Entrée','default','COPIED!','style','scaleBand','a\x20calculadora\x20não\x20incluye\x20taxas','أدخل\x20نتيجة\x20الصفقة:','stroke','modal-donate-view','toFixed','translate(','closeLines','Потери\x20по\x20стопу\x20($)','text','\x20[x]','createElement','high','entryPrice','clientX','إضافة\x20هامش\x20($)','Liquidación\x20(Cross)','add','protocol','data','Liquidación','Leverage','4,4','touchstart','lbl-balance','Close\x20Part\x20%','long','line','हिसा\x20बंद\x20करें\x20%','التكلفة\x20($)','symbol-search','tickSize','Ganancia\x20TP\x20($)','leverage','Añadir\x20Margen\x20($)','Вы\x20точно\x20хотите\x20удалить\x20ВСЕ\x20тени?',':focus','प्रवेश\x20मूल्य','加仓\x20($)','¿Seguro\x20que\x20quieres\x20borrar\x20todas\x20las\x20zonas?','abs','crosshair-label-text','#svg-chart','lbl-margin','partialPercent','العربية','डेवलपर\x20का\x20समर्थन\x20करें','tickFormat','هل\x20أنت\x20متأكد\x20من\x20مسح\x20جميع\x20المناطق؟','Al\x20Precio','lbl-stop','लीवरेज','remove','ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais','display','map','At\x20Price','take','https://api.binance.com/api/v3/exchangeInfo','opacity','marginCost','pointer','Ликвидация\x20(Cross)','ETHUSDT','innerHTML','टीपी\x20लाभ\x20($)','val','innerWidth','মূল্য\x20নির্ধারণ','stop','lbl-partial-price','মাজিন\x20लागत\x20($)','دعم\x20المطور','axis-border','font-weight','Докупить\x20($)','ceil','#ff9800','価格指定','SL\x20Loss\x20($)','লিকুইডেশন\x20(Cross)','强平\x20(逐仓)','#000000','setItem','清算\x20(クロス)','click','#ef5350','Apoyar\x20al\x20desarrollador','price-label-main','कीमत\x20पर','Marge\x20($)','takeProfit','chart-clip','lbl-take','Ликвидация','Perte\x20SL\x20($)','强平\x20(全仓)','تصفية\x20(Cross)','2imiugc','lang','Apalancamiento','Pérdida\x20SL\x20($)','slice','Liquidation','lbl-add-margin','auto','lbl-entry','close','8029848fEzdXO','калькулятор\x20не\x20учитывает\x20комиссии\x20биржи','length','残高\x20($)','appendChild','round','cursor','selectAll','加仓价格','contains','清算\x20(分離)','计算器不考虑交易所手续费','व्यापार\x20परिणाम\x20दर्ज\x20करें:','toLocaleDateString','right','json','TRADING','Ликвидация\x20(Margin)','short','font-size','crosshair','0x9096cB9D2b34149d39D1b591C3D1544c0A4902F4','Liquidation\x20(Cross)','部分利確\x20%','width','warn','rect','price','replace','エントリー価格','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20ALL\x20zones?','Профит\x20по\x20тейку\x20($)','bottom','value','すべてのゾーンを削除しますか？','Solde\x20($)','toggle','mousedown','Калькулятор\x20создан\x20для\x20удобства\x20и\x20визуализации\x20сделок\x20на\x20графике.\x20Для\x20открытия\x20сделки\x20нажмите\x20кнопку\x20<b>S/L</b>:\x20первое\x20нажатие\x20на\x20график\x20создаст\x20уровень\x20входа,\x20а\x20второе\x20—\x20тейка.\x20Заполните\x20поля:\x20баланс,\x20стоимость\x20открытия\x20и\x20плечо.\x20Нажмите\x20<b>OK</b>\x20в\x20окне\x20баланс\x20и\x20получите\x20расчет\x20профита\x20по\x20тейку\x20и\x20уровень\x20ликвидации\x20на\x20графике.\x20Уровни\x20на\x20графике\x20можно\x20перетаскивать(пока\x20только\x20в\x20пк\x20версии).\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Помните\x20что\x20калькулятор\x20не\x20учитывает\x20комиссии\x20биржи!</span>','预计亏损\x20($)','الرصيد\x20($)','domain','floor','تصفية\x20(Margin)','该计算器旨在方便用户在图表上可视化交易。点击\x20<b>S/L</b>：第一次点击设置入场，第二次点击设置止盈。填写余额、开仓成本和杠杆。点击余额栏의\x20<b>OK</b>\x20查看盈利和强平线。您可以拖动图表上的线条。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>请记住，计算器未计入交易所手续费！</span>','লিকুইডেশন\x20(Margin)','lbl-add-price','Perda\x20SL\x20($)','tickPadding','Français','Info','symbolsList','Au\x20Prix','証拠金\x20($)','Liquidação\x20(Cross)','height','Баланс\x20($)','ব্যালেন্স\x20($)','lbl-partial-percent','.domain','node','classed','Limpar\x20todas\x20as\x20zonas?','Margin\x20Cost\x20($)','forEach','ডেভেলপারকে\x20সমর্থন\x20করুন','Access\x20denied:\x20invalid\x20domain','8vwdOrv','লিকুইডেশন','Español','price-label-timer','tradeHistoryZones','now','append','简体中文','余额\x20($)','جني\x20الأرباح','Saldo\x20($)','Ao\x20Preço','option','transparent','lang-selector','4811619umRZQC','call','23287869KZvCII','BTCUSDT','side','Costo\x20de\x20Margen\x20($)','balance','lbl-profit','innerText','axisBottom','Adicionar\x20Margem\x20($)','取引所の手数料は考慮されません','max','then','Enter\x20trade\x20result:','symbols','open','স্টপ\x20লস','خسارة\x20SL\x20($)','clipPath','min','Liquidation\x20(Margin)','transform','mousemove','#ffffff','Add\x20Margin\x20($)','enter','getItem','2-digit','profit','symbol','active','এটি\x20এক্সচেঞ্জ\x20ফি\x20গণনা\x20করে\x20না','button','translate(0,\x20','flex','toLocaleTimeString','लिक्विडेशन\x20(Cross)','writeText','entry','qrcode','invert','Resultado\x20de\x20la\x20operación:','Calculadora\x20para\x20visualizar\x20negociações.\x20Pressione\x20<b>S/L</b>:\x201º\x20clique\x20entrada,\x202º\x20clique\x20TP.\x20Preencha\x20saldo,\x20margem\x20e\x20alavancagem.\x20Pressione\x20<b>OK</b>\x20para\x20ver\x20lucro\x20e\x20liquidação.\x20Níveis\x20arrastáveis.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>A\x20calculadora\x20не\x20incluye\x20taxas\x20da\x20exchange!</span>','130px','includes','Liquidação\x20(Margin)','filter','মার্জিন\x20যোগ\x20করুন\x20($)'];_0x281f=function(){return _0x1d88e3;};return _0x281f();}function getTimeLeft(){const _0x47f559=_0x2615ae;if(!candles[_0x47f559(0x28d)])return'';const _0x381ffe=tfMap[currentTF]===0x1e13380?0x278d00:tfMap[currentTF],_0x486fcb=candles[candles[_0x47f559(0x28d)]-0x1]['time']+_0x381ffe*0x3e8,_0x4fb259=_0x486fcb-Date[_0x47f559(0x2d3)]();if(_0x4fb259<=0x0)return'00:00';const _0x1912cf=Math['floor'](_0x4fb259/0x36ee80),_0x382b33=Math[_0x47f559(0x2b5)](_0x4fb259%0x36ee80/0xea60),_0x2434f5=Math[_0x47f559(0x2b5)](_0x4fb259%0xea60/0x3e8);return _0x1912cf>0x0?_0x1912cf+':'+String(_0x382b33)[_0x47f559(0x1f8)](0x2,'0')+':'+String(_0x2434f5)['padStart'](0x2,'0'):String(_0x382b33)[_0x47f559(0x1f8)](0x2,'0')+':'+String(_0x2434f5)[_0x47f559(0x1f8)](0x2,'0');}function checkAutoTriggers(_0x58ded2){const _0x2637ed=_0x2615ae;if(isSLMode)return;const _0x2fd7cf=+document[_0x2637ed(0x202)]('entryPrice')[_0x2637ed(0x2ac)],_0x2b9e92=+document[_0x2637ed(0x202)](_0x2637ed(0x27a))[_0x2637ed(0x2ac)],_0x3ac49e=confirmedStopLossValue,_0x2a8905=+document['getElementById'](_0x2637ed(0x30e))[_0x2637ed(0x2ac)],_0x16e220=+document[_0x2637ed(0x202)](_0x2637ed(0x326))[_0x2637ed(0x2ac)];if(!_0x2fd7cf||!_0x2b9e92)return;isDcaOrderActive&&_0x2a8905&&(currentSide===_0x2637ed(0x239)&&_0x58ded2<=_0x2a8905||currentSide==='short'&&_0x58ded2>=_0x2a8905)&&performDCAExecution();isPartialOrderActive&&_0x16e220&&(currentSide===_0x2637ed(0x239)&&_0x58ded2>=_0x16e220||currentSide==='short'&&_0x58ded2<=_0x16e220)&&performPartialCloseExecution();const _0x4b39ae=currentSide==='long'&&_0x58ded2>=_0x2b9e92||currentSide===_0x2637ed(0x29d)&&_0x58ded2<=_0x2b9e92,_0x2440f7=_0x3ac49e&&(currentSide===_0x2637ed(0x239)&&_0x58ded2<=_0x3ac49e||currentSide===_0x2637ed(0x29d)&&_0x58ded2>=_0x3ac49e);if(_0x4b39ae||_0x2440f7){const _0x2f819f=+document[_0x2637ed(0x202)]('marginCost')[_0x2637ed(0x2ac)],_0x886997=+document[_0x2637ed(0x202)](_0x2637ed(0x240))[_0x2637ed(0x2ac)],_0x430455=_0x2f819f*_0x886997,_0x4c9406=document[_0x2637ed(0x202)](_0x2637ed(0x2e3)),_0x3f8d06=(currentSide===_0x2637ed(0x239)?(_0x58ded2-_0x2fd7cf)/_0x2fd7cf:(_0x2fd7cf-_0x58ded2)/_0x2fd7cf)*_0x430455;historyZones[_0x2637ed(0x1ea)]({'id':Date[_0x2637ed(0x2d3)](),'symbol':currentSymbol,'t1':activeTradeStartTime,'p1':_0x2fd7cf,'t2':candles[candles[_0x2637ed(0x28d)]-0x1][_0x2637ed(0x1cc)],'p2':_0x58ded2,'val':_0x3f8d06[_0x2637ed(0x224)](0x2)}),localStorage['setItem'](_0x2637ed(0x2d2),JSON[_0x2637ed(0x316)](historyZones));const _0x2364cf=(confirmedBalanceBase!==null?confirmedBalanceBase:+_0x4c9406[_0x2637ed(0x2ac)])+_0x3f8d06;_0x4c9406[_0x2637ed(0x2ac)]=_0x2364cf[_0x2637ed(0x224)](0x2),confirmedBalanceBase=_0x2364cf,clearInput(_0x2637ed(0x22c)),clearInput(_0x2637ed(0x27a)),clearInput('stopLoss'),clearInput(_0x2637ed(0x25b)),dcaLines=[],closeLines=[],activeTradeStartTime=null,confirmedStopLossValue=null,calculateAll();}}async function loadData(_0x54ffcb=![]){const _0x43862e=_0x2615ae;try{let _0x502829=currentTF==='1y'?'1M':currentTF;const _0x36667e=await fetch(_0x43862e(0x313)+currentSymbol+_0x43862e(0x335)+_0x502829+'&limit=1000'),_0x1a63b6=await _0x36667e[_0x43862e(0x29a)]();candles=_0x1a63b6[_0x43862e(0x256)](_0x2e3c62=>({'time':_0x2e3c62[0x0],'open':+_0x2e3c62[0x1],'high':+_0x2e3c62[0x2],'low':+_0x2e3c62[0x3],'close':+_0x2e3c62[0x4]}));if(candles[_0x43862e(0x28d)]>0x0){const _0x518912=candles[candles[_0x43862e(0x28d)]-0x1][_0x43862e(0x28a)],_0x3c28f5=document[_0x43862e(0x202)](_0x43862e(0x30e)),_0x3cbe94=document[_0x43862e(0x202)]('partialPrice');!isDcaOrderActive&&!_0x3c28f5['matches'](_0x43862e(0x243))&&(_0x3c28f5[_0x43862e(0x2ac)]=_0x518912[_0x43862e(0x224)](_0x518912<0x1?0x4:0x2)),!isPartialOrderActive&&!_0x3cbe94[_0x43862e(0x340)](':focus')&&(_0x3cbe94['value']=_0x518912[_0x43862e(0x224)](_0x518912<0x1?0x4:0x2)),checkAutoTriggers(_0x518912);}if(_0x54ffcb){scrollOffset=0x0;const _0x15f53a=candles[_0x43862e(0x285)](-visibleCount);yDomain=[d3[_0x43862e(0x2f1)](_0x15f53a,_0x3c8a10=>_0x3c8a10[_0x43862e(0x201)])*0.99,d3['max'](_0x15f53a,_0x2c518f=>_0x2c518f[_0x43862e(0x22b)])*1.01];}update(),calculateAll();}catch(_0x15f631){console[_0x43862e(0x216)](_0x15f631);}}function findXByTime(_0x40dd43,_0x177558){const _0xc92a59=xScale(_0x40dd43);if(_0xc92a59!==undefined)return _0xc92a59;for(let _0x59977e=0x0;_0x59977e<_0x177558['length'];_0x59977e++){const _0x2e29b5=_0x177558[_0x59977e],_0x257c45=_0x177558[_0x59977e+0x1]||_0x2e29b5+tfMap[currentTF]*0x3e8;if(_0x40dd43>=_0x2e29b5&&_0x40dd43<_0x257c45)return xScale(_0x2e29b5);}return undefined;}function update(){const _0x55c992=_0x2615ae,_0x5c3880=svg[_0x55c992(0x2c7)]()['getBoundingClientRect']();if(_0x5c3880['width']===0x0)return;const _0xf749ef=_0x5c3880[_0x55c992(0x2a3)]-margin[_0x55c992(0x1de)]-margin['right'],_0x1911f2=_0x5c3880[_0x55c992(0x2c2)]-margin[_0x55c992(0x318)]-margin[_0x55c992(0x2ab)];d3['select']('#chart-clip\x20rect')[_0x55c992(0x207)](_0x55c992(0x2a3),_0xf749ef)[_0x55c992(0x207)](_0x55c992(0x2c2),_0x1911f2),yScale[_0x55c992(0x2b4)](yDomain)['range']([_0x1911f2,0x0]);const _0x130ada=candles[_0x55c992(0x28d)]-visibleCount-scrollOffset,_0x292c12=candles['slice'](Math[_0x55c992(0x2e9)](0x0,_0x130ada),Math[_0x55c992(0x2e9)](0x0,candles['length']-scrollOffset)),_0x1ca559=tfMap[currentTF]*0x3e8,_0x233a70=[];if(candles[_0x55c992(0x28d)]>0x0){for(let _0x4f0184=0x0;_0x4f0184<visibleCount;_0x4f0184++)_0x233a70[_0x55c992(0x1ea)](candles[0x0][_0x55c992(0x1cc)]+(_0x130ada+_0x4f0184)*(candles[_0x55c992(0x28d)]>0x1?candles[0x1][_0x55c992(0x1cc)]-candles[0x0][_0x55c992(0x1cc)]:_0x1ca559));}xScale[_0x55c992(0x2b4)](_0x233a70)[_0x55c992(0x1fd)]([0x0,_0xf749ef])[_0x55c992(0x30f)](0.2),contentG[_0x55c992(0x292)]('*')[_0x55c992(0x253)](),overlayG['selectAll']('*')[_0x55c992(0x253)](),contentG[_0x55c992(0x2d4)]('g')['attr'](_0x55c992(0x2f3),_0x55c992(0x225)+_0xf749ef+',\x200)')[_0x55c992(0x207)]('class','axis-text')[_0x55c992(0x2de)](d3['axisRight'](yScale)['tickSize'](-_0xf749ef)[_0x55c992(0x2bb)](0xa))[_0x55c992(0x2de)](_0x46f407=>_0x46f407[_0x55c992(0x312)](_0x55c992(0x2c6))[_0x55c992(0x253)]())[_0x55c992(0x292)](_0x55c992(0x23a))[_0x55c992(0x207)](_0x55c992(0x321),'grid-line'),overlayG['append']('g')[_0x55c992(0x207)](_0x55c992(0x2f3),'translate('+_0xf749ef+',\x200)')[_0x55c992(0x207)](_0x55c992(0x321),_0x55c992(0x34f))['call'](d3[_0x55c992(0x32f)](yScale)[_0x55c992(0x23e)](0x0)[_0x55c992(0x2bb)](0xa))[_0x55c992(0x2de)](_0x2e95d1=>_0x2e95d1[_0x55c992(0x312)](_0x55c992(0x2c6))['remove']()),overlayG['append']('g')[_0x55c992(0x207)](_0x55c992(0x2f3),_0x55c992(0x2ff)+_0x1911f2+')')[_0x55c992(0x207)](_0x55c992(0x321),_0x55c992(0x34f))[_0x55c992(0x2de)](d3[_0x55c992(0x2e6)](xScale)['tickValues'](xScale[_0x55c992(0x2b4)]()[_0x55c992(0x30c)]((_0xa13b9c,_0x1f8063)=>_0x1f8063%Math[_0x55c992(0x26b)](visibleCount/0x8)===0x0))[_0x55c992(0x24e)](_0x207817=>{const _0x2a7988=_0x55c992,_0x30ecc5=new Date(_0x207817);return['1y','1M'][_0x2a7988(0x30a)](currentTF)?_0x30ecc5[_0x2a7988(0x298)]([],{'month':'short','year':'2-digit'}):_0x30ecc5[_0x2a7988(0x301)]([],{'hour':_0x2a7988(0x2f9),'minute':_0x2a7988(0x2f9)});})[_0x55c992(0x23e)](0x0)[_0x55c992(0x2bb)](0xc))[_0x55c992(0x2de)](_0xcac8f=>_0xcac8f[_0x55c992(0x312)](_0x55c992(0x2c6))[_0x55c992(0x253)]()),overlayG[_0x55c992(0x2d4)](_0x55c992(0x23a))['attr'](_0x55c992(0x321),_0x55c992(0x268))[_0x55c992(0x207)]('x1',_0xf749ef)[_0x55c992(0x207)]('x2',_0xf749ef)[_0x55c992(0x207)]('y1',0x0)['attr']('y2',_0x1911f2),overlayG[_0x55c992(0x2d4)](_0x55c992(0x23a))[_0x55c992(0x207)]('class',_0x55c992(0x268))[_0x55c992(0x207)]('x1',0x0)[_0x55c992(0x207)]('x2',_0xf749ef)['attr']('y1',_0x1911f2)[_0x55c992(0x207)]('y2',_0x1911f2);const _0x318e5b=contentG[_0x55c992(0x292)]('.c')[_0x55c992(0x232)](_0x292c12)[_0x55c992(0x2f7)]()[_0x55c992(0x2d4)]('g');_0x318e5b[_0x55c992(0x2d4)](_0x55c992(0x23a))['attr'](_0x55c992(0x222),_0x44b2a6=>_0x44b2a6[_0x55c992(0x28a)]>_0x44b2a6[_0x55c992(0x2ed)]?_0x55c992(0x1ec):_0x55c992(0x275))['attr']('x1',_0x1fbc01=>xScale(_0x1fbc01[_0x55c992(0x1cc)])+xScale[_0x55c992(0x1db)]()/0x2)[_0x55c992(0x207)]('x2',_0x1e640a=>xScale(_0x1e640a[_0x55c992(0x1cc)])+xScale[_0x55c992(0x1db)]()/0x2)['attr']('y1',_0x1b61f0=>yScale(_0x1b61f0[_0x55c992(0x22b)]))[_0x55c992(0x207)]('y2',_0x5e3a88=>yScale(_0x5e3a88[_0x55c992(0x201)])),_0x318e5b[_0x55c992(0x2d4)](_0x55c992(0x2a5))[_0x55c992(0x207)](_0x55c992(0x353),_0x3fc219=>_0x3fc219['close']>_0x3fc219['open']?_0x55c992(0x1ec):_0x55c992(0x275))[_0x55c992(0x207)]('x',_0x513292=>xScale(_0x513292['time']))[_0x55c992(0x207)]('y',_0x25c114=>yScale(Math[_0x55c992(0x2e9)](_0x25c114['open'],_0x25c114[_0x55c992(0x28a)])))['attr'](_0x55c992(0x2a3),xScale[_0x55c992(0x1db)]())[_0x55c992(0x207)](_0x55c992(0x2c2),_0x22e063=>Math[_0x55c992(0x2e9)](0x1,Math['abs'](yScale(_0x22e063['open'])-yScale(_0x22e063[_0x55c992(0x28a)]))));const _0x50118e=xScale[_0x55c992(0x2b4)](),_0x5770ac=+document[_0x55c992(0x202)]('entryPrice')[_0x55c992(0x2ac)],_0x2e50e1=+document[_0x55c992(0x202)](_0x55c992(0x27a))[_0x55c992(0x2ac)],_0x4f0b03=candles[_0x55c992(0x28d)]?candles[candles['length']-0x1]['close']:0x0;if(_0x5770ac&&_0x2e50e1&&activeTradeStartTime){let _0x4cea1a=findXByTime(activeTradeStartTime,_0x50118e),_0x5ddbb2=_0xf749ef-xScale['bandwidth']();if(_0x4cea1a===undefined&&_0x50118e[_0x55c992(0x28d)]>0x0&&activeTradeStartTime<_0x50118e[0x0])_0x4cea1a=0x0;if(_0x4cea1a!==undefined){const _0x13ac54=yScale(_0x5770ac),_0x339725=yScale(_0x4f0b03);contentG[_0x55c992(0x2d4)](_0x55c992(0x2a5))[_0x55c992(0x207)]('x',Math['min'](_0x4cea1a,_0x5ddbb2))['attr'](_0x55c992(0x2a3),Math[_0x55c992(0x247)](_0x5ddbb2-_0x4cea1a)+xScale[_0x55c992(0x1db)]())[_0x55c992(0x207)]('y',Math['min'](_0x13ac54,_0x339725))[_0x55c992(0x207)](_0x55c992(0x2c2),Math[_0x55c992(0x2e9)](0x2,Math[_0x55c992(0x247)](_0x339725-_0x13ac54)))[_0x55c992(0x207)](_0x55c992(0x353),(currentSide===_0x55c992(0x239)?_0x4f0b03>=_0x5770ac:_0x4f0b03<=_0x5770ac)?_0x55c992(0x1ec):_0x55c992(0x275))[_0x55c992(0x207)](_0x55c992(0x25a),0.3);}}if(isDcaOrderActive&&+document[_0x55c992(0x202)](_0x55c992(0x30e))[_0x55c992(0x2ac)]){const _0x3c8e66=yScale(+document[_0x55c992(0x202)](_0x55c992(0x30e))[_0x55c992(0x2ac)]);contentG[_0x55c992(0x2d4)](_0x55c992(0x23a))[_0x55c992(0x207)]('class','price-line')['attr']('x1',0x0)[_0x55c992(0x207)]('x2',_0xf749ef)[_0x55c992(0x207)]('y1',_0x3c8e66)[_0x55c992(0x207)]('y2',_0x3c8e66)['attr'](_0x55c992(0x222),_0x55c992(0x205))[_0x55c992(0x207)]('stroke-width',0x2)['attr'](_0x55c992(0x32e),_0x55c992(0x235))[_0x55c992(0x2de)](d3['drag']()['on'](_0x55c992(0x349),_0x19ef06=>{const _0x5bdf11=_0x55c992,[_0x5dc4de,_0x25c981]=d3['pointer'](_0x19ef06,mainG[_0x5bdf11(0x2c7)]()),_0x499f5a=yScale[_0x5bdf11(0x306)](Math[_0x5bdf11(0x2e9)](0x0,Math['min'](_0x1911f2,_0x25c981)));document[_0x5bdf11(0x202)]('addPrice')['value']=_0x499f5a[_0x5bdf11(0x224)](_0x499f5a<0x1?0x4:0x2),update();}));}if(isPartialOrderActive&&+document[_0x55c992(0x202)](_0x55c992(0x326))[_0x55c992(0x2ac)]){const _0x444297=yScale(+document['getElementById']('partialPrice')[_0x55c992(0x2ac)]);contentG[_0x55c992(0x2d4)](_0x55c992(0x23a))[_0x55c992(0x207)](_0x55c992(0x321),_0x55c992(0x1ee))[_0x55c992(0x207)]('x1',0x0)[_0x55c992(0x207)]('x2',_0xf749ef)['attr']('y1',_0x444297)[_0x55c992(0x207)]('y2',_0x444297)['attr']('stroke',_0x55c992(0x1ec))[_0x55c992(0x207)]('stroke-width',0x2)[_0x55c992(0x207)]('stroke-dasharray','4,4')[_0x55c992(0x2de)](d3['drag']()['on'](_0x55c992(0x349),_0x33fa68=>{const _0x5df299=_0x55c992,[_0x3191a2,_0x2700bc]=d3[_0x5df299(0x25c)](_0x33fa68,mainG[_0x5df299(0x2c7)]()),_0x3b1c25=yScale[_0x5df299(0x306)](Math[_0x5df299(0x2e9)](0x0,Math[_0x5df299(0x2f1)](_0x1911f2,_0x2700bc)));document['getElementById'](_0x5df299(0x326))[_0x5df299(0x2ac)]=_0x3b1c25[_0x5df299(0x224)](_0x3b1c25<0x1?0x4:0x2),update();}));}dcaLines['forEach'](_0x12afd3=>{const _0x3daffd=_0x55c992,_0x223805=yScale(_0x12afd3);if(_0x223805>=0x0&&_0x223805<=_0x1911f2)contentG[_0x3daffd(0x2d4)](_0x3daffd(0x23a))[_0x3daffd(0x207)]('x1',0x0)[_0x3daffd(0x207)]('x2',_0xf749ef)['attr']('y1',_0x223805)['attr']('y2',_0x223805)[_0x3daffd(0x207)](_0x3daffd(0x222),_0x3daffd(0x205))[_0x3daffd(0x207)](_0x3daffd(0x1f2),0x1)[_0x3daffd(0x207)](_0x3daffd(0x32e),_0x3daffd(0x1f1));}),closeLines[_0x55c992(0x2cb)](_0x1f1ecf=>{const _0x2db48c=_0x55c992,_0xa5d61=yScale(_0x1f1ecf[_0x2db48c(0x2a6)]);_0xa5d61>=0x0&&_0xa5d61<=_0x1911f2&&(contentG[_0x2db48c(0x2d4)](_0x2db48c(0x23a))[_0x2db48c(0x207)]('x1',0x0)[_0x2db48c(0x207)]('x2',_0xf749ef)[_0x2db48c(0x207)]('y1',_0xa5d61)[_0x2db48c(0x207)]('y2',_0xa5d61)[_0x2db48c(0x207)](_0x2db48c(0x222),_0x2db48c(0x1ec))[_0x2db48c(0x207)](_0x2db48c(0x1f2),0x1)[_0x2db48c(0x207)](_0x2db48c(0x32e),'3,3'),contentG['append'](_0x2db48c(0x228))[_0x2db48c(0x207)]('x',_0xf749ef/0x2)[_0x2db48c(0x207)]('y',_0xa5d61-0x5)[_0x2db48c(0x207)]('fill','#26a69a')[_0x2db48c(0x207)](_0x2db48c(0x29e),_0x2db48c(0x327))[_0x2db48c(0x207)](_0x2db48c(0x269),'bold')[_0x2db48c(0x207)](_0x2db48c(0x1fa),_0x2db48c(0x213))[_0x2db48c(0x228)](''+(_0x1f1ecf[_0x2db48c(0x2fa)]>=0x0?'+':'')+_0x1f1ecf[_0x2db48c(0x2fa)][_0x2db48c(0x224)](0x2)));}),historyZones[_0x55c992(0x30c)](_0x40ef4a=>_0x40ef4a[_0x55c992(0x2fb)]===currentSymbol)['forEach'](_0x5589e3=>{const _0xe59927=_0x55c992;let _0x22a0a3=findXByTime(_0x5589e3['t1'],_0x50118e),_0x4a1682=findXByTime(_0x5589e3['t2'],_0x50118e);if(_0x22a0a3===undefined&&_0x50118e['length']>0x0&&_0x5589e3['t1']<_0x50118e[0x0])_0x22a0a3=0x0;if(_0x4a1682===undefined&&_0x50118e['length']>0x0&&_0x5589e3['t2']>_0x50118e[_0x50118e[_0xe59927(0x28d)]-0x1])_0x4a1682=_0xf749ef-xScale['bandwidth']();if(_0x22a0a3!==undefined&&_0x4a1682!==undefined){const _0x475e7e=yScale(_0x5589e3['p1']),_0x35c92b=yScale(_0x5589e3['p2']),_0x58c67a=parseFloat(_0x5589e3[_0xe59927(0x261)])>=0x0?_0xe59927(0x1ec):_0xe59927(0x275);contentG[_0xe59927(0x2d4)]('rect')[_0xe59927(0x207)]('x',Math[_0xe59927(0x2f1)](_0x22a0a3,_0x4a1682))[_0xe59927(0x207)]('y',Math[_0xe59927(0x2f1)](_0x475e7e,_0x35c92b))['attr']('width',Math[_0xe59927(0x247)](_0x4a1682-_0x22a0a3)+xScale[_0xe59927(0x1db)]())['attr']('height',Math[_0xe59927(0x2e9)](0x2,Math[_0xe59927(0x247)](_0x35c92b-_0x475e7e)))[_0xe59927(0x207)]('fill',_0x58c67a)[_0xe59927(0x207)]('opacity',0.3);const _0x5192ac=overlayG[_0xe59927(0x2d4)]('g')[_0xe59927(0x207)]('transform','translate('+Math[_0xe59927(0x2f1)](_0x22a0a3,_0x4a1682)+',\x20'+(Math[_0xe59927(0x2f1)](_0x475e7e,_0x35c92b)-0xa)+')');_0x5192ac[_0xe59927(0x2d4)](_0xe59927(0x228))[_0xe59927(0x207)](_0xe59927(0x353),parseFloat(_0x5589e3[_0xe59927(0x261)])>=0x0?_0xe59927(0x1ec):_0xe59927(0x275))['attr']('font-size',_0xe59927(0x327))[_0xe59927(0x207)](_0xe59927(0x269),_0xe59927(0x355))[_0xe59927(0x228)](''+(parseFloat(_0x5589e3[_0xe59927(0x261)])>0x0?'+':'')+_0x5589e3[_0xe59927(0x261)]),_0x5192ac[_0xe59927(0x2d4)](_0xe59927(0x228))[_0xe59927(0x207)]('x',0x32)[_0xe59927(0x207)](_0xe59927(0x353),_0xe59927(0x275))[_0xe59927(0x207)]('cursor','pointer')['text'](_0xe59927(0x229))['on'](_0xe59927(0x274),()=>{const _0x40c074=_0xe59927;historyZones=historyZones[_0x40c074(0x30c)](_0x407e61=>_0x407e61['id']!==_0x5589e3['id']),localStorage['setItem']('tradeHistoryZones',JSON[_0x40c074(0x316)](historyZones)),update();});}});if(hStep===0x1&&mousePos&&hTemp){const _0x355d9f=findXByTime(hTemp['t1'],_0x50118e)||0x0,_0x210296=mousePos['x'],_0x1de596=yScale(hTemp['p1']),_0xc8d6fc=mousePos['y'];contentG[_0x55c992(0x2d4)](_0x55c992(0x2a5))[_0x55c992(0x207)]('x',Math[_0x55c992(0x2f1)](_0x355d9f,_0x210296))[_0x55c992(0x207)]('y',Math[_0x55c992(0x2f1)](_0x1de596,_0xc8d6fc))[_0x55c992(0x207)](_0x55c992(0x2a3),Math[_0x55c992(0x247)](_0x210296-_0x355d9f))['attr'](_0x55c992(0x2c2),Math[_0x55c992(0x2e9)](0x2,Math[_0x55c992(0x247)](y2-_0x1de596)))['attr'](_0x55c992(0x353),yScale['invert'](_0xc8d6fc)>hTemp['p1']?'#26a69a':_0x55c992(0x275))[_0x55c992(0x207)](_0x55c992(0x25a),0.4);}if(candles[_0x55c992(0x28d)]){const _0x1e1d47=candles[candles['length']-0x1],_0x39e16e=yScale(_0x1e1d47[_0x55c992(0x28a)]),_0x45e2d9=_0x1e1d47['close']>=_0x1e1d47[_0x55c992(0x2ed)]?_0x55c992(0x1ec):_0x55c992(0x275);contentG['append'](_0x55c992(0x23a))[_0x55c992(0x207)]('stroke',_0x45e2d9)[_0x55c992(0x207)](_0x55c992(0x32e),_0x55c992(0x235))[_0x55c992(0x207)]('x1',0x0)[_0x55c992(0x207)]('x2',_0xf749ef)[_0x55c992(0x207)]('y1',_0x39e16e)[_0x55c992(0x207)]('y2',_0x39e16e);const _0x5f2813=overlayG['append']('g')[_0x55c992(0x207)]('transform',_0x55c992(0x225)+_0xf749ef+',\x20'+(_0x39e16e-0x13)+')');_0x5f2813[_0x55c992(0x2d4)](_0x55c992(0x2a5))[_0x55c992(0x207)](_0x55c992(0x2a3),margin[_0x55c992(0x299)])[_0x55c992(0x207)](_0x55c992(0x2c2),0x26)[_0x55c992(0x207)](_0x55c992(0x353),_0x45e2d9)[_0x55c992(0x207)]('rx',0x3),_0x5f2813[_0x55c992(0x2d4)](_0x55c992(0x228))['attr']('class',_0x55c992(0x277))[_0x55c992(0x207)]('x',margin[_0x55c992(0x299)]/0x2)['attr']('y',0x10)[_0x55c992(0x207)](_0x55c992(0x1fa),_0x55c992(0x213))['text'](_0x1e1d47[_0x55c992(0x28a)]['toFixed'](_0x1e1d47[_0x55c992(0x28a)]<0x1?0x4:0x2)),_0x5f2813['append'](_0x55c992(0x228))[_0x55c992(0x207)]('class',_0x55c992(0x2d1))['attr']('x',margin[_0x55c992(0x299)]/0x2)[_0x55c992(0x207)]('y',0x20)[_0x55c992(0x207)](_0x55c992(0x1fa),_0x55c992(0x213))[_0x55c992(0x228)](getTimeLeft());}drawLevel(_0x55c992(0x22c),_0x55c992(0x205),(i18n[currentLang]||i18n['en'])[_0x55c992(0x304)][_0x55c992(0x1e4)]('\x20')[0x0][_0x55c992(0x1da)](),_0xf749ef,+document[_0x55c992(0x202)](_0x55c992(0x22c))[_0x55c992(0x2ac)]),drawLevel(_0x55c992(0x27a),_0x55c992(0x1ec),'TP',_0xf749ef,+document[_0x55c992(0x202)](_0x55c992(0x27a))[_0x55c992(0x2ac)]);confirmedStopLossValue!==null&&drawLevel('stopLoss','#ef5350','SL',_0xf749ef,confirmedStopLossValue);const _0x3d6b59=+document[_0x55c992(0x202)](_0x55c992(0x322))[_0x55c992(0x2e5)];if(_0x3d6b59>0x0){const _0xaf8e73=yScale(_0x3d6b59);_0xaf8e73>=0x0&&_0xaf8e73<=_0x1911f2&&contentG['append'](_0x55c992(0x23a))[_0x55c992(0x207)]('x1',0x0)[_0x55c992(0x207)]('x2',_0xf749ef)['attr']('y1',_0xaf8e73)[_0x55c992(0x207)]('y2',_0xaf8e73)[_0x55c992(0x207)](_0x55c992(0x222),_0x55c992(0x26c))['attr']('stroke-width',0x2)[_0x55c992(0x207)](_0x55c992(0x32e),_0x55c992(0x1f1));}document[_0x55c992(0x202)](_0x55c992(0x32a))[_0x55c992(0x2e5)]=historyZones[_0x55c992(0x317)]((_0x5b238b,_0x551560)=>_0x5b238b+(parseFloat(_0x551560[_0x55c992(0x261)])||0x0),0x0)[_0x55c992(0x224)](0x2),renderCrosshair(_0xf749ef,_0x1911f2);}function renderCrosshair(_0x4b4b99,_0x18943c){const _0x434fa2=_0x2615ae;crosshairG[_0x434fa2(0x292)]('*')[_0x434fa2(0x253)]();if(!mousePos)return;const {x:_0x47c606,y:_0x4bb479}=mousePos;if(_0x47c606<0x0||_0x47c606>_0x4b4b99||_0x4bb479<0x0||_0x4bb479>_0x18943c)return;crosshairG[_0x434fa2(0x2d4)]('line')['attr'](_0x434fa2(0x321),'crosshair-line')[_0x434fa2(0x207)]('x1',_0x47c606)[_0x434fa2(0x207)]('x2',_0x47c606)['attr']('y1',0x0)[_0x434fa2(0x207)]('y2',_0x18943c),crosshairG[_0x434fa2(0x2d4)](_0x434fa2(0x23a))[_0x434fa2(0x207)](_0x434fa2(0x321),_0x434fa2(0x1cd))[_0x434fa2(0x207)]('x1',0x0)['attr']('x2',_0x4b4b99)[_0x434fa2(0x207)]('y1',_0x4bb479)[_0x434fa2(0x207)]('y2',_0x4bb479);const _0x47fcaa=crosshairG[_0x434fa2(0x2d4)]('g')[_0x434fa2(0x207)](_0x434fa2(0x2f3),_0x434fa2(0x225)+_0x4b4b99+',\x20'+(_0x4bb479-0xd)+')'),_0x505221=yScale[_0x434fa2(0x306)](_0x4bb479);_0x47fcaa['append'](_0x434fa2(0x2a5))[_0x434fa2(0x207)]('class',_0x434fa2(0x345))['attr'](_0x434fa2(0x2a3),margin[_0x434fa2(0x299)])[_0x434fa2(0x207)](_0x434fa2(0x2c2),0x1a)[_0x434fa2(0x207)]('rx',0x3),_0x47fcaa[_0x434fa2(0x2d4)](_0x434fa2(0x228))[_0x434fa2(0x207)](_0x434fa2(0x321),_0x434fa2(0x248))[_0x434fa2(0x207)]('x',margin['right']/0x2)[_0x434fa2(0x207)]('y',0x11)[_0x434fa2(0x228)](_0x505221[_0x434fa2(0x224)](_0x505221<0x1?0x4:0x2));const _0x41b251=xScale[_0x434fa2(0x2b4)](),_0x225c7a=xScale[_0x434fa2(0x1f3)](),_0x48d228=Math[_0x434fa2(0x2b5)](_0x47c606/_0x225c7a),_0xce9f1f=_0x41b251[_0x48d228];if(_0xce9f1f){const _0x27a590=new Date(_0xce9f1f),_0x1acfdb=_0x27a590[_0x434fa2(0x298)]([],{'day':'2-digit','month':'2-digit'}),_0x32d049=_0x27a590[_0x434fa2(0x301)]([],{'hour':_0x434fa2(0x2f9),'minute':_0x434fa2(0x2f9)}),_0x2941b2=_0x1acfdb+'\x20'+_0x32d049,_0x34acfd=crosshairG[_0x434fa2(0x2d4)]('g')[_0x434fa2(0x207)](_0x434fa2(0x2f3),_0x434fa2(0x225)+(_0x47c606-0x2d)+',\x20'+_0x18943c+')');_0x34acfd[_0x434fa2(0x2d4)]('rect')[_0x434fa2(0x207)](_0x434fa2(0x321),_0x434fa2(0x345))['attr'](_0x434fa2(0x2a3),0x5a)[_0x434fa2(0x207)](_0x434fa2(0x2c2),0x1a)[_0x434fa2(0x207)]('rx',0x3),_0x34acfd[_0x434fa2(0x2d4)]('text')[_0x434fa2(0x207)](_0x434fa2(0x321),_0x434fa2(0x248))[_0x434fa2(0x207)]('x',0x2d)[_0x434fa2(0x207)]('y',0x11)[_0x434fa2(0x228)](_0x2941b2);}}function drawLevel(_0x5d0f1c,_0x42834d,_0xc69140,_0x179757,_0x3a68d7){const _0x26343b=_0x2615ae;if(!_0x3a68d7)return;const _0x1b8c4d=yScale(_0x3a68d7),_0x5c8c37=overlayG['append']('g');_0x5c8c37[_0x26343b(0x2d4)](_0x26343b(0x23a))[_0x26343b(0x207)]('x1',0x0)[_0x26343b(0x207)]('x2',_0x179757)['attr']('y1',_0x1b8c4d)[_0x26343b(0x207)]('y2',_0x1b8c4d)[_0x26343b(0x21e)]('stroke',_0x26343b(0x2db))['style'](_0x26343b(0x1f2),'20px')[_0x26343b(0x21e)](_0x26343b(0x291),'ns-resize')[_0x26343b(0x2de)](d3['drag']()['on']('drag',_0x107b12=>{const _0xef7f62=_0x26343b,[_0x3d0a4e,_0x4eb1e6]=d3[_0xef7f62(0x25c)](_0x107b12,mainG['node']()),_0x24e498=svg[_0xef7f62(0x2c7)]()[_0xef7f62(0x310)]()[_0xef7f62(0x2c2)]-margin[_0xef7f62(0x318)]-margin[_0xef7f62(0x2ab)],_0x55c798=yScale['invert'](Math[_0xef7f62(0x2e9)](0x0,Math[_0xef7f62(0x2f1)](_0x24e498,_0x4eb1e6))),_0x3de64e=_0x55c798[_0xef7f62(0x224)](_0x55c798<0x1?0x4:0x2);document[_0xef7f62(0x202)](_0x5d0f1c)[_0xef7f62(0x2ac)]=_0x3de64e;if(_0x5d0f1c===_0xef7f62(0x34b))confirmedStopLossValue=+_0x3de64e;calculateAll();})),_0x5c8c37[_0x26343b(0x2d4)](_0x26343b(0x23a))[_0x26343b(0x207)](_0x26343b(0x321),_0x26343b(0x1ee))[_0x26343b(0x207)]('x1',0x0)['attr']('x2',_0x179757)[_0x26343b(0x207)]('y1',_0x1b8c4d)[_0x26343b(0x207)]('y2',_0x1b8c4d)[_0x26343b(0x207)](_0x26343b(0x222),_0x42834d)[_0x26343b(0x21e)]('stroke-width',_0x26343b(0x1d9))['style'](_0x26343b(0x329),_0x26343b(0x1fc)),_0x5c8c37['append']('text')['attr'](_0x26343b(0x321),_0x26343b(0x320))[_0x26343b(0x207)]('x',_0x179757+0x5)[_0x26343b(0x207)]('y',_0x1b8c4d+0x4)[_0x26343b(0x207)]('fill',_0x42834d)['text'](_0xc69140);}svg['on'](_0x2615ae(0x274),_0x2148a8=>{const _0x1b637d=_0x2615ae,_0x586dea=svg[_0x1b637d(0x2c7)]()[_0x1b637d(0x310)](),_0x1d8562=_0x2148a8[_0x1b637d(0x22d)]-_0x586dea[_0x1b637d(0x1de)]-margin[_0x1b637d(0x1de)],_0x16de5a=_0x2148a8['clientY']-_0x586dea['top']-margin['top'];if(isSLMode){const _0xeab407=yScale[_0x1b637d(0x306)](_0x16de5a);if(slStep===0x0)document[_0x1b637d(0x202)](_0x1b637d(0x22c))[_0x1b637d(0x2ac)]=_0xeab407['toFixed'](_0xeab407<0x1?0x4:0x2),slStep=0x1;else slStep===0x1&&(document[_0x1b637d(0x202)](_0x1b637d(0x27a))[_0x1b637d(0x2ac)]=_0xeab407[_0x1b637d(0x224)](_0xeab407<0x1?0x4:0x2),toggleSLMode());calculateAll();}else{if(isHMode){const _0xf013c9=yScale[_0x1b637d(0x306)](_0x16de5a),_0x15baa0=xScale['domain'](),_0x5d63b6=Math[_0x1b637d(0x2b5)](_0x1d8562/xScale['step']()),_0x4adbfd=_0x15baa0[_0x5d63b6]||_0x15baa0[_0x15baa0[_0x1b637d(0x28d)]-0x1];if(hStep===0x0)hTemp={'t1':_0x4adbfd,'p1':_0xf013c9},hStep=0x1;else{const _0x3956ea=prompt((i18n[currentLang]||i18n['en'])['promptResult'],'0');_0x3956ea!==null&&(historyZones[_0x1b637d(0x1ea)]({'id':Date['now'](),'symbol':currentSymbol,'t1':hTemp['t1'],'p1':hTemp['p1'],'t2':_0x4adbfd,'p2':_0xf013c9,'val':_0x3956ea[_0x1b637d(0x2a7)](',','.')}),localStorage['setItem'](_0x1b637d(0x2d2),JSON[_0x1b637d(0x316)](historyZones))),hStep=0x0,hTemp=null,isHMode=![],hBtn['classList'][_0x1b637d(0x253)](_0x1b637d(0x2fc)),update();}}}}),svg['on'](_0x2615ae(0x2f4),_0x383469=>{const _0x3f68bc=_0x2615ae,_0x408f94=svg['node']()[_0x3f68bc(0x310)]();mousePos={'x':_0x383469[_0x3f68bc(0x22d)]-_0x408f94[_0x3f68bc(0x1de)]-margin['left'],'y':_0x383469['clientY']-_0x408f94[_0x3f68bc(0x318)]-margin[_0x3f68bc(0x318)]};if(isSLMode&&slStep===0x1){const _0x8f74cf=+document[_0x3f68bc(0x202)]('entryPrice')['value'],_0x590adc=yScale[_0x3f68bc(0x306)](mousePos['y']);if(_0x590adc>_0x8f74cf&&currentSide!==_0x3f68bc(0x239))setSide(_0x3f68bc(0x239));else{if(_0x590adc<_0x8f74cf&&currentSide!=='short')setSide(_0x3f68bc(0x29d));}document[_0x3f68bc(0x202)]('takeProfit')[_0x3f68bc(0x2ac)]=_0x590adc[_0x3f68bc(0x224)](_0x590adc<0x1?0x4:0x2),calculateAll();}else update();})['on']('mouseleave',()=>{const _0x2c519=_0x2615ae;mousePos=null,crosshairG[_0x2c519(0x292)]('*')['remove']();}),svg['on'](_0x2615ae(0x2b0),_0xa77394=>{const _0x90d816=_0x2615ae;!_0xa77394[_0x90d816(0x219)]['classList']['contains']('price-line')&&_0xa77394[_0x90d816(0x219)][_0x90d816(0x21e)][_0x90d816(0x222)]!==_0x90d816(0x2db)&&(isDragging=!![],lastMouse={'x':_0xa77394[_0x90d816(0x22d)],'y':_0xa77394['clientY']},svg[_0x90d816(0x2c8)](_0x90d816(0x211),!![]));});const handleMove=(_0x10b65a,_0x5d68b0,_0x53582c)=>{const _0x472751=_0x2615ae;if(!isDragging||isSLMode||isHMode)return;if(_0x53582c&&_0x53582c['length']===0x2){const _0x5863cf=Math[_0x472751(0x247)](_0x53582c[0x0]['clientX']-_0x53582c[0x1][_0x472751(0x22d)]);if(initialPinchDist===null)initialPinchDist=_0x5863cf;else{const _0x3fc4fc=initialPinchDist-_0x5863cf;Math[_0x472751(0x247)](_0x3fc4fc)>0x5&&(visibleCount=Math['max'](0x5,Math[_0x472751(0x2f1)](0x384,visibleCount+(_0x3fc4fc>0x0?0x2:-0x2))),initialPinchDist=_0x5863cf,update());}return;}if(isPriceScaling&&window[_0x472751(0x262)]<=0x300){const _0x45dfc3=_0x5d68b0-lastMouse['y'],_0x4bae12=yDomain[0x1]-yDomain[0x0],_0x324b2c=_0x45dfc3*0.005;yDomain=[yDomain[0x0]-_0x4bae12*_0x324b2c,yDomain[0x1]+_0x4bae12*_0x324b2c],lastMouse['y']=_0x5d68b0,update();return;}const _0x2e97e6=_0x10b65a-lastMouse['x'],_0x325962=_0x5d68b0-lastMouse['y'];Math[_0x472751(0x247)](_0x2e97e6)>1.5&&(scrollOffset=Math[_0x472751(0x2f1)](candles[_0x472751(0x28d)]-0x5,scrollOffset+Math[_0x472751(0x290)](_0x2e97e6/0x8)),lastMouse['x']=_0x10b65a);const _0x22de18=yScale[_0x472751(0x306)](0x0)-yScale['invert'](_0x325962);yDomain=[yDomain[0x0]+_0x22de18,yDomain[0x1]+_0x22de18],lastMouse['y']=_0x5d68b0,update();};window['addEventListener'](_0x2615ae(0x2f4),_0x34a02a=>handleMove(_0x34a02a[_0x2615ae(0x22d)],_0x34a02a['clientY'])),svg['on'](_0x2615ae(0x236),_0x28db69=>{const _0x344f9a=_0x2615ae,_0x43b716=_0x28db69[_0x344f9a(0x1fe)],_0x1ec646=svg[_0x344f9a(0x2c7)]()['getBoundingClientRect'](),_0x454373=_0x43b716[0x0][_0x344f9a(0x22d)]-_0x1ec646['left']-margin[_0x344f9a(0x1de)],_0x2b67a3=_0x1ec646[_0x344f9a(0x2a3)]-margin['left']-margin[_0x344f9a(0x299)];if(_0x28db69['target']['classList'][_0x344f9a(0x294)](_0x344f9a(0x1ee))||_0x28db69[_0x344f9a(0x219)]['style'][_0x344f9a(0x222)]===_0x344f9a(0x2db)){isDragging=![];return;}isDragging=!![],lastMouse={'x':_0x43b716[0x0]['clientX'],'y':_0x43b716[0x0][_0x344f9a(0x20f)]};if(_0x43b716[_0x344f9a(0x28d)]===0x2)initialPinchDist=Math[_0x344f9a(0x247)](_0x43b716[0x0][_0x344f9a(0x22d)]-_0x43b716[0x1][_0x344f9a(0x22d)]);else{if(window[_0x344f9a(0x262)]<=0x300&&_0x454373>_0x2b67a3)isPriceScaling=!![];else isPriceScaling=![];}}),window[_0x2615ae(0x356)](_0x2615ae(0x20d),_0x38159e=>{const _0x4f947b=_0x2615ae;if(isDragging||_0x38159e['touches'][_0x4f947b(0x28d)]===0x2)handleMove(_0x38159e[_0x4f947b(0x1fe)][0x0]['clientX'],_0x38159e['touches'][0x0]['clientY'],_0x38159e[_0x4f947b(0x1fe)]);},{'passive':![]}),window['addEventListener'](_0x2615ae(0x324),()=>{isDragging=![],isPriceScaling=![],initialPinchDist=null;}),window[_0x2615ae(0x356)](_0x2615ae(0x1ef),()=>{isDragging=![],isPriceScaling=![];}),svg['on'](_0x2615ae(0x34d),_0x55a310=>{const _0x341bfa=_0x2615ae;_0x55a310[_0x341bfa(0x218)]();const _0x488155=svg[_0x341bfa(0x2c7)]()[_0x341bfa(0x310)]();if(_0x55a310['clientX']-_0x488155[_0x341bfa(0x1de)]>_0x488155[_0x341bfa(0x2a3)]-margin[_0x341bfa(0x299)]){const _0x421d99=yDomain[0x1]-yDomain[0x0],_0x5f5754=_0x55a310[_0x341bfa(0x351)]*0.0008;yDomain=[yDomain[0x0]-_0x421d99*_0x5f5754,yDomain[0x1]+_0x421d99*_0x5f5754];}else visibleCount=Math['max'](0x5,Math[_0x341bfa(0x2f1)](0x384,visibleCount+(_0x55a310[_0x341bfa(0x351)]>0x0?0x5:-0x5)));update();}),initSymbols(),loadData(!![])[_0x2615ae(0x2ea)](()=>{applyLanguage(),calculateAll();}),setInterval(()=>loadData(![]),0xbb8);        
</script>
</body>
</html>