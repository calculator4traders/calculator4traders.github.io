<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Professional SVG Terminal - Risk Management</title>
    <link rel="icon" href="logo.png" type="image/png">
    <meta name="description" content="Professional SVG Terminal for crypto trading risk management. Calculate entry, take profit, stop loss and liquidation levels visually.">
    <meta name="keywords" content="trading, crypto, calculator, risk management, svg chart, binance, liquidation price">
    <meta name="author" content="c4t">

    <meta property="og:title" content="Calculator4Traders — Калькулятор для трейдеров">

    <meta property="og:description" content="Бесплатный инструмент для расчета рисков и размера позиции.">

    <meta property="og:image" content="https://calculator4traders.github.io/logo.png">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculator4traders.github.io/">


    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Professional SVG Terminal - Risk Management">
    <meta property="twitter:description" content="Visual trading calculator with real-time charts and liquidation price tracking.">
    <meta property="twitter:image" content="logo.png">

    <link rel="icon" type="image/png" href="logo.png">

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { background: #0f1a30; color: white; font-family: 'Trebuchet MS', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        .calculator { 
            width: 300px; background: #1e2b47; padding: 20px; z-index: 10; 
            border-right: 1px solid #3a4f7a; flex-shrink: 0; overflow-y: auto; 
        }
        .calculator::-webkit-scrollbar { width: 4px; display: block; }
        .calculator::-webkit-scrollbar-thumb { background: #3a4f7a; border-radius: 10px; }

        .commission-warning { color: #ff9800; font-size: 12px; margin-bottom: 15px; text-align: center; border: 1px solid #ff9800; padding: 5px; border-radius: 4px; }
        .input-group { margin-bottom: 8px; }
        label { display: block; margin-bottom: 8px; color: #b8c7e0; font-size: 18px; }
        .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; color: #b8c7e0; }
        .label-row span:first-child { font-size: 18px; }
        .input-wrapper { position: relative; display: flex; align-items: center; }
        input, select { width: 100%; padding: 8.5px; padding-right: 30px; background: #2a3c5f; border: 1px solid #3a4f7a; border-radius: 5px; color: white; font-size: 14px; box-sizing: border-box; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        input[type=number] { -moz-appearance: textfield; }
        .clear-input-btn { position: absolute; right: 10px; background: transparent; border: none; color: white; cursor: pointer; font-size: 16px; font-weight: bold; display: none; line-height: 1; }
        input:not(:placeholder-shown) + .clear-input-btn { display: block; }
        .result-value { font-size: 16px; font-weight: bold; color: #b8c7e0; }
        .side-selector { display: flex; gap: 10px; margin-top: 15px; margin-bottom: 15px; }
        .side-btn { flex: 1; padding: 12px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; opacity: 0.4; transition: 0.3s; font-size: 14px; }
        .side-btn.long { background: #26a69a; color: white; }
        .side-btn.short { background: #ef5350; color: white; }
        .side-btn.active { opacity: 1; box-shadow: 0 0 10px rgba(255,255,255,0.2); }
        hr { border: 0; border-top: 1px solid #3a4f7a; margin: 8px 0; }
        
        .chart-section { flex-grow: 1; position: relative; background: #131722; display: flex; flex-direction: column; }
        .tf-panel { background: #131722; padding: 10px 15px; display: flex; gap: 6px; border-bottom: 1px solid #2a2e39; flex-wrap: wrap; align-items: center; }
        .tf-btn { background: #1e222d; border: 1px solid #363c4e; color: #d1d4dc; cursor: pointer; padding: 5px 12px; font-size: 12px; border-radius: 4px; }
        .tf-btn.active { color: white; background: #2962ff; border-color: #2962ff; font-weight: bold; }
        .symbol-search { background: #1e222d; border: 1px solid #363c4e; color: #2962ff; padding: 5px 10px; font-size: 12px; border-radius: 4px; width: 110px; font-weight: bold; outline: none; }
        #svg-chart { width: 100%; flex-grow: 1; display: block; cursor: crosshair; touch-action: none; }
        .axis-text text { fill: #b8c7e0 !important; font-size: 16px !important; font-weight: 100 !important; user-select: none; }
        .grid-line { stroke: rgba(42, 46, 57, 0.6); }
        .axis-border { stroke: #363c4e; stroke-width: 1px; }
        .crosshair-line { stroke: #707d8b; stroke-width: 1; stroke-dasharray: 4,4; pointer-events: none; }
        .crosshair-label-bg { fill: #363c4e; } 
        .crosshair-label-text { fill: #b8c7e0; font-size: 13px; font-weight: bold; text-anchor: middle; }
        .price-label-main { fill: #b8c7e0; font-size: 16px; font-weight: 900; }
        .price-label-timer { fill: #ffffff; font-size: 12px; font-family: 'Courier New', monospace; font-weight: bold; }
        .price-line { stroke-width: 3px; cursor: ns-resize; }
        .line-label { font-size: 11px; font-weight: bold; pointer-events: none; }
        .h-sum-display { margin-left: 5px; margin-right: 5px; font-weight: bold; font-size: 14px; min-width: 30px; }
        .clear-h-btn { background: #363c4e; color: #ef5350; border: 1px solid #4a5266; cursor: pointer; padding: 2px 8px; font-size: 14px; border-radius: 4px; font-weight: bold; }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: #131722; width: 450px; border: 1px solid #363c4e; border-radius: 12px; position: relative; padding: 30px; box-sizing: border-box; text-align: center; }
        .close-modal { position: absolute; top: 15px; right: 20px; font-size: 24px; color: #ef5350; cursor: pointer; font-weight: bold; }
        
        .donate-container { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 10px; }
        .qr-wrapper { background: white; padding: 10px; border-radius: 8px; display: inline-block; }
        .crypto-selector { display: flex; gap: 8px; justify-content: center; margin-bottom: 5px; }
        .crypto-btn { background: #1e222d; border: 1px solid #363c4e; color: #b8c7e0; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .crypto-btn.active { border-color: #2962ff; color: white; background: #2962ff; }
        .address-display { font-family: monospace; font-size: 11px; color: #2962ff; background: #1e222d; padding: 10px; border-radius: 4px; word-break: break-all; cursor: pointer; border: 1px dashed #363c4e; }
        .address-display:active { background: #2962ff; color: white; }

        .instruction-text { color: #b8c7e0; font-size: 14px; line-height: 1.6; text-align: left; margin-bottom: 25px; background: rgba(41, 98, 255, 0.05); padding: 15px; border-radius: 8px; border: 1px solid #2a2e39; }
        .instruction-text b { color: #2962ff; }

        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (max-width: 768px) {
            body { display: flex; flex-direction: row; overflow-x: auto; scroll-snap-type: x mandatory; }
            .calculator, .chart-section { width: 100vw; min-width: 100vw; height: 100dvh; flex-shrink: 0; scroll-snap-align: start; }
            .calculator { padding: 10px 15px; overflow-y: auto; -webkit-overflow-scrolling: touch; box-sizing: border-box; }
            .tf-panel { flex-wrap: nowrap; overflow-x: auto; height: auto; min-height: 50px; }
            .modal-content { width: 90vw; padding: 20px; }
            #lang-selector { margin-left: 10px !important; }
        }
    </style>
</head>
<body>

<div id="info-modal" class="modal-overlay" onclick="if(event.target === this) toggleInfo(false)">
    <div class="modal-content">
        <span class="close-modal" onclick="toggleInfo(false)">✕</span>
        
        <div id="modal-start-view" style="display: flex; flex-direction: column; justify-content: flex-start; align-items: center;">
            <div class="instruction-text" id="modal-instruction">
                Калькулятор создан для удобства и визуализации сделок на графике. 
                Для открытия сделки нажмите кнопку <b>S/L</b>: первое нажатие на график создаст уровень входа, а второе — тейка. 
                Заполните поля: баланс, стоимость открытия и плечо. 
                Нажмите <b>OK</b> в окне баланс и получите расчет профита по тейку и уровень ликвидации на графике. 
                Уровни на графике можно перетаскивать(пока только в пк версии). 
                <br><br>
                <span style="color: #ff9800;">Помните что калькулятор не учитывает комиссии биржи!</span>
            </div>
            <button class="side-btn long active" id="btn-support-dev" style="opacity: 1; width: 100%; max-width: 280px;" onclick="showDonation()">Поддержать разработчика</button>
        </div>

        <div id="modal-donate-view" style="display: none;" class="fade-in">
            <div style="margin-bottom: 20px;">
                <svg width="60" height="60" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <rect width="100" height="100" rx="22" fill="black"/>
                    <text x="50" y="65" font-family="sans-serif" font-weight="900" font-size="42" fill="white" text-anchor="middle" style="letter-spacing: -2px;">c4t</text>
                </svg>
                <h3 style="margin: 10px 0 5px 0; color: white;">Support Terminal</h3>
            </div>

            <div class="crypto-selector">
                <button class="crypto-btn active" onclick="setCrypto('TRX')">USDT (TRC20)</button>
                <button class="crypto-btn" onclick="setCrypto('ETH')">ETH/ERC20</button>
                <button class="crypto-btn" onclick="setCrypto('XRP')">XRP</button>
            </div>

            <div class="donate-container">
                <div class="qr-wrapper" id="qrcode"></div>
                <div class="address-display" id="addr-text" title="Нажмите, чтобы скопировать">---</div>
                <small style="color: #b8c7e0; font-size: 10px;">Tap address to copy</small>
            </div>
        </div>
    </div>
</div>

<div class="calculator">
    <div class="commission-warning" id="lbl-comm-warn">калькулятор не учитывает комиссии биржи</div>
    <div class="input-group">
        <label id="lbl-entry">Вход (Цена актива)</label>
        <div class="input-wrapper">
            <input type="number" id="entryPrice" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-take">Тейк</label>
        <div class="input-wrapper">
            <input type="number" id="takeProfit" step="any" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="calculateAll()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-stop">Стоп</label>
        <div class="input-wrapper">
            <input type="number" id="stopLoss" step="any" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmStopLoss()">OK</button>
        </div>
    </div>
    <hr>
    <div class="input-group">
        <label id="lbl-balance">Баланс ($)</label>
        <div class="input-wrapper">
            <input type="number" id="balance" placeholder=" " oninput="handleBalanceInput()">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="confirmBalance()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-margin">Стоимость открытия ($)</label>
        <div class="input-wrapper">
            <input type="number" id="marginCost" placeholder=" " oninput="calculateAll()">
            <button class="clear-input-btn" onclick="clearAllPurchases()">✕</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-margin">Докупить ($)</label>
        <div class="input-wrapper">
            <input type="number" id="addMargin" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executeDCA()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-add-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="addPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('addPrice')">✕</button>
        </div>
    </div>
    <hr>
    <div class="input-group"><label id="lbl-lev">Плечо</label><input type="number" id="leverage" value="3" placeholder=" " oninput="calculateAll()"></div>
    
    <div class="input-group">
        <label id="lbl-partial-percent">Закрыть часть сделки %</label>
        <div class="input-wrapper">
            <input type="number" id="partialPercent" placeholder=" ">
            <button class="clear-input-btn" style="display:block; color:white;" onclick="executePartialClose()">OK</button>
        </div>
    </div>
    <div class="input-group">
        <label id="lbl-partial-price">По цене</label>
        <div class="input-wrapper">
            <input type="number" id="partialPrice" step="any" placeholder=" ">
            <button class="clear-input-btn" onclick="clearInput('partialPrice')">✕</button>
        </div>
    </div>
    <hr>

    <div class="side-selector">
        <button class="side-btn long active" id="btn-long" onclick="setSide('long')">LONG</button>
        <button class="side-btn short" id="btn-short" onclick="setSide('short')">SHORT</button>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-liq-text">Ликвидация</span><span id="liqPrice" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-profit">Профит по тейку ($)</span><span id="takeProfitValue" class="result-value">0.00</span></div>
    </div>
    <div class="input-group">
        <div class="label-row"><span id="lbl-loss">Потери по стопу ($)</span><span id="stopLossValue" class="result-value">0.00</span></div>
    </div>
</div>

<div class="chart-section">
    <div class="tf-panel" id="tf-panel"></div>
    <svg id="svg-chart"></svg>
</div>

<datalist id="symbolsList"></datalist>

<script>
    const _0x1da572=_0x38db;(function(_0x221d49,_0xa22ef4){const _0x1e5ede=_0x38db,_0x241515=_0x221d49();while(!![]){try{const _0x45261a=-parseInt(_0x1e5ede(0x1d9))/0x1+-parseInt(_0x1e5ede(0xdb))/0x2*(parseInt(_0x1e5ede(0x140))/0x3)+parseInt(_0x1e5ede(0x19f))/0x4*(-parseInt(_0x1e5ede(0xd7))/0x5)+-parseInt(_0x1e5ede(0x18c))/0x6*(-parseInt(_0x1e5ede(0x1c1))/0x7)+-parseInt(_0x1e5ede(0xe7))/0x8+-parseInt(_0x1e5ede(0x111))/0x9+parseInt(_0x1e5ede(0x170))/0xa;if(_0x45261a===_0xa22ef4)break;else _0x241515['push'](_0x241515['shift']());}catch(_0xd621ba){_0x241515['push'](_0x241515['shift']());}}}(_0xa887,0x87b7b),(function(){const _0x2d1ef4=_0x38db,_0x50d1e4='calculator4traders.github.io',_0x368460=window['location'][_0x2d1ef4(0x20d)]==='file:',_0xa79110=window[_0x2d1ef4(0x105)][_0x2d1ef4(0x160)]===_0x50d1e4;if(!_0x368460&&!_0xa79110){document[_0x2d1ef4(0x204)][_0x2d1ef4(0xf6)]=_0x2d1ef4(0xe3);throw new Error(_0x2d1ef4(0x1e9));}}()));const WALLETS={'TRX':_0x1da572(0x157),'ETH':_0x1da572(0x1b5),'XRP':_0x1da572(0xfe)};let qrGenerator=null;function toggleInfo(_0xab6cdc){const _0x432d49=_0x1da572;document[_0x432d49(0x1bf)](_0x432d49(0x1ed))[_0x432d49(0xd2)][_0x432d49(0x220)]=_0xab6cdc?'flex':'none',_0xab6cdc&&(document['getElementById'](_0x432d49(0x1ff))[_0x432d49(0xd2)][_0x432d49(0x220)]=_0x432d49(0x177),document[_0x432d49(0x1bf)]('modal-donate-view')['style']['display']=_0x432d49(0x16c));}function showDonation(){const _0x263098=_0x1da572;document['getElementById'](_0x263098(0x1ff))['style'][_0x263098(0x220)]=_0x263098(0x16c),document['getElementById']('modal-donate-view')[_0x263098(0xd2)][_0x263098(0x220)]=_0x263098(0x15e),setCrypto('TRX');}function setCrypto(_0x901ab3){const _0x2dae30=_0x1da572;document[_0x2dae30(0x1f3)]('.crypto-btn')[_0x2dae30(0xe5)](_0x4c4c90=>{const _0x27cb0a=_0x2dae30;_0x4c4c90[_0x27cb0a(0x194)][_0x27cb0a(0x1e7)](_0x27cb0a(0x1cc),_0x4c4c90[_0x27cb0a(0x209)][_0x27cb0a(0xb6)](_0x901ab3)||_0x901ab3===_0x27cb0a(0xff)&&_0x4c4c90['innerText'][_0x27cb0a(0xb6)]('USDT'));});const _0x42a204=WALLETS[_0x901ab3],_0x2451c8=document[_0x2dae30(0x1bf)](_0x2dae30(0x1d0)),_0x323e43=document[_0x2dae30(0x1bf)](_0x2dae30(0x1f5));_0x2451c8['innerHTML']='',_0x323e43[_0x2dae30(0x209)]=_0x42a204,new QRCode(_0x2451c8,{'text':_0x42a204,'width':0x96,'height':0x96,'colorDark':'#000000','colorLight':_0x2dae30(0x1b8),'correctLevel':QRCode[_0x2dae30(0x19c)]['H']}),_0x323e43['onclick']=()=>{const _0x47c97b=_0x2dae30;navigator[_0x47c97b(0x168)]['writeText'](_0x42a204);const _0x589c0a=_0x323e43[_0x47c97b(0x209)];_0x323e43[_0x47c97b(0x209)]=_0x47c97b(0x234),setTimeout(()=>{const _0x459e14=_0x47c97b;_0x323e43[_0x459e14(0x209)]=_0x589c0a;},0x3e8);};}const i18n={'ru':{'entry':_0x1da572(0xef),'take':_0x1da572(0x10f),'stop':'Стоп','balance':_0x1da572(0x1db),'margin':'Стоимость\x20открытия\x20($)','addMargin':'Докупить\x20($)','addPrice':_0x1da572(0x1d1),'lev':_0x1da572(0x164),'liq':_0x1da572(0x17a),'profit':_0x1da572(0x1a1),'loss':'Потери\x20по\x20стопу\x20($)','confirmClear':_0x1da572(0x1f9),'promptResult':_0x1da572(0x22d),'liqCross':_0x1da572(0xd5),'liqMargin':_0x1da572(0xba),'partialPercent':'Закрыть\x20часть\x20сделки\x20%','partialPrice':_0x1da572(0x1d1),'infoText':_0x1da572(0x11a),'donateBtn':_0x1da572(0x1e4),'warn':_0x1da572(0x22c)},'en':{'entry':_0x1da572(0xe6),'take':_0x1da572(0xdf),'stop':_0x1da572(0x1d7),'balance':'Balance\x20($)','margin':_0x1da572(0x104),'addMargin':'Add\x20Margin\x20($)','addPrice':_0x1da572(0x102),'lev':_0x1da572(0x150),'liq':_0x1da572(0x17f),'profit':'TP\x20Profit\x20($)','loss':_0x1da572(0x21c),'confirmClear':_0x1da572(0xea),'promptResult':_0x1da572(0x1da),'liqCross':_0x1da572(0xce),'liqMargin':_0x1da572(0x1e6),'partialPercent':_0x1da572(0x1b4),'partialPrice':_0x1da572(0x102),'infoText':'The\x20calculator\x20is\x20designed\x20for\x20convenience\x20and\x20visualizing\x20trades\x20on\x20the\x20chart.\x20To\x20open\x20a\x20trade,\x20press\x20<b>S/L</b>:\x20the\x20first\x20click\x20sets\x20entry,\x20the\x20second\x20sets\x20take\x20profit.\x20Fill\x20in:\x20balance,\x20margin\x20cost,\x20and\x20leverage.\x20Press\x20<b>OK</b>\x20in\x20the\x20balance\x20field\x20to\x20see\x20TP\x20profit\x20and\x20liquidation\x20level.\x20You\x20can\x20drag\x20levels\x20on\x20the\x20chart.\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Remember,\x20the\x20calculator\x20does\x20not\x20account\x20for\x20exchange\x20fees!</span>','donateBtn':_0x1da572(0x17d),'warn':_0x1da572(0x108)},'zh':{'entry':_0x1da572(0x11c),'take':'止盈','stop':'止损','balance':_0x1da572(0x1a0),'margin':_0x1da572(0x195),'addMargin':'加仓\x20($)','addPrice':_0x1da572(0xeb),'lev':'杠杆','liq':'强平价格','profit':'预计盈利\x20($)','loss':'预计亏损\x20($)','confirmClear':_0x1da572(0x158),'promptResult':_0x1da572(0x109),'liqCross':_0x1da572(0x14d),'liqMargin':'强平\x20(逐仓)','partialPercent':_0x1da572(0xd0),'partialPrice':_0x1da572(0x20f),'infoText':_0x1da572(0x1b3),'donateBtn':'支持开发者','warn':_0x1da572(0x149)},'hi':{'entry':_0x1da572(0xde),'take':_0x1da572(0x10b),'stop':_0x1da572(0x1e2),'balance':_0x1da572(0x233),'margin':_0x1da572(0x203),'addMargin':_0x1da572(0xc5),'addPrice':_0x1da572(0x159),'lev':_0x1da572(0x21e),'liq':_0x1da572(0xed),'profit':_0x1da572(0x1f8),'loss':'एसएल\x20हानि\x20($)','confirmClear':_0x1da572(0x192),'promptResult':'व्यापार\x20परिणाम\x20दर्ज\x20करें:','liqCross':'लिक्विडेशन\x20(Cross)','liqMargin':'लिक्विडेशन\x20(Margin)','partialPercent':_0x1da572(0x22f),'partialPrice':_0x1da572(0x159),'infoText':_0x1da572(0x1ea),'donateBtn':_0x1da572(0x1c5),'warn':'कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20नहीं\x20जोड़ता\x20है'},'es':{'entry':'Precio\x20de\x20Entrada','take':_0x1da572(0xdf),'stop':'Stop\x20Loss','balance':'Saldo\x20($)','margin':'Costo\x20de\x20Margen\x20($)','addMargin':_0x1da572(0x156),'addPrice':'Al\x20Precio','lev':_0x1da572(0xfb),'liq':_0x1da572(0xe9),'profit':_0x1da572(0x186),'loss':'Pérdida\x20SL\x20($)','confirmClear':_0x1da572(0x12f),'promptResult':_0x1da572(0x1c6),'liqCross':_0x1da572(0x20a),'liqMargin':_0x1da572(0x189),'partialPercent':'Cierre\x20Parcial\x20%','partialPrice':_0x1da572(0x1c2),'infoText':_0x1da572(0x1a6),'donateBtn':'Apoyar\x20al\x20desarrollador','warn':_0x1da572(0x142)},'fr':{'entry':_0x1da572(0xcc),'take':_0x1da572(0xdf),'stop':_0x1da572(0x1d7),'balance':'Solde\x20($)','margin':_0x1da572(0x15c),'addMargin':'Ajouter\x20Marge\x20($)','addPrice':'Au\x20Prix','lev':_0x1da572(0x127),'liq':_0x1da572(0x17f),'profit':_0x1da572(0x175),'loss':_0x1da572(0x15f),'confirmClear':'Supprimer\x20toutes\x20les\x20zones\x20?','promptResult':'Résultat\x20du\x20trade:','liqCross':_0x1da572(0xce),'liqMargin':_0x1da572(0x189),'partialPercent':_0x1da572(0x16b),'partialPrice':'Au\x20Prix','infoText':_0x1da572(0x213),'donateBtn':_0x1da572(0x208),'warn':'ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais'},'ar':{'entry':'سعر\x20الدخول','take':_0x1da572(0xe0),'stop':_0x1da572(0xfa),'balance':_0x1da572(0x134),'margin':_0x1da572(0x227),'addMargin':_0x1da572(0x101),'addPrice':_0x1da572(0x1be),'lev':'الرافعة\x20المالية','liq':'التصفية','profit':_0x1da572(0x173),'loss':_0x1da572(0x16e),'confirmClear':_0x1da572(0x148),'promptResult':_0x1da572(0x210),'liqCross':_0x1da572(0x13c),'liqMargin':_0x1da572(0x1a4),'partialPercent':_0x1da572(0x212),'partialPrice':'عند\x20السعر','infoText':'تمออกแบบมาเพื่อการจำลองเทรด\x20กด\x20<b>S/L</b>:\x20คลิกแรกคือทางเข้า\x20คลิกสองคือ\x20TP\x20กรอกยอดเงินและเลเวอเรจเพื่อดูจุดเลิกกิจการ\x20ลากเส้นบนกราфได้<br><br><span\x20style=\x27color:\x20#ff9800;\x27>โปรดทราบว่า\x20неรวมค่าธรรมเนียม!</span>','donateBtn':_0x1da572(0x1e0),'warn':_0x1da572(0x237)},'bn':{'entry':_0x1da572(0x20b),'take':_0x1da572(0x184),'stop':_0x1da572(0x145),'balance':_0x1da572(0x133),'margin':_0x1da572(0x146),'addMargin':_0x1da572(0x1a9),'addPrice':'মূল্য\x20নির্ধারণ','lev':'লিভারেজ','liq':_0x1da572(0xfd),'profit':_0x1da572(0x12b),'loss':_0x1da572(0x11b),'confirmClear':_0x1da572(0x171),'promptResult':'ট্রেড\x20রেজাল্ট\x20লিখুন:','liqCross':_0x1da572(0x196),'liqMargin':_0x1da572(0xe4),'partialPercent':'আংশিক\x20বন্ধ\x20%','partialPrice':_0x1da572(0x17b),'infoText':_0x1da572(0x152),'donateBtn':_0x1da572(0xda),'warn':_0x1da572(0x169)},'pt':{'entry':_0x1da572(0xfc),'take':_0x1da572(0xdf),'stop':_0x1da572(0x1d7),'balance':_0x1da572(0x20e),'margin':_0x1da572(0x107),'addMargin':'Adicionar\x20Margem\x20($)','addPrice':_0x1da572(0x1cb),'lev':_0x1da572(0x15d),'liq':_0x1da572(0x226),'profit':_0x1da572(0x13d),'loss':_0x1da572(0x18e),'confirmClear':_0x1da572(0xcb),'promptResult':_0x1da572(0x207),'liqCross':_0x1da572(0x16a),'liqMargin':'Liquidação\x20(Margin)','partialPercent':_0x1da572(0x1b0),'partialPrice':_0x1da572(0x1cb),'infoText':_0x1da572(0x129),'donateBtn':_0x1da572(0x1cd),'warn':'a\x20calculadora\x20não\x20incluye\x20taxas'},'ja':{'entry':_0x1da572(0x139),'take':'利確','stop':'損切','balance':'残高\x20($)','margin':_0x1da572(0xc3),'addMargin':_0x1da572(0x14c),'addPrice':_0x1da572(0x206),'lev':'レバレッジ','liq':'ロスカット価格','profit':'予定利益\x20($)','loss':_0x1da572(0x187),'confirmClear':'すべてのゾーンを削除しますか？','promptResult':_0x1da572(0x1eb),'liqCross':_0x1da572(0x10c),'liqMargin':'清算\x20(分離)','partialPercent':_0x1da572(0x18a),'partialPrice':_0x1da572(0x206),'infoText':_0x1da572(0x19d),'donateBtn':'開発者を支援する','warn':_0x1da572(0xf4)}};let currentLang=localStorage[_0x1da572(0x12c)](_0x1da572(0x10d))||'ru',candles=[],currentTF=_0x1da572(0x1ee),currentSide=_0x1da572(0x1b2),currentSymbol=_0x1da572(0x1a8),symbolSettings=JSON[_0x1da572(0x1f7)](localStorage[_0x1da572(0x12c)](_0x1da572(0x1ad)))||{},historyZones=JSON[_0x1da572(0x1f7)](localStorage[_0x1da572(0x12c)]('tradeHistoryZones'))||[],dcaLines=[],closeLines=[],isHMode=![],hStep=0x0,hTemp=null,activeTradeStartTime=null,confirmedBalanceBase=null,confirmedStopLossValue=null,isDcaOrderActive=![],isPartialOrderActive=![],isSLMode=![],margin={'top':0x14,'right':window[_0x1da572(0x236)]<=0x300?0x3c:0x6e,'bottom':0x28,'left':0xa},yScale=d3[_0x1da572(0x13e)](),xScale=d3['scaleBand'](),mousePos=null,slStep=0x0;const svg=d3[_0x1da572(0x116)]('#svg-chart'),defs=svg[_0x1da572(0x1b1)]('defs');defs['append']('clipPath')[_0x1da572(0xc7)]('id',_0x1da572(0xf9))['append'](_0x1da572(0xee))[_0x1da572(0xc7)]('x',0x0)[_0x1da572(0xc7)]('y',0x0);const mainG=svg[_0x1da572(0x1b1)]('g')[_0x1da572(0xc7)](_0x1da572(0x100),'translate('+margin[_0x1da572(0xb7)]+','+margin['top']+')'),contentG=mainG['append']('g')[_0x1da572(0xc7)](_0x1da572(0x1f4),_0x1da572(0x230)),overlayG=mainG[_0x1da572(0x1b1)]('g'),crosshairG=svg['append']('g')['attr']('transform',_0x1da572(0x1d5)+margin[_0x1da572(0xb7)]+','+margin[_0x1da572(0x178)]+')');let yDomain=[0x0,0x0],visibleCount=0x50,scrollOffset=0x0,isDragging=![],lastMouse={'x':0x0,'y':0x0},isPriceScaling=![],initialPinchDist=null;const tfMap={'1s':0x1,'1m':0x3c,'5m':0x12c,'15m':0x384,'1h':0xe10,'4h':0x3840,'1d':0x15180,'1w':0x93a80,'1M':0x278d00,'1y':0x1e13380},timeframes=['1s','1m','5m','15m','1h','4h','1d','1w','1M','1y'],tfPanel=document[_0x1da572(0x1bf)](_0x1da572(0x17e));timeframes[_0x1da572(0xe5)](_0x5475c2=>{const _0x435168=_0x1da572,_0x36ec39=document[_0x435168(0xf3)](_0x435168(0xb9));_0x36ec39[_0x435168(0x199)]=_0x435168(0xc9)+(_0x5475c2===currentTF?_0x435168(0x1cc):''),_0x36ec39[_0x435168(0x209)]=_0x5475c2,_0x36ec39[_0x435168(0x153)]=()=>{const _0x9b4006=_0x435168;currentTF=_0x5475c2,document['querySelectorAll'](_0x9b4006(0x221))[_0x9b4006(0xe5)](_0x30ee3d=>_0x30ee3d['classList']['remove'](_0x9b4006(0x1cc))),_0x36ec39['classList'][_0x9b4006(0xbc)](_0x9b4006(0x1cc)),loadData(!![]);},tfPanel[_0x435168(0x1e1)](_0x36ec39);});const slBtn=document['createElement'](_0x1da572(0xb9));slBtn[_0x1da572(0x199)]=_0x1da572(0x1c4),slBtn[_0x1da572(0x209)]=_0x1da572(0x21f),slBtn[_0x1da572(0x153)]=toggleSLMode,tfPanel['appendChild'](slBtn);const symbolInput=document[_0x1da572(0xf3)](_0x1da572(0x19e));symbolInput['className']=_0x1da572(0x185),symbolInput[_0x1da572(0x1c8)](_0x1da572(0x20c),'symbolsList'),symbolInput['value']=currentSymbol,symbolInput['onfocus']=function(){const _0x9b5705=_0x1da572;this[_0x9b5705(0x1af)]='';},symbolInput[_0x1da572(0x21d)]=function(){const _0x224fba=_0x1da572;if(this[_0x224fba(0x1af)]==='')this[_0x224fba(0x1af)]=currentSymbol;},symbolInput[_0x1da572(0x188)]=_0x19536e=>{const _0x41ef4b=_0x1da572,_0x539397=_0x19536e['target']['value'][_0x41ef4b(0xec)]();if(_0x539397){currentSymbol=_0x539397;const _0x2dd639=symbolSettings[currentSymbol]||{};document[_0x41ef4b(0x1bf)]('entryPrice')[_0x41ef4b(0x1af)]=_0x2dd639[_0x41ef4b(0x155)]||'',document[_0x41ef4b(0x1bf)](_0x41ef4b(0x19a))[_0x41ef4b(0x1af)]=_0x2dd639['tp']||'',document[_0x41ef4b(0x1bf)]('stopLoss')['value']=_0x2dd639['sl']||'',confirmedStopLossValue=_0x2dd639['sl']||null,document[_0x41ef4b(0x1bf)](_0x41ef4b(0x162))['value']=_0x2dd639[_0x41ef4b(0x1c7)]||'',document[_0x41ef4b(0x1bf)](_0x41ef4b(0x1bd))[_0x41ef4b(0x1af)]=_0x2dd639[_0x41ef4b(0x1bd)]||'3',closeLines=_0x2dd639[_0x41ef4b(0xe2)]||[];if(_0x2dd639[_0x41ef4b(0x1fd)])setSide(_0x2dd639['side']);loadData(!![])[_0x41ef4b(0x124)](()=>calculateAll());}},tfPanel[_0x1da572(0x1e1)](symbolInput);const hBtn=document[_0x1da572(0xf3)](_0x1da572(0xb9));hBtn[_0x1da572(0x199)]='tf-btn',hBtn[_0x1da572(0x209)]='H',hBtn[_0x1da572(0x153)]=()=>{const _0x4d7c01=_0x1da572;isHMode=!isHMode,hStep=0x0,hBtn['classList'][_0x4d7c01(0x1e7)](_0x4d7c01(0x1cc),isHMode);if(isHMode&&isSLMode)toggleSLMode();},tfPanel[_0x1da572(0x1e1)](hBtn);const sumDisplay=document['createElement']('div');sumDisplay[_0x1da572(0x199)]=_0x1da572(0x215),sumDisplay['id']=_0x1da572(0x1c3),sumDisplay[_0x1da572(0x209)]='0',tfPanel[_0x1da572(0x1e1)](sumDisplay);const clearHBtn=document[_0x1da572(0xf3)](_0x1da572(0xb9));function _0xa887(){const _0xe8aca8=['tf-panel','Liquidation','slice','filter','stroke-width','&interval=','টেক\x20প্রফিট','symbol-search','Ganancia\x20TP\x20($)','予定損失\x20($)','onchange','Liquidación\x20(Margin)','部分利確\x20%','ceil','12JSDHKs','toLocaleTimeString','Perda\x20SL\x20($)','target',':focus','العربية','क्या\x20आप\x20सभी\x20क्षेत्रों\x20को\x20हटाना\x20चाहते\x20हैं?','tickFormat','classList','开仓成本\x20($)','লিকুইডেশন\x20(Cross)','step','tradeHistoryZones','className','takeProfit','auto','CorrectLevel','チャート上で取引を可視化します。<b>S/L</b>を押し,\x201回目のクリックでエントリー,\x202回目で利確を設定。残高、証拠金、レバレッジを入力し、<b>OK</b>を押すと利益と清算ラインが表示されます。ラインはドラッグ可能です。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>取引所の手数料は考慮されません。</span>','input','12jaHarB','余额\x20($)','Профит\x20по\x20тейку\x20($)','symbolsList','text','تصفية\x20(Margin)','touchmove','Calculadora\x20para\x20visualizar\x20operaciones.\x20Pulsa\x20<b>S/L</b>:\x20primer\x20clic\x20entrada,\x20segundo\x20clic\x20TP.\x20Rellena\x20saldo,\x20margen\x20y\x20apalancamiento.\x20Pulsa\x20<b>OK</b>\x20en\x20saldo\x20para\x20ver\x20beneficios\x20y\x20liquidación.\x20Puedes\x20arrastrar\x20los\x20niveles\x20en\x20el\x20gráfico.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>¡Recuerde\x20que\x20no\x20incluye\x20comisiones!</span>','pointer','BTCUSDT','মার্জিন\x20যোগ\x20করুন\x20($)','open','opacity','clientX','terminalSettings','confirmClear','value','Fechar\x20Parte\x20%','append','long','该计算器旨在方便用户在图表上可视化交易。点击\x20<b>S/L</b>：第一次点击设置入场，第二次点击设置止盈。填写余额、开仓成本和杠杆。点击余额栏의\x20<b>OK</b>\x20查看盈利和强平线。您可以拖动图表上的线条。<br><br><span\x20style=\x27color:\x20#ff9800;\x27>请记住，计算器未计入交易所手续费！</span>','Close\x20Part\x20%','0x9096cB9D2b34149d39D1b591C3D1544c0A4902F4','reduce','node','#ffffff','selectAll','price-line','marginLeft','mousedown','leverage','عند\x20السعر','getElementById','lbl-partial-price','1114323fXDzSn','Al\x20Precio','h-total-sum','tf-btn\x20sl-mode-btn','डेवलपर\x20का\x20समर्थन\x20करें','Resultado\x20de\x20la\x20operación:','margin','setAttribute','stringify','clear-h-btn','Ao\x20Preço','active','Apoiar\x20desenvolvedor','font-size','bold','qrcode','По\x20цене','stopLoss','infoText','val','translate(','বাংলা','Stop\x20Loss','remove','230906OfvoZi','Enter\x20trade\x20result:','Баланс\x20($)','donateBtn','bandwidth','2px','Português','دعم\x20المطور','appendChild','स्टॉप\x20लॉस','min','Поддержать\x20разработчика','option','Liquidation\x20(Margin)','toggle','Русский','Access\x20denied:\x20invalid\x20domain','कैलकुलेटर\x20चार्ट\x20पर\x20ट्रेडों\x20की\x20कल्पना\x20करने\x20के\x20लिए\x20बनाया\x20गया\x20है।\x20<b>S/L</b>\x20दबाएं:\x20पहला\x20क्लिक\x20एंट्री,\x20दूसरा\x20टीपी\x20सेट\x20करता\x20है।\x20बैलेंस,\x20मार्जिन\x20और\x20लीवरेज\x20भरें।\x20टीपी\x20प्रॉफिट\x20и\x20लิก्विडेशन\x20देखने\x20के\x20लिए\x20बैलेंस\x20में\x20<b>OK</b>\x20दबाएं।\x20आप\x20चार्ट\x20पर\x20स्तरों\x20को\x20खींच\x20सकते\x20हैं।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>याद\x20रखें,\x20कैलकुलेटर\x20एक्सचेंज\x20फीस\x20को\x20नहीं\x20जोड़ता\x20है!</span>','取引結果を入力:','profit','info-modal','15m','line','axis-border','touches','quoteAsset','querySelectorAll','clip-path','addr-text','lang-selector','parse','टीपी\x20लाभ\x20($)','Вы\x20точно\x20хотите\x20удалить\x20ВСЕ\x20тени?','lbl-liq-text','call','English','side','lbl-lev','modal-start-view','axisBottom','3,3','00:00','মাজিন\x20लागत\x20($)','body','tickPadding','価格指定','Resultado\x20da\x20operação:','Soutenir\x20le\x20développeur','innerText','Liquidación\x20(Cross)','এন্ট্রি\x20প্রাইস','list','protocol','Saldo\x20($)','平仓价格','أدخل\x20نتيجة\x20الصفقة:','#26a69a','إغلاق\x20جزئي\x20%','Calculatrice\x20pour\x20visualiser\x20les\x20trades.\x20Appuyez\x20sur\x20<b>S/L</b>\x20:\x201er\x20clic\x20entrée,\x202e\x20clic\x20TP.\x20Remplissez\x20solde,\x20marge\x20et\x20levier.\x20Cliquez\x20sur\x20<b>OK</b>\x20pour\x20voir\x20le\x20profit\x20et\x20la\x20liquidation.\x20Les\x20niveaux\x20sont\x20деплаçables.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>Attention,\x20ne\x20prend\x20pas\x20en\x20compte\x20les\x20frais\x20!</span>','20px','h-sum-display','replace','fill','#chart-clip\x20rect','lbl-entry','lbl-take',',\x200)','SL\x20Loss\x20($)','onblur','लीवरेज','S/L','display','.tf-btn','middle','domain','stroke','btn-support-dev','Liquidação','التكلفة\x20($)','map','right','promptResult','class','калькулятор\x20не\x20учитывает\x20комиссии\x20биржи','Введите\x20результат\x20сделки:','lbl-add-price','हिसा\x20बंद\x20करें\x20%','url(#chart-clip)','\x20[x]','Info','बैलेंस\x20($)','COPIED!','length','innerWidth','الحاسبة\x20لا\x20تحتسب\x20رسوم\x20المنصة','includes','left','now','button','Ликвидация\x20(Margin)','TRADING','add','grid-line','USDT','lbl-balance','text-anchor','lbl-add-margin','push','証拠金\x20($)','.domain','মাজিন\x20जोड़ें\x20($)','addMargin','attr','take','tf-btn\x20','crosshair-line','Limpar\x20todas\x20as\x20zonas?','Prix\x20d\x27Entrée','crosshair-label-text','Liquidation\x20(Cross)','toLocaleDateString','部分平仓\x20%','5,5','style','&limit=1000','split','Ликвидация\x20(Cross)','low','732455ljRMkt','axis-text','touchend','ডেভেলপারকে\x20সমর্থন\x20করুন','38RzycuC','loss','translate(0,\x20','प्रवेश\x20मूल्य','Take\x20Profit','جني\x20الأرباح','high','closeLines','<div\x20style=\x22display:flex;justify-content:center;align-items:center;height:100vh;background:#0f1a30;color:white;font-family:sans-serif;\x22>Access\x20Denied</div>','লিকুইডেশন\x20(Margin)','forEach','Entry\x20Price','7505176UdlEkz','ns-resize','Liquidación','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20ALL\x20zones?','加仓价格','toUpperCase','लिक्विडेशन','rect','Вход\x20(Цена\x20актива)','floor','liqMargin','tickSize','createElement','取引所の手数料は考慮されません','2-digit','innerHTML','balance','lbl-profit','chart-clip','وقف\x20الخсارة','Apalancamiento','Preço\x20de\x20Entrada','লিকুইডেশন','rP8werJEtkhbXBHhB4HpkfLtgVuE35rg81','TRX','transform','إضافة\x20هامش\x20($)','At\x20Price','#2962ff','Margin\x20Cost\x20($)','location','bottom','Custo\x20de\x20Margен\x20($)','calculator\x20does\x20not\x20account\x20for\x20fees','输入交易结果:','btn-short','मुनाफा','清算\x20(クロス)','lang','getBoundingClientRect','Тейк','width','8510679SOaplM','padStart','drag','addEventListener','invert','select','click','liqCross','stopLossValue','Калькулятор\x20создан\x20для\x20удобства\x20и\x20визуализации\x20сделок\x20на\x20графике.\x20Для\x20открытия\x20сделки\x20нажмите\x20кнопку\x20<b>S/L</b>:\x20первое\x20нажатие\x20на\x20график\x20создаст\x20уровень\x20входа,\x20а\x20второе\x20—\x20тейка.\x20Заполните\x20поля:\x20баланс,\x20стоимость\x20открытия\x20и\x20плечо.\x20Нажмите\x20<b>OK</b>\x20в\x20окне\x20баланс\x20и\x20получите\x20расчет\x20профита\x20по\x20тейку\x20и\x20уровень\x20ликвидации\x20на\x20графике.\x20Уровни\x20на\x20графике\x20можно\x20перетаскивать(пока\x20только\x20в\x20пк\x20версии).\x20<br><br>\x20<span\x20style=\x27color:\x20#ff9800;\x27>Помните\x20что\x20калькулятор\x20не\x20учитывает\x20комиссии\x20биржи!</span>','এসএল\x20ক্ষতি\x20($)','入场价格','https://api.binance.com/api/v3/klines?symbol=','#ef5350','clientY','height','https://api.binance.com/api/v3/exchangeInfo','wheel','classed','then','range','liqPrice','Levier','stop','Calculadora\x20para\x20visualizar\x20negociações.\x20Pressione\x20<b>S/L</b>:\x201º\x20clique\x20entrada,\x202º\x20clique\x20TP.\x20Preencha\x20saldo,\x20margem\x20e\x20alavancagem.\x20Pressione\x20<b>OK</b>\x20para\x20ver\x20lucro\x20e\x20liquidação.\x20Níveis\x20arrastáveis.<br><br><span\x20style=\x27color:\x20#ff9800;\x27>A\x20calculadora\x20не\x20incluye\x20taxas\x20da\x20exchange!</span>','stroke-dasharray','টিপি\x20লাভ\x20($)','getItem','pointer-events','entryPrice','¿Seguro\x20que\x20quieres\x20borrar\x20todas\x20las\x20zonas?','close','partialPercent','error','ব্যালেন্স\x20($)','الرصيد\x20($)','modal-instruction','matches','font-weight','toFixed','エントリー価格','price','symbols','تصفية\x20(Cross)','Lucro\x20TP\x20($)','scaleLinear','4,4','34002bEMeiq','lbl-stop','la\x20calculadora\x20no\x20incluye\x20comisiones','symbol','addPrice','স্টপ\x20লস','মার্জিন\x20খরচ\x20($)','setItem','هل\x20أنت\x20متأكد\x20من\x20مسح\x20جميع\x20المناطق؟','计算器不考虑交易所手续费','btn-long','time','追加入金\x20($)','强平\x20(全仓)','touchstart','max','Leverage','data','ট্রেড\x20ভিজ্যুয়ালাইজ\x20করার\x20জন্য\x20ক্যালকুলেটর।\x20<b>S/L</b>\x20চাপুন:\x20১ম\x20ক্লিকে\x20এন্ট্রি,\x20২য়\x20ক্লিকে\x20TP\x20সেট\x20হবে।\x20ব্যালেন্স,\x20মার্জিন\x20এবং\x20লিভারেজ\x20পূরণ\x20করুন।\x20প্রফিট\x20দেখতে\x20ব্যালেন্সে\x20<b>OK</b>\x20চাপুন।\x20লেভেলগুলো\x20ড্র্যাগ\x20করা\x20যায়।<br><br><span\x20style=\x27color:\x20#ff9800;\x27>মনে\x20রাখবেন,\x20এটি\x20এক্সচেঞ্জ\x20ফি\x20গণনা\x20করে\x20না!</span>','onclick','हिन्दी','entry','Añadir\x20Margen\x20($)','TW8wa1QRMdJuwVgwnjA6wCRAMxE5UXHT5M','确定要删除所有区域吗？','कीमत\x20पर','json','line-label','Marge\x20($)','Alavancagem','block','Perte\x20SL\x20($)','hostname','mousemove','marginCost','short','Плечо','lev','padding','round','clipboard','এটি\x20এক্সচেঞ্জ\x20ফি\x20গণনা\x20করে\x20না','Liquidação\x20(Cross)','Fermeture\x20Partielle\x20%','none','abs','خسارة\x20SL\x20($)','transparent','30070240cocNdP','আপনি\x20কি\x20সব\x20জোন\x20মুছতে\x20চান?','14px','ربح\x20TP\x20($)','contains','Profit\x20TP\x20($)','partialPrice','flex','top','cursor','Ликвидация','মূল্য\x20নির্ধারণ','0.00','Support\x20Developer'];_0xa887=function(){return _0xe8aca8;};return _0xa887();}clearHBtn[_0x1da572(0x199)]=_0x1da572(0x1ca),clearHBtn['innerText']='✖',clearHBtn[_0x1da572(0x153)]=()=>{const _0x3d485b=_0x1da572;confirm(i18n[currentLang][_0x3d485b(0x1ae)])&&(historyZones=[],localStorage['setItem'](_0x3d485b(0x198),JSON[_0x3d485b(0x1c9)](historyZones)),update());},tfPanel[_0x1da572(0x1e1)](clearHBtn);const infoBtn=document[_0x1da572(0xf3)](_0x1da572(0xb9));infoBtn['className']='tf-btn\x20info-btn',infoBtn[_0x1da572(0x209)]=_0x1da572(0x232),infoBtn[_0x1da572(0x153)]=()=>toggleInfo(!![]),tfPanel[_0x1da572(0x1e1)](infoBtn);const langSelector=document[_0x1da572(0xf3)](_0x1da572(0x116));langSelector['id']=_0x1da572(0x1f6),langSelector['className']=_0x1da572(0x185),langSelector[_0x1da572(0xd2)][_0x1da572(0x110)]='130px',langSelector[_0x1da572(0xd2)][_0x1da572(0x1bb)]=_0x1da572(0x19b);const popularLanguages=[{'c':'ru','n':_0x1da572(0x1e8)},{'c':'en','n':_0x1da572(0x1fc)},{'c':'zh','n':'简体中文'},{'c':'hi','n':_0x1da572(0x154)},{'c':'es','n':'Español'},{'c':'fr','n':'Français'},{'c':'ar','n':_0x1da572(0x191)},{'c':'bn','n':_0x1da572(0x1d6)},{'c':'pt','n':_0x1da572(0x1df)},{'c':'ja','n':'日本語'}];popularLanguages[_0x1da572(0xe5)](_0x3a6ea7=>{const _0x4fab24=_0x1da572,_0x233f66=document[_0x4fab24(0xf3)]('option');_0x233f66[_0x4fab24(0x1af)]=_0x3a6ea7['c'],_0x233f66[_0x4fab24(0x209)]=_0x3a6ea7['n'];if(_0x3a6ea7['c']===currentLang)_0x233f66['selected']=!![];langSelector[_0x4fab24(0x1e1)](_0x233f66);}),langSelector[_0x1da572(0x188)]=_0x4155e0=>{const _0x58de6=_0x1da572;currentLang=_0x4155e0[_0x58de6(0x18f)][_0x58de6(0x1af)],localStorage[_0x58de6(0x147)](_0x58de6(0x10d),currentLang),applyLanguage();},tfPanel[_0x1da572(0x1e1)](langSelector);function applyLanguage(){const _0x5a73d7=_0x1da572,_0x49fa81=i18n[currentLang]||i18n['en'];document[_0x5a73d7(0x1bf)](_0x5a73d7(0x219))['innerText']=_0x49fa81[_0x5a73d7(0x155)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x21a))['innerText']=_0x49fa81[_0x5a73d7(0xc8)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x141))[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0x128)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0xbf))['innerText']=_0x49fa81[_0x5a73d7(0xf7)],document[_0x5a73d7(0x1bf)]('lbl-margin')['innerText']=_0x49fa81[_0x5a73d7(0x1c7)],document['getElementById'](_0x5a73d7(0xc1))[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0xc6)],document['getElementById'](_0x5a73d7(0x22e))['innerText']=_0x49fa81[_0x5a73d7(0x144)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x1fe))[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0x165)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0xf8))['innerText']=_0x49fa81[_0x5a73d7(0x1ec)],document[_0x5a73d7(0x1bf)]('lbl-loss')[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0xdc)],document[_0x5a73d7(0x1bf)]('lbl-liq-text')['innerText']=_0x49fa81['liq'],document[_0x5a73d7(0x1bf)]('lbl-partial-percent')[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0x131)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x1c0))[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0x176)],document[_0x5a73d7(0x1bf)]('lbl-comm-warn')[_0x5a73d7(0x209)]=_0x49fa81['warn'],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x135))[_0x5a73d7(0xf6)]=_0x49fa81[_0x5a73d7(0x1d3)],document[_0x5a73d7(0x1bf)](_0x5a73d7(0x225))[_0x5a73d7(0x209)]=_0x49fa81[_0x5a73d7(0x1dc)],calculateAll();}async function initSymbols(){const _0x562e8c=_0x1da572;try{const _0xa2b3f4=await fetch(_0x562e8c(0x121)),_0x1f1ed3=await _0xa2b3f4['json']();let _0x33defb=_0x1f1ed3[_0x562e8c(0x13b)][_0x562e8c(0x181)](_0xf6b9c9=>_0xf6b9c9['status']===_0x562e8c(0xbb)&&_0xf6b9c9[_0x562e8c(0x1f2)]===_0x562e8c(0xbe))[_0x562e8c(0x228)](_0x5e3002=>_0x5e3002[_0x562e8c(0x143)]);const _0x3adfb=[_0x562e8c(0x1a8),'ETHUSDT',..._0x33defb[_0x562e8c(0x181)](_0x50d0f0=>!['BTCUSDT','ETHUSDT']['includes'](_0x50d0f0))],_0x2b09f8=document[_0x562e8c(0x1bf)](_0x562e8c(0x1a2));_0x2b09f8[_0x562e8c(0xf6)]='',_0x3adfb[_0x562e8c(0xe5)](_0x451be8=>{const _0x7d37d1=_0x562e8c,_0x407156=document[_0x7d37d1(0xf3)](_0x7d37d1(0x1e5));_0x407156[_0x7d37d1(0x1af)]=_0x451be8,_0x2b09f8[_0x7d37d1(0x1e1)](_0x407156);});}catch(_0x5f4dcd){console[_0x562e8c(0x132)](_0x5f4dcd);}}function toggleSLMode(){const _0x33965f=_0x1da572;isSLMode=!isSLMode,slStep=0x0,isSLMode&&(document['getElementById']('entryPrice')[_0x33965f(0x1af)]='',document[_0x33965f(0x1bf)](_0x33965f(0x19a))[_0x33965f(0x1af)]='',document[_0x33965f(0x1bf)]('stopLoss')[_0x33965f(0x1af)]='',confirmedStopLossValue=null,activeTradeStartTime=null,dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],calculateAll()),slBtn[_0x33965f(0x194)][_0x33965f(0x1e7)](_0x33965f(0x1cc),isSLMode),svg['style'](_0x33965f(0x179),isSLMode?'crosshair':'default'),isSLMode&&isHMode&&(isHMode=![],hBtn[_0x33965f(0x194)][_0x33965f(0x1d8)]('active'));}function setSide(_0xc9f6be){const _0x5e9074=_0x1da572;currentSide=_0xc9f6be,document['getElementById'](_0x5e9074(0x14a))[_0x5e9074(0x194)]['toggle'](_0x5e9074(0x1cc),_0xc9f6be==='long'),document[_0x5e9074(0x1bf)](_0x5e9074(0x10a))[_0x5e9074(0x194)]['toggle'](_0x5e9074(0x1cc),_0xc9f6be===_0x5e9074(0x163)),calculateAll();}function handleBalanceInput(){confirmedBalanceBase=null;}function confirmBalance(){const _0xc2571c=_0x1da572,_0x47e650=+document[_0xc2571c(0x1bf)](_0xc2571c(0xf7))[_0xc2571c(0x1af)];confirmedBalanceBase=_0x47e650,calculateAll();}function confirmStopLoss(){const _0x380338=_0x1da572,_0x4d6a10=document[_0x380338(0x1bf)](_0x380338(0x1d2))[_0x380338(0x1af)];confirmedStopLossValue=_0x4d6a10?+_0x4d6a10:null,calculateAll();}function executeDCA(){const _0x4414bf=_0x1da572,_0x18babd=+document[_0x4414bf(0x1bf)](_0x4414bf(0xc6))[_0x4414bf(0x1af)],_0x1ad44c=+document[_0x4414bf(0x1bf)](_0x4414bf(0x144))[_0x4414bf(0x1af)];_0x18babd&&_0x1ad44c&&performDCAExecution();}function executePartialClose(){const _0x3008cb=_0x1da572,_0xc7ecfb=+document[_0x3008cb(0x1bf)](_0x3008cb(0x131))['value'],_0x3694cc=+document[_0x3008cb(0x1bf)](_0x3008cb(0x176))['value'];_0xc7ecfb>0x0&&_0x3694cc&&performPartialCloseExecution();}function performDCAExecution(){const _0x901184=_0x1da572,_0x52ea83=+document[_0x901184(0x1bf)](_0x901184(0x12e))[_0x901184(0x1af)],_0x280bff=+document[_0x901184(0x1bf)](_0x901184(0x162))['value'],_0x4c476b=+document['getElementById'](_0x901184(0xc6))[_0x901184(0x1af)],_0x28b294=+document[_0x901184(0x1bf)](_0x901184(0x144))[_0x901184(0x1af)];if(_0x52ea83&&_0x280bff&&_0x4c476b&&_0x28b294){const _0xa0cf1d=(_0x280bff*_0x52ea83+_0x4c476b*_0x28b294)/(_0x280bff+_0x4c476b),_0x5663ad=_0x280bff+_0x4c476b;document[_0x901184(0x1bf)](_0x901184(0x12e))[_0x901184(0x1af)]=_0xa0cf1d[_0x901184(0x138)](_0xa0cf1d<0x1?0x4:0x2),document[_0x901184(0x1bf)](_0x901184(0x162))['value']=_0x5663ad[_0x901184(0x138)](0x2),dcaLines['push'](_0x28b294),document[_0x901184(0x1bf)](_0x901184(0xc6))[_0x901184(0x1af)]='',document[_0x901184(0x1bf)]('addPrice')[_0x901184(0x1af)]='',isDcaOrderActive=![],calculateAll();}}function performPartialCloseExecution(){const _0x28ef50=_0x1da572,_0x5ac4b5=+document['getElementById'](_0x28ef50(0x12e))[_0x28ef50(0x1af)],_0x15594b=+document[_0x28ef50(0x1bf)](_0x28ef50(0x162))[_0x28ef50(0x1af)],_0x32ee69=+document[_0x28ef50(0x1bf)](_0x28ef50(0x131))['value'],_0x49b0a4=+document[_0x28ef50(0x1bf)](_0x28ef50(0x176))[_0x28ef50(0x1af)],_0x51ce7b=+document['getElementById'](_0x28ef50(0x1bd))[_0x28ef50(0x1af)],_0x590437=document[_0x28ef50(0x1bf)](_0x28ef50(0xf7));if(_0x5ac4b5&&_0x15594b&&_0x32ee69>0x0&&_0x49b0a4&&candles[_0x28ef50(0x235)]>0x0){const _0x15e853=_0x15594b*_0x51ce7b,_0xb89968=(currentSide===_0x28ef50(0x1b2)?(_0x49b0a4-_0x5ac4b5)/_0x5ac4b5:(_0x5ac4b5-_0x49b0a4)/_0x5ac4b5)*_0x15e853,_0x303a86=_0xb89968*(_0x32ee69/0x64),_0x576753=candles[candles[_0x28ef50(0x235)]-0x1][_0x28ef50(0x14b)];historyZones[_0x28ef50(0xc2)]({'id':Date[_0x28ef50(0xb8)](),'symbol':currentSymbol,'t1':activeTradeStartTime||_0x576753,'p1':_0x5ac4b5,'t2':_0x576753,'p2':_0x49b0a4,'val':_0x303a86[_0x28ef50(0x138)](0x2)}),localStorage['setItem'](_0x28ef50(0x198),JSON[_0x28ef50(0x1c9)](historyZones));const _0x2b7525=_0x15594b*(_0x32ee69/0x64),_0x117825=_0x15594b-_0x2b7525;document['getElementById'](_0x28ef50(0x162))[_0x28ef50(0x1af)]=_0x117825[_0x28ef50(0x138)](0x2);if(confirmedBalanceBase!==null)confirmedBalanceBase+=_0x303a86,_0x590437[_0x28ef50(0x1af)]=confirmedBalanceBase[_0x28ef50(0x138)](0x2);else _0x590437[_0x28ef50(0x1af)]&&(_0x590437[_0x28ef50(0x1af)]=(+_0x590437[_0x28ef50(0x1af)]+_0x303a86)['toFixed'](0x2));closeLines['push']({'price':_0x49b0a4,'profit':_0x303a86}),document[_0x28ef50(0x1bf)]('partialPercent')[_0x28ef50(0x1af)]='',document[_0x28ef50(0x1bf)](_0x28ef50(0x176))['value']='',isPartialOrderActive=![],calculateAll();}}function calculateAll(){const _0x2b5705=_0x1da572,_0x5d3bcd=document[_0x2b5705(0x1bf)](_0x2b5705(0x12e))['value'],_0x383b7f=document[_0x2b5705(0x1bf)](_0x2b5705(0xf7)),_0x2ef93f=document[_0x2b5705(0x1bf)](_0x2b5705(0x162))[_0x2b5705(0x1af)],_0x166d6c=document['getElementById']('leverage')[_0x2b5705(0x1af)],_0x1c7658=document['getElementById'](_0x2b5705(0x19a))[_0x2b5705(0x1af)],_0x1fda18=confirmedStopLossValue,_0x4eb0c8=candles[_0x2b5705(0x235)]?candles[candles[_0x2b5705(0x235)]-0x1]['close']:0x0;currentSymbol&&(symbolSettings[currentSymbol]={'entry':_0x5d3bcd,'tp':_0x1c7658,'sl':confirmedStopLossValue,'margin':_0x2ef93f,'leverage':_0x166d6c,'side':currentSide,'closeLines':closeLines},localStorage[_0x2b5705(0x147)]('terminalSettings',JSON[_0x2b5705(0x1c9)](symbolSettings)));if(_0x5d3bcd&&_0x1c7658&&!activeTradeStartTime&&candles['length']>0x0){if(mousePos){const _0x13f8ea=xScale[_0x2b5705(0x223)](),_0x3ed57a=Math[_0x2b5705(0xf0)](mousePos['x']/xScale[_0x2b5705(0x197)]()),_0x2f4629=_0x13f8ea[_0x3ed57a];activeTradeStartTime=_0x2f4629||candles[candles[_0x2b5705(0x235)]-0x1][_0x2b5705(0x14b)];}else activeTradeStartTime=candles[candles[_0x2b5705(0x235)]-0x1]['time'];}(!_0x5d3bcd||!_0x1c7658)&&(activeTradeStartTime=null,confirmedBalanceBase=null);if(confirmedBalanceBase!==null&&_0x5d3bcd&&_0x2ef93f&&_0x4eb0c8){const _0x3d39d4=+_0x5d3bcd,_0x57f37a=+_0x2ef93f,_0x4247e7=+_0x166d6c,_0x531097=_0x57f37a*_0x4247e7,_0x4a0d44=(currentSide===_0x2b5705(0x1b2)?(_0x4eb0c8-_0x3d39d4)/_0x3d39d4:(_0x3d39d4-_0x4eb0c8)/_0x3d39d4)*_0x531097;_0x383b7f['value']=(confirmedBalanceBase+_0x4a0d44)[_0x2b5705(0x138)](0x2);}if(!_0x5d3bcd||!_0x2ef93f||!_0x166d6c){document[_0x2b5705(0x1bf)](_0x2b5705(0x126))[_0x2b5705(0x209)]=_0x2b5705(0x17c),document[_0x2b5705(0x1bf)]('takeProfitValue')['innerText']=_0x2b5705(0x17c),document['getElementById'](_0x2b5705(0x119))['innerText']=_0x2b5705(0x17c),update();return;}const _0x28b744=+_0x5d3bcd,_0x51b22a=+_0x383b7f['value']||0x0,_0x148f28=+_0x2ef93f,_0x5a1bb1=+_0x166d6c,_0x54cd92=+_0x1c7658||0x0,_0x50c3ab=_0x148f28*_0x5a1bb1;let _0x2bbd0e=currentSide===_0x2b5705(0x1b2)?_0x28b744*(0x1-(_0x51b22a>0x0?_0x51b22a/_0x50c3ab:0x1/_0x5a1bb1)):_0x28b744*(0x1+(_0x51b22a>0x0?_0x51b22a/_0x50c3ab:0x1/_0x5a1bb1));const _0x3b8bb8=i18n[currentLang]||i18n['en'];document[_0x2b5705(0x1bf)](_0x2b5705(0x1fa))[_0x2b5705(0x209)]=_0x51b22a>0x0?_0x3b8bb8[_0x2b5705(0x118)]:_0x3b8bb8[_0x2b5705(0xf1)],document['getElementById'](_0x2b5705(0x126))['innerText']=Math[_0x2b5705(0x14f)](0x0,_0x2bbd0e)[_0x2b5705(0x138)](0x2),document[_0x2b5705(0x1bf)]('takeProfitValue')[_0x2b5705(0x209)]=_0x54cd92>0x0?((currentSide===_0x2b5705(0x1b2)?(_0x54cd92-_0x28b744)/_0x28b744:(_0x28b744-_0x54cd92)/_0x28b744)*_0x50c3ab)['toFixed'](0x2):'0.00',document['getElementById'](_0x2b5705(0x119))[_0x2b5705(0x209)]=_0x1fda18>0x0?((currentSide===_0x2b5705(0x1b2)?(_0x1fda18-_0x28b744)/_0x28b744:(_0x28b744-_0x1fda18)/_0x28b744)*_0x50c3ab)[_0x2b5705(0x138)](0x2):_0x2b5705(0x17c),update();}function clearInput(_0x3da2b2){const _0x3c1c7b=_0x1da572,_0x436c0e=document['getElementById'](_0x3da2b2);_0x436c0e[_0x3c1c7b(0x1af)]='';if(_0x3da2b2===_0x3c1c7b(0x144))isDcaOrderActive=![];if(_0x3da2b2===_0x3c1c7b(0x176))isPartialOrderActive=![];if(_0x3da2b2==='stopLoss')confirmedStopLossValue=null;if(currentSymbol&&symbolSettings[currentSymbol]){const _0x1bb87c={'entryPrice':'entry','takeProfit':'tp','stopLoss':'sl','marginCost':_0x3c1c7b(0x1c7)};if(_0x1bb87c[_0x3da2b2])symbolSettings[currentSymbol][_0x1bb87c[_0x3da2b2]]='';localStorage[_0x3c1c7b(0x147)](_0x3c1c7b(0x1ad),JSON[_0x3c1c7b(0x1c9)](symbolSettings));}calculateAll();}function clearAllPurchases(){const _0x37ce53=_0x1da572;dcaLines=[],closeLines=[],isDcaOrderActive=![],isPartialOrderActive=![],document[_0x37ce53(0x1bf)](_0x37ce53(0x162))[_0x37ce53(0x1af)]='',document[_0x37ce53(0x1bf)](_0x37ce53(0x12e))['value']='',currentSymbol&&symbolSettings[currentSymbol]&&(symbolSettings[currentSymbol]['margin']='',symbolSettings[currentSymbol][_0x37ce53(0x155)]='',symbolSettings[currentSymbol][_0x37ce53(0xe2)]=[],localStorage[_0x37ce53(0x147)]('terminalSettings',JSON[_0x37ce53(0x1c9)](symbolSettings))),calculateAll();}function getTimeLeft(){const _0x4f83ec=_0x1da572;if(!candles[_0x4f83ec(0x235)])return'';const _0x14ff40=tfMap[currentTF]===0x1e13380?0x278d00:tfMap[currentTF],_0x43f9c0=candles[candles['length']-0x1]['time']+_0x14ff40*0x3e8,_0x39f5a8=_0x43f9c0-Date[_0x4f83ec(0xb8)]();if(_0x39f5a8<=0x0)return _0x4f83ec(0x202);const _0x1fe7ee=Math[_0x4f83ec(0xf0)](_0x39f5a8/0x36ee80),_0x2b0618=Math[_0x4f83ec(0xf0)](_0x39f5a8%0x36ee80/0xea60),_0x93dde=Math[_0x4f83ec(0xf0)](_0x39f5a8%0xea60/0x3e8);return _0x1fe7ee>0x0?_0x1fe7ee+':'+String(_0x2b0618)['padStart'](0x2,'0')+':'+String(_0x93dde)[_0x4f83ec(0x112)](0x2,'0'):String(_0x2b0618)[_0x4f83ec(0x112)](0x2,'0')+':'+String(_0x93dde)[_0x4f83ec(0x112)](0x2,'0');}function checkAutoTriggers(_0x453419){const _0x39237d=_0x1da572;if(isSLMode)return;const _0x3d2dbb=+document['getElementById']('entryPrice')['value'],_0x53d309=+document[_0x39237d(0x1bf)](_0x39237d(0x19a))[_0x39237d(0x1af)],_0x5de90b=confirmedStopLossValue,_0x354c60=+document[_0x39237d(0x1bf)](_0x39237d(0x144))[_0x39237d(0x1af)],_0x57b140=+document[_0x39237d(0x1bf)]('partialPrice')[_0x39237d(0x1af)];if(!_0x3d2dbb||!_0x53d309)return;isDcaOrderActive&&_0x354c60&&(currentSide==='long'&&_0x453419<=_0x354c60||currentSide===_0x39237d(0x163)&&_0x453419>=_0x354c60)&&performDCAExecution();isPartialOrderActive&&_0x57b140&&(currentSide===_0x39237d(0x1b2)&&_0x453419>=_0x57b140||currentSide==='short'&&_0x453419<=_0x57b140)&&performPartialCloseExecution();const _0x30bf8a=currentSide==='long'&&_0x453419>=_0x53d309||currentSide===_0x39237d(0x163)&&_0x453419<=_0x53d309,_0x16f9b1=_0x5de90b&&(currentSide==='long'&&_0x453419<=_0x5de90b||currentSide===_0x39237d(0x163)&&_0x453419>=_0x5de90b);if(_0x30bf8a||_0x16f9b1){const _0x327065=+document[_0x39237d(0x1bf)](_0x39237d(0x162))[_0x39237d(0x1af)],_0x3fd624=+document[_0x39237d(0x1bf)](_0x39237d(0x1bd))['value'],_0x21c21b=_0x327065*_0x3fd624,_0x29c1d9=document[_0x39237d(0x1bf)]('balance'),_0x15b363=(currentSide===_0x39237d(0x1b2)?(_0x453419-_0x3d2dbb)/_0x3d2dbb:(_0x3d2dbb-_0x453419)/_0x3d2dbb)*_0x21c21b;historyZones['push']({'id':Date[_0x39237d(0xb8)](),'symbol':currentSymbol,'t1':activeTradeStartTime,'p1':_0x3d2dbb,'t2':candles[candles[_0x39237d(0x235)]-0x1][_0x39237d(0x14b)],'p2':_0x453419,'val':_0x15b363[_0x39237d(0x138)](0x2)}),localStorage[_0x39237d(0x147)](_0x39237d(0x198),JSON['stringify'](historyZones));const _0x558247=(confirmedBalanceBase!==null?confirmedBalanceBase:+_0x29c1d9[_0x39237d(0x1af)])+_0x15b363;_0x29c1d9[_0x39237d(0x1af)]=_0x558247[_0x39237d(0x138)](0x2),confirmedBalanceBase=_0x558247,clearInput(_0x39237d(0x12e)),clearInput('takeProfit'),clearInput(_0x39237d(0x1d2)),clearInput(_0x39237d(0x162)),dcaLines=[],closeLines=[],activeTradeStartTime=null,confirmedStopLossValue=null,calculateAll();}}async function loadData(_0x40df96=![]){const _0x4c93c5=_0x1da572;try{let _0x40ce76=currentTF==='1y'?'1M':currentTF;const _0x245ced=await fetch(_0x4c93c5(0x11d)+currentSymbol+_0x4c93c5(0x183)+_0x40ce76+_0x4c93c5(0xd3)),_0x53d2cc=await _0x245ced[_0x4c93c5(0x15a)]();candles=_0x53d2cc[_0x4c93c5(0x228)](_0x495ecb=>({'time':_0x495ecb[0x0],'open':+_0x495ecb[0x1],'high':+_0x495ecb[0x2],'low':+_0x495ecb[0x3],'close':+_0x495ecb[0x4]}));if(candles[_0x4c93c5(0x235)]>0x0){const _0x149463=candles[candles[_0x4c93c5(0x235)]-0x1]['close'],_0xbf8ca0=document[_0x4c93c5(0x1bf)]('addPrice'),_0x3f5698=document['getElementById'](_0x4c93c5(0x176));!isDcaOrderActive&&!_0xbf8ca0[_0x4c93c5(0x136)](':focus')&&(_0xbf8ca0['value']=_0x149463[_0x4c93c5(0x138)](_0x149463<0x1?0x4:0x2)),!isPartialOrderActive&&!_0x3f5698[_0x4c93c5(0x136)](_0x4c93c5(0x190))&&(_0x3f5698[_0x4c93c5(0x1af)]=_0x149463[_0x4c93c5(0x138)](_0x149463<0x1?0x4:0x2)),checkAutoTriggers(_0x149463);}if(_0x40df96){scrollOffset=0x0;const _0x1e52d9=candles[_0x4c93c5(0x180)](-visibleCount);yDomain=[d3[_0x4c93c5(0x1e3)](_0x1e52d9,_0x4147e1=>_0x4147e1[_0x4c93c5(0xd6)])*0.99,d3[_0x4c93c5(0x14f)](_0x1e52d9,_0xe27b97=>_0xe27b97[_0x4c93c5(0xe1)])*1.01];}update(),calculateAll();}catch(_0x597069){console[_0x4c93c5(0x132)](_0x597069);}}function findXByTime(_0x1434f8,_0x4097b6){const _0x56604b=xScale(_0x1434f8);if(_0x56604b!==undefined)return _0x56604b;for(let _0x20561c=0x0;_0x20561c<_0x4097b6['length'];_0x20561c++){const _0x362536=_0x4097b6[_0x20561c],_0x102d39=_0x4097b6[_0x20561c+0x1]||_0x362536+tfMap[currentTF]*0x3e8;if(_0x1434f8>=_0x362536&&_0x1434f8<_0x102d39)return xScale(_0x362536);}return undefined;}function update(){const _0x7d5c0f=_0x1da572,_0x557101=svg['node']()[_0x7d5c0f(0x10e)]();if(_0x557101[_0x7d5c0f(0x110)]===0x0)return;const _0x400da1=_0x557101[_0x7d5c0f(0x110)]-margin[_0x7d5c0f(0xb7)]-margin[_0x7d5c0f(0x229)],_0x53563d=_0x557101[_0x7d5c0f(0x120)]-margin[_0x7d5c0f(0x178)]-margin[_0x7d5c0f(0x106)];d3[_0x7d5c0f(0x116)](_0x7d5c0f(0x218))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x110),_0x400da1)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x120),_0x53563d),yScale[_0x7d5c0f(0x223)](yDomain)['range']([_0x53563d,0x0]);const _0x566294=candles[_0x7d5c0f(0x235)]-visibleCount-scrollOffset,_0x415680=candles[_0x7d5c0f(0x180)](Math['max'](0x0,_0x566294),Math[_0x7d5c0f(0x14f)](0x0,candles['length']-scrollOffset)),_0x1a83ed=tfMap[currentTF]*0x3e8,_0x5c0baf=[];if(candles[_0x7d5c0f(0x235)]>0x0){for(let _0x411049=0x0;_0x411049<visibleCount;_0x411049++)_0x5c0baf[_0x7d5c0f(0xc2)](candles[0x0][_0x7d5c0f(0x14b)]+(_0x566294+_0x411049)*(candles[_0x7d5c0f(0x235)]>0x1?candles[0x1]['time']-candles[0x0][_0x7d5c0f(0x14b)]:_0x1a83ed));}xScale[_0x7d5c0f(0x223)](_0x5c0baf)[_0x7d5c0f(0x125)]([0x0,_0x400da1])[_0x7d5c0f(0x166)](0.2),contentG['selectAll']('*')[_0x7d5c0f(0x1d8)](),overlayG[_0x7d5c0f(0x1b9)]('*')['remove'](),contentG[_0x7d5c0f(0x1b1)]('g')[_0x7d5c0f(0xc7)](_0x7d5c0f(0x100),_0x7d5c0f(0x1d5)+_0x400da1+_0x7d5c0f(0x21b))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),'axis-text')[_0x7d5c0f(0x1fb)](d3['axisRight'](yScale)['tickSize'](-_0x400da1)['tickPadding'](0xa))[_0x7d5c0f(0x1fb)](_0x530748=>_0x530748[_0x7d5c0f(0x116)](_0x7d5c0f(0xc4))[_0x7d5c0f(0x1d8)]())[_0x7d5c0f(0x1b9)](_0x7d5c0f(0x1ef))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),_0x7d5c0f(0xbd)),overlayG[_0x7d5c0f(0x1b1)]('g')['attr'](_0x7d5c0f(0x100),_0x7d5c0f(0x1d5)+_0x400da1+_0x7d5c0f(0x21b))['attr']('class','axis-text')[_0x7d5c0f(0x1fb)](d3['axisRight'](yScale)[_0x7d5c0f(0xf2)](0x0)['tickPadding'](0xa))[_0x7d5c0f(0x1fb)](_0xfa72af=>_0xfa72af[_0x7d5c0f(0x116)](_0x7d5c0f(0xc4))[_0x7d5c0f(0x1d8)]()),overlayG['append']('g')['attr'](_0x7d5c0f(0x100),_0x7d5c0f(0xdd)+_0x53563d+')')[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),_0x7d5c0f(0xd8))[_0x7d5c0f(0x1fb)](d3[_0x7d5c0f(0x200)](xScale)['tickValues'](xScale['domain']()['filter']((_0x55a929,_0x457dd1)=>_0x457dd1%Math[_0x7d5c0f(0x18b)](visibleCount/0x8)===0x0))[_0x7d5c0f(0x193)](_0x163768=>{const _0xff1e2a=_0x7d5c0f,_0x4d4a5b=new Date(_0x163768);return['1y','1M']['includes'](currentTF)?_0x4d4a5b[_0xff1e2a(0xcf)]([],{'month':_0xff1e2a(0x163),'year':'2-digit'}):_0x4d4a5b[_0xff1e2a(0x18d)]([],{'hour':_0xff1e2a(0xf5),'minute':_0xff1e2a(0xf5)});})[_0x7d5c0f(0xf2)](0x0)[_0x7d5c0f(0x205)](0xc))[_0x7d5c0f(0x1fb)](_0x106019=>_0x106019[_0x7d5c0f(0x116)](_0x7d5c0f(0xc4))[_0x7d5c0f(0x1d8)]()),overlayG['append']('line')[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),_0x7d5c0f(0x1f0))[_0x7d5c0f(0xc7)]('x1',_0x400da1)['attr']('x2',_0x400da1)[_0x7d5c0f(0xc7)]('y1',0x0)['attr']('y2',_0x53563d),overlayG[_0x7d5c0f(0x1b1)](_0x7d5c0f(0x1ef))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),_0x7d5c0f(0x1f0))[_0x7d5c0f(0xc7)]('x1',0x0)[_0x7d5c0f(0xc7)]('x2',_0x400da1)[_0x7d5c0f(0xc7)]('y1',_0x53563d)['attr']('y2',_0x53563d);const _0x351bbd=contentG[_0x7d5c0f(0x1b9)]('.c')[_0x7d5c0f(0x151)](_0x415680)['enter']()[_0x7d5c0f(0x1b1)]('g');_0x351bbd['append'](_0x7d5c0f(0x1ef))['attr'](_0x7d5c0f(0x224),_0x3ce3b1=>_0x3ce3b1['close']>_0x3ce3b1[_0x7d5c0f(0x1aa)]?_0x7d5c0f(0x211):_0x7d5c0f(0x11e))['attr']('x1',_0x3939ed=>xScale(_0x3939ed[_0x7d5c0f(0x14b)])+xScale[_0x7d5c0f(0x1dd)]()/0x2)[_0x7d5c0f(0xc7)]('x2',_0xd91c37=>xScale(_0xd91c37['time'])+xScale[_0x7d5c0f(0x1dd)]()/0x2)[_0x7d5c0f(0xc7)]('y1',_0x230caf=>yScale(_0x230caf[_0x7d5c0f(0xe1)]))[_0x7d5c0f(0xc7)]('y2',_0x3abee0=>yScale(_0x3abee0[_0x7d5c0f(0xd6)])),_0x351bbd[_0x7d5c0f(0x1b1)](_0x7d5c0f(0xee))[_0x7d5c0f(0xc7)]('fill',_0x394434=>_0x394434[_0x7d5c0f(0x130)]>_0x394434[_0x7d5c0f(0x1aa)]?'#26a69a':_0x7d5c0f(0x11e))[_0x7d5c0f(0xc7)]('x',_0x2cc08f=>xScale(_0x2cc08f[_0x7d5c0f(0x14b)]))[_0x7d5c0f(0xc7)]('y',_0x3c3d88=>yScale(Math[_0x7d5c0f(0x14f)](_0x3c3d88[_0x7d5c0f(0x1aa)],_0x3c3d88['close'])))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x110),xScale['bandwidth']())[_0x7d5c0f(0xc7)](_0x7d5c0f(0x120),_0x473364=>Math[_0x7d5c0f(0x14f)](0x1,Math[_0x7d5c0f(0x16d)](yScale(_0x473364[_0x7d5c0f(0x1aa)])-yScale(_0x473364['close']))));const _0x5198a1=xScale[_0x7d5c0f(0x223)](),_0x244686=+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x12e))[_0x7d5c0f(0x1af)],_0x36a7c3=+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x19a))[_0x7d5c0f(0x1af)],_0x36bc39=candles[_0x7d5c0f(0x235)]?candles[candles[_0x7d5c0f(0x235)]-0x1][_0x7d5c0f(0x130)]:0x0;if(_0x244686&&_0x36a7c3&&activeTradeStartTime){let _0x1a1c0a=findXByTime(activeTradeStartTime,_0x5198a1),_0x56b9d7=_0x400da1-xScale[_0x7d5c0f(0x1dd)]();if(_0x1a1c0a===undefined&&_0x5198a1[_0x7d5c0f(0x235)]>0x0&&activeTradeStartTime<_0x5198a1[0x0])_0x1a1c0a=0x0;if(_0x1a1c0a!==undefined){const _0x15108e=yScale(_0x244686),_0x42f961=yScale(_0x36bc39);contentG[_0x7d5c0f(0x1b1)](_0x7d5c0f(0xee))[_0x7d5c0f(0xc7)]('x',Math[_0x7d5c0f(0x1e3)](_0x1a1c0a,_0x56b9d7))[_0x7d5c0f(0xc7)]('y',Math[_0x7d5c0f(0x1e3)](_0x15108e,_0x42f961))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x110),Math[_0x7d5c0f(0x16d)](_0x56b9d7-_0x1a1c0a)+xScale[_0x7d5c0f(0x1dd)]())['attr'](_0x7d5c0f(0x120),Math[_0x7d5c0f(0x14f)](0x2,Math[_0x7d5c0f(0x16d)](_0x42f961-_0x15108e)))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x217),(currentSide===_0x7d5c0f(0x1b2)?_0x36bc39>=_0x244686:_0x36bc39<=_0x244686)?'#26a69a':_0x7d5c0f(0x11e))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x1ab),0.3);}}if(isDcaOrderActive&&+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x144))[_0x7d5c0f(0x1af)]){const _0x74ee74=yScale(+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x144))['value']);contentG[_0x7d5c0f(0x1b1)]('line')['attr'](_0x7d5c0f(0x22b),_0x7d5c0f(0x1ba))[_0x7d5c0f(0xc7)]('x1',0x0)['attr']('x2',_0x400da1)[_0x7d5c0f(0xc7)]('y1',_0x74ee74)[_0x7d5c0f(0xc7)]('y2',_0x74ee74)['attr'](_0x7d5c0f(0x224),_0x7d5c0f(0x103))['attr'](_0x7d5c0f(0x182),0x2)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x12a),_0x7d5c0f(0x13f))[_0x7d5c0f(0x1fb)](d3['drag']()['on'](_0x7d5c0f(0x113),_0x479bd7=>{const _0x217dd6=_0x7d5c0f,[_0x27abe5,_0x145b9f]=d3[_0x217dd6(0x1a7)](_0x479bd7,mainG[_0x217dd6(0x1b7)]()),_0x2e862d=yScale[_0x217dd6(0x115)](Math[_0x217dd6(0x14f)](0x0,Math['min'](_0x53563d,_0x145b9f)));document[_0x217dd6(0x1bf)](_0x217dd6(0x144))[_0x217dd6(0x1af)]=_0x2e862d[_0x217dd6(0x138)](_0x2e862d<0x1?0x4:0x2),update();}));}if(isPartialOrderActive&&+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x176))['value']){const _0x306b9a=yScale(+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x176))[_0x7d5c0f(0x1af)]);contentG[_0x7d5c0f(0x1b1)](_0x7d5c0f(0x1ef))['attr'](_0x7d5c0f(0x22b),_0x7d5c0f(0x1ba))[_0x7d5c0f(0xc7)]('x1',0x0)[_0x7d5c0f(0xc7)]('x2',_0x400da1)[_0x7d5c0f(0xc7)]('y1',_0x306b9a)[_0x7d5c0f(0xc7)]('y2',_0x306b9a)[_0x7d5c0f(0xc7)]('stroke',_0x7d5c0f(0x211))[_0x7d5c0f(0xc7)]('stroke-width',0x2)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x12a),_0x7d5c0f(0x13f))['call'](d3['drag']()['on']('drag',_0x56c101=>{const _0x139d98=_0x7d5c0f,[_0x207cb8,_0x381c66]=d3[_0x139d98(0x1a7)](_0x56c101,mainG[_0x139d98(0x1b7)]()),_0x55b78b=yScale[_0x139d98(0x115)](Math['max'](0x0,Math[_0x139d98(0x1e3)](_0x53563d,_0x381c66)));document[_0x139d98(0x1bf)]('partialPrice')[_0x139d98(0x1af)]=_0x55b78b[_0x139d98(0x138)](_0x55b78b<0x1?0x4:0x2),update();}));}dcaLines['forEach'](_0x3c4aac=>{const _0x219760=_0x7d5c0f,_0x41f006=yScale(_0x3c4aac);if(_0x41f006>=0x0&&_0x41f006<=_0x53563d)contentG['append']('line')[_0x219760(0xc7)]('x1',0x0)[_0x219760(0xc7)]('x2',_0x400da1)['attr']('y1',_0x41f006)['attr']('y2',_0x41f006)[_0x219760(0xc7)](_0x219760(0x224),_0x219760(0x103))[_0x219760(0xc7)](_0x219760(0x182),0x1)['attr'](_0x219760(0x12a),_0x219760(0xd1));}),closeLines[_0x7d5c0f(0xe5)](_0x153b3e=>{const _0x5dbfe4=_0x7d5c0f,_0x240a57=yScale(_0x153b3e[_0x5dbfe4(0x13a)]);_0x240a57>=0x0&&_0x240a57<=_0x53563d&&(contentG[_0x5dbfe4(0x1b1)](_0x5dbfe4(0x1ef))[_0x5dbfe4(0xc7)]('x1',0x0)['attr']('x2',_0x400da1)[_0x5dbfe4(0xc7)]('y1',_0x240a57)[_0x5dbfe4(0xc7)]('y2',_0x240a57)['attr'](_0x5dbfe4(0x224),'#26a69a')['attr']('stroke-width',0x1)['attr'](_0x5dbfe4(0x12a),_0x5dbfe4(0x201)),contentG['append']('text')['attr']('x',_0x400da1/0x2)[_0x5dbfe4(0xc7)]('y',_0x240a57-0x5)[_0x5dbfe4(0xc7)]('fill',_0x5dbfe4(0x211))[_0x5dbfe4(0xc7)](_0x5dbfe4(0x1ce),_0x5dbfe4(0x172))[_0x5dbfe4(0xc7)](_0x5dbfe4(0x137),_0x5dbfe4(0x1cf))[_0x5dbfe4(0xc7)]('text-anchor',_0x5dbfe4(0x222))['text'](''+(_0x153b3e[_0x5dbfe4(0x1ec)]>=0x0?'+':'')+_0x153b3e[_0x5dbfe4(0x1ec)][_0x5dbfe4(0x138)](0x2)));}),historyZones[_0x7d5c0f(0x181)](_0x29285f=>_0x29285f[_0x7d5c0f(0x143)]===currentSymbol)['forEach'](_0x442e34=>{const _0x45c4fc=_0x7d5c0f;let _0x29088d=findXByTime(_0x442e34['t1'],_0x5198a1),_0x4b07a8=findXByTime(_0x442e34['t2'],_0x5198a1);if(_0x29088d===undefined&&_0x5198a1[_0x45c4fc(0x235)]>0x0&&_0x442e34['t1']<_0x5198a1[0x0])_0x29088d=0x0;if(_0x4b07a8===undefined&&_0x5198a1[_0x45c4fc(0x235)]>0x0&&_0x442e34['t2']>_0x5198a1[_0x5198a1[_0x45c4fc(0x235)]-0x1])_0x4b07a8=_0x400da1-xScale['bandwidth']();if(_0x29088d!==undefined&&_0x4b07a8!==undefined){const _0x3050d9=yScale(_0x442e34['p1']),_0x51a8cf=yScale(_0x442e34['p2']),_0x24a180=parseFloat(_0x442e34['val'])>=0x0?_0x45c4fc(0x211):_0x45c4fc(0x11e);contentG['append']('rect')[_0x45c4fc(0xc7)]('x',Math[_0x45c4fc(0x1e3)](_0x29088d,_0x4b07a8))[_0x45c4fc(0xc7)]('y',Math[_0x45c4fc(0x1e3)](_0x3050d9,_0x51a8cf))[_0x45c4fc(0xc7)](_0x45c4fc(0x110),Math[_0x45c4fc(0x16d)](_0x4b07a8-_0x29088d)+xScale[_0x45c4fc(0x1dd)]())[_0x45c4fc(0xc7)](_0x45c4fc(0x120),Math[_0x45c4fc(0x14f)](0x2,Math['abs'](_0x51a8cf-_0x3050d9)))[_0x45c4fc(0xc7)](_0x45c4fc(0x217),_0x24a180)[_0x45c4fc(0xc7)]('opacity',0.3);const _0x218acf=overlayG[_0x45c4fc(0x1b1)]('g')[_0x45c4fc(0xc7)]('transform','translate('+Math[_0x45c4fc(0x1e3)](_0x29088d,_0x4b07a8)+',\x20'+(Math[_0x45c4fc(0x1e3)](_0x3050d9,_0x51a8cf)-0xa)+')');_0x218acf[_0x45c4fc(0x1b1)](_0x45c4fc(0x1a3))[_0x45c4fc(0xc7)]('fill',parseFloat(_0x442e34[_0x45c4fc(0x1d4)])>=0x0?_0x45c4fc(0x211):'#ef5350')['attr']('font-size',_0x45c4fc(0x172))[_0x45c4fc(0xc7)](_0x45c4fc(0x137),_0x45c4fc(0x1cf))['text'](''+(parseFloat(_0x442e34[_0x45c4fc(0x1d4)])>0x0?'+':'')+_0x442e34[_0x45c4fc(0x1d4)]),_0x218acf['append'](_0x45c4fc(0x1a3))[_0x45c4fc(0xc7)]('x',0x32)[_0x45c4fc(0xc7)]('fill',_0x45c4fc(0x11e))[_0x45c4fc(0xc7)]('cursor',_0x45c4fc(0x1a7))[_0x45c4fc(0x1a3)](_0x45c4fc(0x231))['on']('click',()=>{const _0x27f343=_0x45c4fc;historyZones=historyZones[_0x27f343(0x181)](_0x2a9162=>_0x2a9162['id']!==_0x442e34['id']),localStorage[_0x27f343(0x147)](_0x27f343(0x198),JSON[_0x27f343(0x1c9)](historyZones)),update();});}});if(hStep===0x1&&mousePos&&hTemp){const _0x5550af=findXByTime(hTemp['t1'],_0x5198a1)||0x0,_0x4df36c=mousePos['x'],_0x52bcb3=yScale(hTemp['p1']),_0x5ebe80=mousePos['y'];contentG['append'](_0x7d5c0f(0xee))[_0x7d5c0f(0xc7)]('x',Math[_0x7d5c0f(0x1e3)](_0x5550af,_0x4df36c))['attr']('y',Math[_0x7d5c0f(0x1e3)](_0x52bcb3,_0x5ebe80))['attr']('width',Math['abs'](_0x4df36c-_0x5550af))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x120),Math[_0x7d5c0f(0x14f)](0x2,Math[_0x7d5c0f(0x16d)](_0x5ebe80-_0x52bcb3)))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x217),yScale[_0x7d5c0f(0x115)](_0x5ebe80)>hTemp['p1']?_0x7d5c0f(0x211):_0x7d5c0f(0x11e))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x1ab),0.4);}if(candles['length']){const _0x2df38a=candles[candles[_0x7d5c0f(0x235)]-0x1],_0x29fceb=yScale(_0x2df38a[_0x7d5c0f(0x130)]),_0x103ca9=_0x2df38a['close']>=_0x2df38a[_0x7d5c0f(0x1aa)]?_0x7d5c0f(0x211):'#ef5350';contentG[_0x7d5c0f(0x1b1)](_0x7d5c0f(0x1ef))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x224),_0x103ca9)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x12a),_0x7d5c0f(0x13f))[_0x7d5c0f(0xc7)]('x1',0x0)[_0x7d5c0f(0xc7)]('x2',_0x400da1)['attr']('y1',_0x29fceb)[_0x7d5c0f(0xc7)]('y2',_0x29fceb);const _0x125776=overlayG[_0x7d5c0f(0x1b1)]('g')[_0x7d5c0f(0xc7)](_0x7d5c0f(0x100),_0x7d5c0f(0x1d5)+_0x400da1+',\x20'+(_0x29fceb-0x13)+')');_0x125776[_0x7d5c0f(0x1b1)](_0x7d5c0f(0xee))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x110),margin['right'])['attr'](_0x7d5c0f(0x120),0x26)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x217),_0x103ca9)['attr']('rx',0x3),_0x125776[_0x7d5c0f(0x1b1)](_0x7d5c0f(0x1a3))[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),'price-label-main')[_0x7d5c0f(0xc7)]('x',margin[_0x7d5c0f(0x229)]/0x2)[_0x7d5c0f(0xc7)]('y',0x10)[_0x7d5c0f(0xc7)](_0x7d5c0f(0xc0),_0x7d5c0f(0x222))[_0x7d5c0f(0x1a3)](_0x2df38a[_0x7d5c0f(0x130)][_0x7d5c0f(0x138)](_0x2df38a[_0x7d5c0f(0x130)]<0x1?0x4:0x2)),_0x125776['append']('text')[_0x7d5c0f(0xc7)](_0x7d5c0f(0x22b),'price-label-timer')[_0x7d5c0f(0xc7)]('x',margin[_0x7d5c0f(0x229)]/0x2)[_0x7d5c0f(0xc7)]('y',0x20)[_0x7d5c0f(0xc7)]('text-anchor',_0x7d5c0f(0x222))[_0x7d5c0f(0x1a3)](getTimeLeft());}drawLevel(_0x7d5c0f(0x12e),_0x7d5c0f(0x103),(i18n[currentLang]||i18n['en'])[_0x7d5c0f(0x155)][_0x7d5c0f(0xd4)]('\x20')[0x0][_0x7d5c0f(0xec)](),_0x400da1,+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x12e))['value']),drawLevel(_0x7d5c0f(0x19a),_0x7d5c0f(0x211),'TP',_0x400da1,+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x19a))['value']);confirmedStopLossValue!==null&&drawLevel('stopLoss',_0x7d5c0f(0x11e),'SL',_0x400da1,confirmedStopLossValue);const _0x452386=+document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x126))['innerText'];if(_0x452386>0x0){const _0x10b955=yScale(_0x452386);_0x10b955>=0x0&&_0x10b955<=_0x53563d&&contentG[_0x7d5c0f(0x1b1)](_0x7d5c0f(0x1ef))[_0x7d5c0f(0xc7)]('x1',0x0)['attr']('x2',_0x400da1)[_0x7d5c0f(0xc7)]('y1',_0x10b955)[_0x7d5c0f(0xc7)]('y2',_0x10b955)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x224),'#ff9800')[_0x7d5c0f(0xc7)]('stroke-width',0x2)[_0x7d5c0f(0xc7)](_0x7d5c0f(0x12a),_0x7d5c0f(0xd1));}document[_0x7d5c0f(0x1bf)](_0x7d5c0f(0x1c3))[_0x7d5c0f(0x209)]=historyZones[_0x7d5c0f(0x1b6)]((_0x570f12,_0x448f84)=>_0x570f12+(parseFloat(_0x448f84['val'])||0x0),0x0)['toFixed'](0x2),renderCrosshair(_0x400da1,_0x53563d);}function renderCrosshair(_0x4782f0,_0x4aef82){const _0x189acc=_0x1da572;crosshairG[_0x189acc(0x1b9)]('*')[_0x189acc(0x1d8)]();if(!mousePos)return;const {x:_0x3f7f95,y:_0x39085a}=mousePos;if(_0x3f7f95<0x0||_0x3f7f95>_0x4782f0||_0x39085a<0x0||_0x39085a>_0x4aef82)return;crosshairG[_0x189acc(0x1b1)](_0x189acc(0x1ef))[_0x189acc(0xc7)](_0x189acc(0x22b),'crosshair-line')[_0x189acc(0xc7)]('x1',_0x3f7f95)[_0x189acc(0xc7)]('x2',_0x3f7f95)[_0x189acc(0xc7)]('y1',0x0)[_0x189acc(0xc7)]('y2',_0x4aef82),crosshairG[_0x189acc(0x1b1)](_0x189acc(0x1ef))['attr']('class',_0x189acc(0xca))['attr']('x1',0x0)[_0x189acc(0xc7)]('x2',_0x4782f0)[_0x189acc(0xc7)]('y1',_0x39085a)[_0x189acc(0xc7)]('y2',_0x39085a);const _0x15c2bd=crosshairG[_0x189acc(0x1b1)]('g')[_0x189acc(0xc7)]('transform','translate('+_0x4782f0+',\x20'+(_0x39085a-0xd)+')'),_0x53333c=yScale[_0x189acc(0x115)](_0x39085a);_0x15c2bd[_0x189acc(0x1b1)]('rect')['attr'](_0x189acc(0x22b),'crosshair-label-bg')['attr'](_0x189acc(0x110),margin['right'])['attr'](_0x189acc(0x120),0x1a)[_0x189acc(0xc7)]('rx',0x3),_0x15c2bd[_0x189acc(0x1b1)](_0x189acc(0x1a3))[_0x189acc(0xc7)]('class',_0x189acc(0xcd))[_0x189acc(0xc7)]('x',margin[_0x189acc(0x229)]/0x2)[_0x189acc(0xc7)]('y',0x11)[_0x189acc(0x1a3)](_0x53333c[_0x189acc(0x138)](_0x53333c<0x1?0x4:0x2));const _0x533e84=xScale[_0x189acc(0x223)](),_0x1c0d20=xScale['step'](),_0x56de0f=Math['floor'](_0x3f7f95/_0x1c0d20),_0x10fd07=_0x533e84[_0x56de0f];if(_0x10fd07){const _0x3026c7=new Date(_0x10fd07),_0x1d3ade=_0x3026c7['toLocaleDateString']([],{'day':'2-digit','month':_0x189acc(0xf5)}),_0x4f74af=_0x3026c7[_0x189acc(0x18d)]([],{'hour':_0x189acc(0xf5),'minute':'2-digit'}),_0x44b859=_0x1d3ade+'\x20'+_0x4f74af,_0x590020=crosshairG[_0x189acc(0x1b1)]('g')['attr'](_0x189acc(0x100),_0x189acc(0x1d5)+(_0x3f7f95-0x2d)+',\x20'+_0x4aef82+')');_0x590020[_0x189acc(0x1b1)](_0x189acc(0xee))[_0x189acc(0xc7)](_0x189acc(0x22b),'crosshair-label-bg')[_0x189acc(0xc7)](_0x189acc(0x110),0x5a)[_0x189acc(0xc7)](_0x189acc(0x120),0x1a)[_0x189acc(0xc7)]('rx',0x3),_0x590020[_0x189acc(0x1b1)](_0x189acc(0x1a3))[_0x189acc(0xc7)](_0x189acc(0x22b),'crosshair-label-text')[_0x189acc(0xc7)]('x',0x2d)[_0x189acc(0xc7)]('y',0x11)['text'](_0x44b859);}}function drawLevel(_0x31f05b,_0x85a5ac,_0x29ccf6,_0x317612,_0x4b0e07){const _0x2d3fb3=_0x1da572;if(!_0x4b0e07)return;const _0x4c2df9=yScale(_0x4b0e07),_0x47c5f1=overlayG[_0x2d3fb3(0x1b1)]('g');_0x47c5f1['append'](_0x2d3fb3(0x1ef))[_0x2d3fb3(0xc7)]('x1',0x0)[_0x2d3fb3(0xc7)]('x2',_0x317612)[_0x2d3fb3(0xc7)]('y1',_0x4c2df9)['attr']('y2',_0x4c2df9)[_0x2d3fb3(0xd2)]('stroke',_0x2d3fb3(0x16f))[_0x2d3fb3(0xd2)](_0x2d3fb3(0x182),_0x2d3fb3(0x214))['style'](_0x2d3fb3(0x179),_0x2d3fb3(0xe8))[_0x2d3fb3(0x1fb)](d3[_0x2d3fb3(0x113)]()['on'](_0x2d3fb3(0x113),_0x1419fc=>{const _0x319ebd=_0x2d3fb3,[_0x234e09,_0x359893]=d3[_0x319ebd(0x1a7)](_0x1419fc,mainG[_0x319ebd(0x1b7)]()),_0x9a4f9b=svg['node']()[_0x319ebd(0x10e)]()['height']-margin[_0x319ebd(0x178)]-margin[_0x319ebd(0x106)],_0x481fbe=yScale[_0x319ebd(0x115)](Math[_0x319ebd(0x14f)](0x0,Math[_0x319ebd(0x1e3)](_0x9a4f9b,_0x359893))),_0x4c5109=_0x481fbe['toFixed'](_0x481fbe<0x1?0x4:0x2);document[_0x319ebd(0x1bf)](_0x31f05b)[_0x319ebd(0x1af)]=_0x4c5109;if(_0x31f05b===_0x319ebd(0x1d2))confirmedStopLossValue=+_0x4c5109;calculateAll();})),_0x47c5f1[_0x2d3fb3(0x1b1)](_0x2d3fb3(0x1ef))['attr']('class','price-line')[_0x2d3fb3(0xc7)]('x1',0x0)[_0x2d3fb3(0xc7)]('x2',_0x317612)[_0x2d3fb3(0xc7)]('y1',_0x4c2df9)[_0x2d3fb3(0xc7)]('y2',_0x4c2df9)[_0x2d3fb3(0xc7)](_0x2d3fb3(0x224),_0x85a5ac)[_0x2d3fb3(0xd2)](_0x2d3fb3(0x182),_0x2d3fb3(0x1de))['style'](_0x2d3fb3(0x12d),_0x2d3fb3(0x16c)),_0x47c5f1[_0x2d3fb3(0x1b1)](_0x2d3fb3(0x1a3))[_0x2d3fb3(0xc7)]('class',_0x2d3fb3(0x15b))['attr']('x',_0x317612+0x5)[_0x2d3fb3(0xc7)]('y',_0x4c2df9+0x4)['attr'](_0x2d3fb3(0x217),_0x85a5ac)['text'](_0x29ccf6);}svg['on'](_0x1da572(0x117),_0x21f467=>{const _0x104d3e=_0x1da572,_0x7700dc=svg['node']()['getBoundingClientRect'](),_0x4ef3df=_0x21f467['clientX']-_0x7700dc[_0x104d3e(0xb7)]-margin['left'],_0x1b99a6=_0x21f467[_0x104d3e(0x11f)]-_0x7700dc[_0x104d3e(0x178)]-margin[_0x104d3e(0x178)];if(isSLMode){const _0x2a3671=yScale[_0x104d3e(0x115)](_0x1b99a6);if(slStep===0x0)document[_0x104d3e(0x1bf)](_0x104d3e(0x12e))[_0x104d3e(0x1af)]=_0x2a3671[_0x104d3e(0x138)](_0x2a3671<0x1?0x4:0x2),slStep=0x1;else slStep===0x1&&(document[_0x104d3e(0x1bf)](_0x104d3e(0x19a))[_0x104d3e(0x1af)]=_0x2a3671[_0x104d3e(0x138)](_0x2a3671<0x1?0x4:0x2),toggleSLMode());calculateAll();}else{if(isHMode){const _0x1b9234=yScale[_0x104d3e(0x115)](_0x1b99a6),_0x398451=xScale[_0x104d3e(0x223)](),_0x5d491c=Math[_0x104d3e(0xf0)](_0x4ef3df/xScale[_0x104d3e(0x197)]()),_0x4852ee=_0x398451[_0x5d491c]||_0x398451[_0x398451[_0x104d3e(0x235)]-0x1];if(hStep===0x0)hTemp={'t1':_0x4852ee,'p1':_0x1b9234},hStep=0x1;else{const _0x3cb172=prompt((i18n[currentLang]||i18n['en'])[_0x104d3e(0x22a)],'0');_0x3cb172!==null&&(historyZones[_0x104d3e(0xc2)]({'id':Date['now'](),'symbol':currentSymbol,'t1':hTemp['t1'],'p1':hTemp['p1'],'t2':_0x4852ee,'p2':_0x1b9234,'val':_0x3cb172[_0x104d3e(0x216)](',','.')}),localStorage['setItem'](_0x104d3e(0x198),JSON[_0x104d3e(0x1c9)](historyZones))),hStep=0x0,hTemp=null,isHMode=![],hBtn[_0x104d3e(0x194)][_0x104d3e(0x1d8)](_0x104d3e(0x1cc)),update();}}}}),svg['on'](_0x1da572(0x161),_0x54d0f8=>{const _0x2d6274=_0x1da572,_0x32107d=svg[_0x2d6274(0x1b7)]()[_0x2d6274(0x10e)]();mousePos={'x':_0x54d0f8[_0x2d6274(0x1ac)]-_0x32107d[_0x2d6274(0xb7)]-margin[_0x2d6274(0xb7)],'y':_0x54d0f8[_0x2d6274(0x11f)]-_0x32107d[_0x2d6274(0x178)]-margin[_0x2d6274(0x178)]};if(isSLMode&&slStep===0x1){const _0x2cd5b1=+document[_0x2d6274(0x1bf)](_0x2d6274(0x12e))[_0x2d6274(0x1af)],_0x5477a0=yScale[_0x2d6274(0x115)](mousePos['y']);if(_0x5477a0>_0x2cd5b1&&currentSide!==_0x2d6274(0x1b2))setSide(_0x2d6274(0x1b2));else{if(_0x5477a0<_0x2cd5b1&&currentSide!=='short')setSide(_0x2d6274(0x163));}document[_0x2d6274(0x1bf)](_0x2d6274(0x19a))[_0x2d6274(0x1af)]=_0x5477a0[_0x2d6274(0x138)](_0x5477a0<0x1?0x4:0x2),calculateAll();}else update();})['on']('mouseleave',()=>{const _0x81ae=_0x1da572;mousePos=null,crosshairG[_0x81ae(0x1b9)]('*')[_0x81ae(0x1d8)]();}),svg['on'](_0x1da572(0x1bc),_0x2874d9=>{const _0x3ad84d=_0x1da572;!_0x2874d9[_0x3ad84d(0x18f)]['classList'][_0x3ad84d(0x174)](_0x3ad84d(0x1ba))&&_0x2874d9[_0x3ad84d(0x18f)][_0x3ad84d(0xd2)][_0x3ad84d(0x224)]!==_0x3ad84d(0x16f)&&(isDragging=!![],lastMouse={'x':_0x2874d9[_0x3ad84d(0x1ac)],'y':_0x2874d9['clientY']},svg[_0x3ad84d(0x123)]('grabbing',!![]));});function _0x38db(_0x47578a,_0x24deea){_0x47578a=_0x47578a-0xb6;const _0xa8875c=_0xa887();let _0x38db80=_0xa8875c[_0x47578a];return _0x38db80;}const handleMove=(_0xef6a0f,_0x25b5ce,_0x427e16)=>{const _0x4584a3=_0x1da572;if(!isDragging||isSLMode||isHMode)return;if(_0x427e16&&_0x427e16[_0x4584a3(0x235)]===0x2){const _0x3e4766=Math[_0x4584a3(0x16d)](_0x427e16[0x0][_0x4584a3(0x1ac)]-_0x427e16[0x1][_0x4584a3(0x1ac)]);if(initialPinchDist===null)initialPinchDist=_0x3e4766;else{const _0x45f508=initialPinchDist-_0x3e4766;Math[_0x4584a3(0x16d)](_0x45f508)>0x5&&(visibleCount=Math[_0x4584a3(0x14f)](0x5,Math[_0x4584a3(0x1e3)](0x384,visibleCount+(_0x45f508>0x0?0x2:-0x2))),initialPinchDist=_0x3e4766,update());}return;}if(isPriceScaling&&window[_0x4584a3(0x236)]<=0x300){const _0x40620f=_0x25b5ce-lastMouse['y'],_0x1c0b41=yDomain[0x1]-yDomain[0x0],_0x3b4170=_0x40620f*0.005;yDomain=[yDomain[0x0]-_0x1c0b41*_0x3b4170,yDomain[0x1]+_0x1c0b41*_0x3b4170],lastMouse['y']=_0x25b5ce,update();return;}const _0x3dae16=_0xef6a0f-lastMouse['x'],_0x56ffdf=_0x25b5ce-lastMouse['y'];Math[_0x4584a3(0x16d)](_0x3dae16)>1.5&&(scrollOffset=Math[_0x4584a3(0x1e3)](candles[_0x4584a3(0x235)]-0x5,scrollOffset+Math[_0x4584a3(0x167)](_0x3dae16/0x8)),lastMouse['x']=_0xef6a0f);const _0x1beb37=yScale[_0x4584a3(0x115)](0x0)-yScale[_0x4584a3(0x115)](_0x56ffdf);yDomain=[yDomain[0x0]+_0x1beb37,yDomain[0x1]+_0x1beb37],lastMouse['y']=_0x25b5ce,update();};window['addEventListener']('mousemove',_0xecbe04=>handleMove(_0xecbe04[_0x1da572(0x1ac)],_0xecbe04[_0x1da572(0x11f)])),svg['on'](_0x1da572(0x14e),_0x4c50e9=>{const _0x199849=_0x1da572,_0x291062=_0x4c50e9[_0x199849(0x1f1)],_0x46d143=svg[_0x199849(0x1b7)]()['getBoundingClientRect'](),_0x1e6380=_0x291062[0x0][_0x199849(0x1ac)]-_0x46d143[_0x199849(0xb7)]-margin[_0x199849(0xb7)],_0x498e22=_0x46d143['width']-margin[_0x199849(0xb7)]-margin[_0x199849(0x229)];if(_0x4c50e9[_0x199849(0x18f)][_0x199849(0x194)][_0x199849(0x174)](_0x199849(0x1ba))||_0x4c50e9[_0x199849(0x18f)][_0x199849(0xd2)][_0x199849(0x224)]===_0x199849(0x16f)){isDragging=![];return;}isDragging=!![],lastMouse={'x':_0x291062[0x0][_0x199849(0x1ac)],'y':_0x291062[0x0][_0x199849(0x11f)]};if(_0x291062['length']===0x2)initialPinchDist=Math[_0x199849(0x16d)](_0x291062[0x0][_0x199849(0x1ac)]-_0x291062[0x1]['clientX']);else{if(window[_0x199849(0x236)]<=0x300&&_0x1e6380>_0x498e22)isPriceScaling=!![];else isPriceScaling=![];}}),window[_0x1da572(0x114)](_0x1da572(0x1a5),_0x10e539=>{const _0x533e1c=_0x1da572;if(isDragging||_0x10e539[_0x533e1c(0x1f1)][_0x533e1c(0x235)]===0x2)handleMove(_0x10e539[_0x533e1c(0x1f1)][0x0]['clientX'],_0x10e539[_0x533e1c(0x1f1)][0x0]['clientY'],_0x10e539[_0x533e1c(0x1f1)]);},{'passive':![]}),window[_0x1da572(0x114)](_0x1da572(0xd9),()=>{isDragging=![],isPriceScaling=![],initialPinchDist=null;}),window[_0x1da572(0x114)]('mouseup',()=>{isDragging=![],isPriceScaling=![];}),svg['on'](_0x1da572(0x122),_0x4ffba4=>{const _0xccadb1=_0x1da572;_0x4ffba4['preventDefault']();const _0x1d6e7a=svg[_0xccadb1(0x1b7)]()['getBoundingClientRect']();if(_0x4ffba4[_0xccadb1(0x1ac)]-_0x1d6e7a[_0xccadb1(0xb7)]>_0x1d6e7a[_0xccadb1(0x110)]-margin['right']){const _0x3d715d=yDomain[0x1]-yDomain[0x0],_0x46782f=_0x4ffba4['deltaY']*0.0008;yDomain=[yDomain[0x0]-_0x3d715d*_0x46782f,yDomain[0x1]+_0x3d715d*_0x46782f];}else visibleCount=Math[_0xccadb1(0x14f)](0x5,Math[_0xccadb1(0x1e3)](0x384,visibleCount+(_0x4ffba4['deltaY']>0x0?0x5:-0x5)));update();}),initSymbols(),loadData(!![])[_0x1da572(0x124)](()=>{applyLanguage(),calculateAll();}),setInterval(()=>loadData(![]),0xbb8);        
</script>
</body>
</html>